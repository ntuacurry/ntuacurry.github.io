<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>C# learning</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="hello_files/libs/clipboard/clipboard.min.js"></script>
<script src="hello_files/libs/quarto-html/quarto.js"></script>
<script src="hello_files/libs/quarto-html/popper.min.js"></script>
<script src="hello_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="hello_files/libs/quarto-html/anchor.min.js"></script>
<link href="hello_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="hello_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="hello_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="hello_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="hello_files/libs/bootstrap/bootstrap-c0367b04c37547644fece4185067e4a7.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Quarto Basics</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="目錄" class="level2">
<h2 class="anchored" data-anchor-id="目錄">目錄</h2>
<ol type="1">
<li><a href="#簡介">簡介</a></li>
<li><a href="#環境設置">環境設置</a></li>
<li><a href="#基本語法">基本語法</a>
<ul>
<li><a href="#變數與數據類型">變數與數據類型</a></li>
<li><a href="#運算符">運算符</a></li>
<li><a href="#註釋">註釋</a></li>
<li><a href="#輸入與輸出">輸入與輸出</a></li>
</ul></li>
<li><a href="#流程控制">流程控制</a>
<ul>
<li><a href="#條件語句">條件語句</a></li>
<li><a href="#循環語句">循環語句</a></li>
</ul></li>
<li><a href="#集合類型">集合類型</a>
<ul>
<li><a href="#數組列表">數組/列表</a></li>
<li><a href="#字典哈希表">字典/哈希表</a></li>
<li><a href="#元組">元組</a></li>
<li><a href="#集合">集合</a></li>
</ul></li>
<li><a href="#函數">函數</a>
<ul>
<li><a href="#函數定義與調用">函數定義與調用</a></li>
<li><a href="#參數傳遞">參數傳遞</a></li>
<li><a href="#返回值">返回值</a></li>
<li><a href="#lambda表達式">lambda表達式</a></li>
</ul></li>
<li><a href="#異常處理">異常處理</a></li>
<li><a href="#物件導向程式設計">物件導向程式設計</a>
<ul>
<li><a href="#類的定義">類的定義</a></li>
<li><a href="#繼承">繼承</a></li>
<li><a href="#多型">多型</a></li>
<li><a href="#封裝">封裝</a></li>
<li><a href="#抽象類與接口">抽象類與接口</a></li>
</ul></li>
<li><a href="#文件操作">文件操作</a></li>
<li><a href="#字符串處理">字符串處理</a></li>
<li><a href="#日期和時間">日期和時間</a></li>
<li><a href="#進階主題">進階主題</a>
<ul>
<li><a href="#linq與列表推導式">LINQ與列表推導式</a></li>
<li><a href="#非同步編程">非同步編程</a></li>
<li><a href="#事件與委託">事件與委託</a></li>
<li><a href="#泛型">泛型</a></li>
</ul></li>
<li><a href="#總結與資源">總結與資源</a></li>
</ol>
</section>
<section id="簡介" class="level2">
<h2 class="anchored" data-anchor-id="簡介">簡介</h2>
<p>本教材旨在為具備Python基礎知識的程式設計師提供快速學習C#的參考指南。通過對比Python與C#的語法差異和相似之處，您將能夠更高效地掌握C#程式設計。</p>
<p>Python和C#都是現代化的高級程式設計語言，但它們有著不同的設計哲學和應用場景：</p>
<ul>
<li><strong>Python</strong>：解釋型語言，動態類型，強調簡潔和可讀性，廣泛用於數據分析、人工智能、Web開發和自動化腳本等領域。</li>
<li><strong>C#</strong>：編譯型語言，靜態類型，由Microsoft開發，主要用於Windows應用程序開發、遊戲開發（Unity）、企業級應用和Web應用程序等。</li>
</ul>
<p>讓我們開始探索這兩種語言的差異和共同點。</p>
</section>
<section id="環境設置" class="level2">
<h2 class="anchored" data-anchor-id="環境設置">環境設置</h2>
<section id="python環境設置" class="level3">
<h3 class="anchored" data-anchor-id="python環境設置">Python環境設置</h3>
<p>Python可以在官方網站（python.org）下載安裝，安裝後即可在命令行中使用<code>python</code>命令運行程式：</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 創建一個簡單的Python程式 hello.py</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Hello, World!"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 在命令行中執行</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># python hello.py</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>Hello, World!</code></pre>
</section>
<section id="c環境設置" class="level3">
<h3 class="anchored" data-anchor-id="c環境設置">C#環境設置</h3>
<p>C#程式需要.NET環境，可以通過以下幾種方式設置：</p>
<ol type="1">
<li>安裝Visual Studio（推薦初學者）</li>
<li>安裝.NET SDK，使用命令行或Visual Studio Code開發</li>
</ol>
<p>一個簡單的C#程式：</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 創建一個簡單的C#程式 Program.cs</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="kw">namespace</span> HelloWorld</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> Program</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">(</span><span class="dt">string</span><span class="op">[]</span> args<span class="op">)</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"Hello, World!"</span><span class="op">);</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co">// 在命令行中編譯和執行</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="co">// dotnet new console -o HelloWorld</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="co">// cd HelloWorld</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="co">// dotnet run</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>Hello, World!</code></pre>
</section>
</section>
<section id="基本語法" class="level2">
<h2 class="anchored" data-anchor-id="基本語法">基本語法</h2>
<section id="變數與數據類型" class="level3">
<h3 class="anchored" data-anchor-id="變數與數據類型">變數與數據類型</h3>
<section id="python變數與數據類型" class="level4">
<h4 class="anchored" data-anchor-id="python變數與數據類型">Python變數與數據類型</h4>
<p>Python是動態類型語言，變數無需聲明類型，可以隨時更改類型。</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 變數定義</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> <span class="st">"小明"</span>      <span class="co"># 字串</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>age <span class="op">=</span> <span class="dv">25</span>          <span class="co"># 整數</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>height <span class="op">=</span> <span class="fl">175.5</span>    <span class="co"># 浮點數</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>is_student <span class="op">=</span> <span class="va">True</span> <span class="co"># 布林值</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 查看變數類型</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(name))</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(age))</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(height))</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(is_student))</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 動態變更類型</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"x是整數: </span><span class="sc">{</span>x<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="st">"現在是字串"</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"x現在是: </span><span class="sc">{</span>x<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>&lt;class 'str'&gt;
&lt;class 'int'&gt;
&lt;class 'float'&gt;
&lt;class 'bool'&gt;
x是整數: 10
x現在是: 現在是字串</code></pre>
</section>
<section id="c變數與數據類型" class="level4">
<h4 class="anchored" data-anchor-id="c變數與數據類型">C#變數與數據類型</h4>
<p>C#是靜態類型語言，變數必須聲明類型，且一旦確定，類型不能更改。</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 變數定義</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> name <span class="op">=</span> <span class="st">"小明"</span><span class="op">;</span>     <span class="co">// 字串</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> age <span class="op">=</span> <span class="dv">25</span><span class="op">;</span>            <span class="co">// 整數</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>        <span class="dt">double</span> height <span class="op">=</span> <span class="fl">175.5</span><span class="op">;</span>   <span class="co">// 浮點數</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>        <span class="dt">bool</span> isStudent <span class="op">=</span> <span class="kw">true</span><span class="op">;</span>   <span class="co">// 布林值</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 查看變數類型</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>name<span class="op">.</span><span class="fu">GetType</span><span class="op">());</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>age<span class="op">.</span><span class="fu">GetType</span><span class="op">());</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>height<span class="op">.</span><span class="fu">GetType</span><span class="op">());</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>isStudent<span class="op">.</span><span class="fu">GetType</span><span class="op">());</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 變更變數值但不能變更類型</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> x <span class="op">=</span> <span class="dv">10</span><span class="op">;</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"x是整數: {x}"</span><span class="op">);</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 以下會導致編譯錯誤</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>        <span class="co">// x = "現在是字串";  // 錯誤！</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 如果需要改變類型，需要定義新變數或使用var關鍵字</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> y <span class="op">=</span> <span class="dv">10</span><span class="op">;</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"y是整數: {y}"</span><span class="op">);</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>        <span class="co">// y = "現在是字串"; // 仍然錯誤！var只是類型推論，一旦確定不可更改</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 必須定義新變數</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> xAsString <span class="op">=</span> <span class="st">"現在是字串"</span><span class="op">;</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"新變數: {xAsString}"</span><span class="op">);</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>System.String
System.Int32
System.Double
System.Boolean
x是整數: 10
y是整數: 10
新變數: 現在是字串</code></pre>
</section>
<section id="基本數據類型對照" class="level4">
<h4 class="anchored" data-anchor-id="基本數據類型對照">基本數據類型對照</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Python類型</th>
<th>C#類型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>int</code></td>
<td><code>int</code>, <code>long</code></td>
<td>整數</td>
</tr>
<tr class="even">
<td><code>float</code></td>
<td><code>float</code>, <code>double</code>, <code>decimal</code></td>
<td>浮點數</td>
</tr>
<tr class="odd">
<td><code>str</code></td>
<td><code>string</code>, <code>char</code></td>
<td>字符串/字符</td>
</tr>
<tr class="even">
<td><code>bool</code></td>
<td><code>bool</code></td>
<td>布林值</td>
</tr>
<tr class="odd">
<td><code>bytes</code></td>
<td><code>byte[]</code></td>
<td>字節序列</td>
</tr>
<tr class="even">
<td><code>None</code></td>
<td><code>null</code></td>
<td>空值</td>
</tr>
<tr class="odd">
<td><code>list</code></td>
<td><code>List&lt;T&gt;</code></td>
<td>列表/數組</td>
</tr>
<tr class="even">
<td><code>tuple</code></td>
<td><code>Tuple&lt;T...&gt;</code>, <code>ValueTuple&lt;T...&gt;</code></td>
<td>元組</td>
</tr>
<tr class="odd">
<td><code>dict</code></td>
<td><code>Dictionary&lt;TKey, TValue&gt;</code></td>
<td>字典/哈希表</td>
</tr>
<tr class="even">
<td><code>set</code></td>
<td><code>HashSet&lt;T&gt;</code></td>
<td>集合</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="運算符" class="level3">
<h3 class="anchored" data-anchor-id="運算符">運算符</h3>
<section id="python運算符" class="level4">
<h4 class="anchored" data-anchor-id="python運算符">Python運算符</h4>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 算術運算符</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>a, b <span class="op">=</span> <span class="dv">10</span>, <span class="dv">3</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"加法: </span><span class="sc">{</span>a <span class="op">+</span> b<span class="sc">}</span><span class="ss">"</span>)         <span class="co"># 13</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"減法: </span><span class="sc">{</span>a <span class="op">-</span> b<span class="sc">}</span><span class="ss">"</span>)         <span class="co"># 7</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"乘法: </span><span class="sc">{</span>a <span class="op">*</span> b<span class="sc">}</span><span class="ss">"</span>)         <span class="co"># 30</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"除法: </span><span class="sc">{</span>a <span class="op">/</span> b<span class="sc">}</span><span class="ss">"</span>)         <span class="co"># 3.3333...</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"整數除法: </span><span class="sc">{</span>a <span class="op">//</span> b<span class="sc">}</span><span class="ss">"</span>)    <span class="co"># 3</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"取餘: </span><span class="sc">{</span>a <span class="op">%</span> b<span class="sc">}</span><span class="ss">"</span>)         <span class="co"># 1</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"次方: </span><span class="sc">{</span>a <span class="op">**</span> b<span class="sc">}</span><span class="ss">"</span>)        <span class="co"># 1000</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 比較運算符</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"等於: </span><span class="sc">{</span>a <span class="op">==</span> b<span class="sc">}</span><span class="ss">"</span>)        <span class="co"># False</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"不等於: </span><span class="sc">{</span>a <span class="op">!=</span> b<span class="sc">}</span><span class="ss">"</span>)      <span class="co"># True</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"大於: </span><span class="sc">{</span>a <span class="op">&gt;</span> b<span class="sc">}</span><span class="ss">"</span>)         <span class="co"># True</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"小於: </span><span class="sc">{</span>a <span class="op">&lt;</span> b<span class="sc">}</span><span class="ss">"</span>)         <span class="co"># False</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"大於等於: </span><span class="sc">{</span>a <span class="op">&gt;=</span> b<span class="sc">}</span><span class="ss">"</span>)    <span class="co"># True</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"小於等於: </span><span class="sc">{</span>a <span class="op">&lt;=</span> b<span class="sc">}</span><span class="ss">"</span>)    <span class="co"># False</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 邏輯運算符</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>x, y <span class="op">=</span> <span class="va">True</span>, <span class="va">False</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"and: </span><span class="sc">{</span>x <span class="kw">and</span> y<span class="sc">}</span><span class="ss">"</span>)        <span class="co"># False</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"or: </span><span class="sc">{</span>x <span class="kw">or</span> y<span class="sc">}</span><span class="ss">"</span>)          <span class="co"># True</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"not: </span><span class="sc">{</span><span class="kw">not</span> x<span class="sc">}</span><span class="ss">"</span>)          <span class="co"># False</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a><span class="co"># 賦值運算符</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>c <span class="op">+=</span> <span class="dv">3</span>  <span class="co"># c = c + 3</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"加法賦值: </span><span class="sc">{</span>c<span class="sc">}</span><span class="ss">"</span>)         <span class="co"># 8</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>c <span class="op">-=</span> <span class="dv">2</span>  <span class="co"># c = c - 2</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"減法賦值: </span><span class="sc">{</span>c<span class="sc">}</span><span class="ss">"</span>)         <span class="co"># 6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>加法: 13
減法: 7
乘法: 30
除法: 3.3333333333333335
整數除法: 3
取餘: 1
次方: 1000
等於: False
不等於: True
大於: True
小於: False
大於等於: True
小於等於: False
and: False
or: True
not: False
加法賦值: 8
減法賦值: 6</code></pre>
</section>
<section id="c運算符" class="level4">
<h4 class="anchored" data-anchor-id="c運算符">C#運算符</h4>
<div class="sourceCode" id="cb11"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 算術運算符</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> a <span class="op">=</span> <span class="dv">10</span><span class="op">,</span> b <span class="op">=</span> <span class="dv">3</span><span class="op">;</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"加法: {a + b}"</span><span class="op">);</span>         <span class="co">// 13</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"減法: {a - b}"</span><span class="op">);</span>         <span class="co">// 7</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"乘法: {a * b}"</span><span class="op">);</span>         <span class="co">// 30</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"除法: {(double)a / b}"</span><span class="op">);</span> <span class="co">// 3.3333...</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"整數除法: {a / b}"</span><span class="op">);</span>     <span class="co">// 3</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"取餘: {a % b}"</span><span class="op">);</span>         <span class="co">// 1</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"次方: {Math.Pow(a, b)}"</span><span class="op">);</span><span class="co">// 1000</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 比較運算符</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"等於: {a == b}"</span><span class="op">);</span>        <span class="co">// False</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"不等於: {a != b}"</span><span class="op">);</span>      <span class="co">// True</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"大於: {a &gt; b}"</span><span class="op">);</span>         <span class="co">// True</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"小於: {a &lt; b}"</span><span class="op">);</span>         <span class="co">// False</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"大於等於: {a &gt;= b}"</span><span class="op">);</span>    <span class="co">// True</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"小於等於: {a &lt;= b}"</span><span class="op">);</span>    <span class="co">// False</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 邏輯運算符</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>        <span class="dt">bool</span> x <span class="op">=</span> <span class="kw">true</span><span class="op">,</span> y <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"與: {x &amp;&amp; y}"</span><span class="op">);</span>          <span class="co">// False</span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"或: {x || y}"</span><span class="op">);</span>          <span class="co">// True</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"非: {!x}"</span><span class="op">);</span>              <span class="co">// False</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 賦值運算符</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> c <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>        c <span class="op">+=</span> <span class="dv">3</span><span class="op">;</span>  <span class="co">// c = c + 3</span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"加法賦值: {c}"</span><span class="op">);</span>         <span class="co">// 8</span></span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>        c <span class="op">-=</span> <span class="dv">2</span><span class="op">;</span>  <span class="co">// c = c - 2</span></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"減法賦值: {c}"</span><span class="op">);</span>         <span class="co">// 6</span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>加法: 13
減法: 7
乘法: 30
除法: 3.3333333333333335
整數除法: 3
取餘: 1
次方: 1000
等於: False
不等於: True
大於: True
小於: False
大於等於: True
小於等於: False
與: False
或: True
非: False
加法賦值: 8
減法賦值: 6</code></pre>
</section>
<section id="運算符對照表" class="level4">
<h4 class="anchored" data-anchor-id="運算符對照表">運算符對照表</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>操作</th>
<th>Python</th>
<th>C#</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>加法</td>
<td><code>+</code></td>
<td><code>+</code></td>
</tr>
<tr class="even">
<td>減法</td>
<td><code>-</code></td>
<td><code>-</code></td>
</tr>
<tr class="odd">
<td>乘法</td>
<td><code>*</code></td>
<td><code>*</code></td>
</tr>
<tr class="even">
<td>除法</td>
<td><code>/</code></td>
<td><code>/</code></td>
</tr>
<tr class="odd">
<td>整數除法</td>
<td><code>//</code></td>
<td><code>/</code>（當操作數為整數時）</td>
</tr>
<tr class="even">
<td>取餘</td>
<td><code>%</code></td>
<td><code>%</code></td>
</tr>
<tr class="odd">
<td>次方</td>
<td><code>**</code></td>
<td><code>Math.Pow()</code></td>
</tr>
<tr class="even">
<td>等於</td>
<td><code>==</code></td>
<td><code>==</code></td>
</tr>
<tr class="odd">
<td>不等於</td>
<td><code>!=</code></td>
<td><code>!=</code></td>
</tr>
<tr class="even">
<td>大於</td>
<td><code>&gt;</code></td>
<td><code>&gt;</code></td>
</tr>
<tr class="odd">
<td>小於</td>
<td><code>&lt;</code></td>
<td><code>&lt;</code></td>
</tr>
<tr class="even">
<td>大於等於</td>
<td><code>&gt;=</code></td>
<td><code>&gt;=</code></td>
</tr>
<tr class="odd">
<td>小於等於</td>
<td><code>&lt;=</code></td>
<td><code>&lt;=</code></td>
</tr>
<tr class="even">
<td>邏輯與</td>
<td><code>and</code></td>
<td><code>&amp;&amp;</code></td>
</tr>
<tr class="odd">
<td>邏輯或</td>
<td><code>or</code></td>
<td><code>\|\|</code></td>
</tr>
<tr class="even">
<td>邏輯非</td>
<td><code>not</code></td>
<td><code>!</code></td>
</tr>
<tr class="odd">
<td>位元與</td>
<td><code>&amp;</code></td>
<td><code>&amp;</code></td>
</tr>
<tr class="even">
<td>位元或</td>
<td><code>\|</code></td>
<td><code>\|</code></td>
</tr>
<tr class="odd">
<td>位元異或</td>
<td><code>^</code></td>
<td><code>^</code></td>
</tr>
<tr class="even">
<td>位元非</td>
<td><code>~</code></td>
<td><code>~</code></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="註釋" class="level3">
<h3 class="anchored" data-anchor-id="註釋">註釋</h3>
<section id="python註釋" class="level4">
<h4 class="anchored" data-anchor-id="python註釋">Python註釋</h4>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 這是單行註釋</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co">這是多行註釋</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co">用三個引號包裹</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co">可以跨越多行</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> sample_function():</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""這是函數的文檔字符串（docstring）</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co">    用於說明函數的功能、參數和返回值</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="c註釋" class="level4">
<h4 class="anchored" data-anchor-id="c註釋">C#註釋</h4>
<div class="sourceCode" id="cb14"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 這是單行註釋</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"> * 這是多行註釋</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"> * 用 /* 和 */</span> 包裹</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a> <span class="op">*</span> 可以跨越多行</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a> <span class="op">*/</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co">/// </span><span class="kw">&lt;summary&gt;</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="co">/// 這是XML文檔註釋</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="co">/// 用於生成API文檔</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co">/// </span><span class="kw">&lt;/summary&gt;</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="co">/// </span><span class="kw">&lt;param</span><span class="ot"> name=</span><span class="dt">"x"</span><span class="kw">&gt;</span><span class="co">參數x的說明</span><span class="kw">&lt;/param&gt;</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="co">/// </span><span class="kw">&lt;returns&gt;</span><span class="co">返回值的說明</span><span class="kw">&lt;/returns&gt;</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">int</span> <span class="fu">SampleFunction</span><span class="op">(</span><span class="dt">int</span> x<span class="op">)</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> x <span class="op">*</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="輸入與輸出" class="level3">
<h3 class="anchored" data-anchor-id="輸入與輸出">輸入與輸出</h3>
<section id="python輸入輸出" class="level4">
<h4 class="anchored" data-anchor-id="python輸入輸出">Python輸入輸出</h4>
<div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 輸出</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Hello, World!"</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> <span class="st">"小明"</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>age <span class="op">=</span> <span class="dv">25</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"姓名："</span> <span class="op">+</span> name <span class="op">+</span> <span class="st">"，年齡："</span> <span class="op">+</span> <span class="bu">str</span>(age))  <span class="co"># 連接字符串</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"姓名：</span><span class="sc">%s</span><span class="st">，年齡：</span><span class="sc">%d</span><span class="st">"</span> <span class="op">%</span> (name, age))      <span class="co"># %格式化</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"姓名：</span><span class="sc">{}</span><span class="st">，年齡：</span><span class="sc">{}</span><span class="st">"</span>.<span class="bu">format</span>(name, age))  <span class="co"># format方法</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"姓名：</span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">，年齡：</span><span class="sc">{</span>age<span class="sc">}</span><span class="ss">"</span>)           <span class="co"># f-string（推薦）</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 輸入</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>user_input <span class="op">=</span> <span class="bu">input</span>(<span class="st">"請輸入您的名字: "</span>)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"您好，</span><span class="sc">{</span>user_input<span class="sc">}</span><span class="ss">!"</span>)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 類型轉換</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>age_input <span class="op">=</span> <span class="bu">input</span>(<span class="st">"請輸入您的年齡: "</span>)</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>age <span class="op">=</span> <span class="bu">int</span>(age_input)  <span class="co"># 將字符串轉換為整數</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"明年您將會 </span><span class="sc">{</span>age <span class="op">+</span> <span class="dv">1</span><span class="sc">}</span><span class="ss"> 歲"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果（假設用戶輸入”張三”和”30”）：</strong></p>
<pre><code>Hello, World!
姓名：小明，年齡：25
姓名：小明，年齡：25
姓名：小明，年齡：25
姓名：小明，年齡：25
請輸入您的名字: 張三
您好，張三!
請輸入您的年齡: 30
明年您將會 31 歲</code></pre>
</section>
<section id="c輸入輸出" class="level4">
<h4 class="anchored" data-anchor-id="c輸入輸出">C#輸入輸出</h4>
<div class="sourceCode" id="cb17"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 輸出</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"Hello, World!"</span><span class="op">);</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> name <span class="op">=</span> <span class="st">"小明"</span><span class="op">;</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> age <span class="op">=</span> <span class="dv">25</span><span class="op">;</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"姓名："</span> <span class="op">+</span> name <span class="op">+</span> <span class="st">"，年齡："</span> <span class="op">+</span> age<span class="op">);</span>  <span class="co">// 連接字符串</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"姓名：{0}，年齡：{1}"</span><span class="op">,</span> name<span class="op">,</span> age<span class="op">);</span>   <span class="co">// 索引格式化</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"姓名：{name}，年齡：{age}"</span><span class="op">);</span>       <span class="co">// 字符串插值（推薦）</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 輸入</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">Write</span><span class="op">(</span><span class="st">"請輸入您的名字: "</span><span class="op">);</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> userInput <span class="op">=</span> Console<span class="op">.</span><span class="fu">ReadLine</span><span class="op">();</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"您好，{userInput}!"</span><span class="op">);</span></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 類型轉換</span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">Write</span><span class="op">(</span><span class="st">"請輸入您的年齡: "</span><span class="op">);</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> ageInput <span class="op">=</span> Console<span class="op">.</span><span class="fu">ReadLine</span><span class="op">();</span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> ageValue <span class="op">=</span> <span class="dt">int</span><span class="op">.</span><span class="fu">Parse</span><span class="op">(</span>ageInput<span class="op">);</span>  <span class="co">// 將字符串轉換為整數</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 更安全的轉換方式：</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>        <span class="co">// int ageValue;</span></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>        <span class="co">// if (int.TryParse(ageInput, out ageValue))</span></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>        <span class="co">// {</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>        <span class="co">//     Console.WriteLine($"明年您將會 {ageValue + 1} 歲");</span></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>        <span class="co">// }</span></span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>        <span class="co">// else</span></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>        <span class="co">// {</span></span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>        <span class="co">//     Console.WriteLine("輸入無效，請輸入數字");</span></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>        <span class="co">// }</span></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"明年您將會 {ageValue + 1} 歲"</span><span class="op">);</span></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果（假設用戶輸入”張三”和”30”）：</strong></p>
<pre><code>Hello, World!
姓名：小明，年齡：25
姓名：小明，年齡：25
姓名：小明，年齡：25
請輸入您的名字: 張三
您好，張三!
請輸入您的年齡: 30
明年您將會 31 歲</code></pre>
</section>
</section>
</section>
<section id="流程控制" class="level2">
<h2 class="anchored" data-anchor-id="流程控制">流程控制</h2>
<section id="條件語句" class="level3">
<h3 class="anchored" data-anchor-id="條件語句">條件語句</h3>
<section id="python條件語句" class="level4">
<h4 class="anchored" data-anchor-id="python條件語句">Python條件語句</h4>
<div class="sourceCode" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># if-elif-else</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> x <span class="op">&gt;</span> <span class="dv">10</span>:</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"x大於10"</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> x <span class="op">==</span> <span class="dv">10</span>:</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"x等於10"</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"x小於10"</span>)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 三元運算符</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>status <span class="op">=</span> <span class="st">"成年"</span> <span class="cf">if</span> x <span class="op">&gt;=</span> <span class="dv">18</span> <span class="cf">else</span> <span class="st">"未成年"</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(status)</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 邏輯運算短路</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> x <span class="op">&gt;</span> <span class="dv">5</span> <span class="kw">and</span> <span class="st">"x大於5"</span> <span class="kw">or</span> <span class="st">"x小於等於5"</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>x等於10
未成年
x大於5</code></pre>
</section>
<section id="c條件語句" class="level4">
<h4 class="anchored" data-anchor-id="c條件語句">C#條件語句</h4>
<div class="sourceCode" id="cb21"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>        <span class="co">// if-else if-else</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> x <span class="op">=</span> <span class="dv">10</span><span class="op">;</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>x <span class="op">&gt;</span> <span class="dv">10</span><span class="op">)</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"x大於10"</span><span class="op">);</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>        <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span>x <span class="op">==</span> <span class="dv">10</span><span class="op">)</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"x等於10"</span><span class="op">);</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>        <span class="kw">else</span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"x小於10"</span><span class="op">);</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 三元運算符</span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> status <span class="op">=</span> x <span class="op">&gt;=</span> <span class="dv">18</span> <span class="op">?</span> <span class="st">"成年"</span> <span class="op">:</span> <span class="st">"未成年"</span><span class="op">;</span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>status<span class="op">);</span></span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 邏輯運算短路</span></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> result <span class="op">=</span> x <span class="op">&gt;</span> <span class="dv">5</span> <span class="op">?</span> <span class="st">"x大於5"</span> <span class="op">:</span> <span class="st">"x小於等於5"</span><span class="op">;</span></span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>result<span class="op">);</span></span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a>        <span class="co">// switch語句</span></span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a>        <span class="kw">switch</span> <span class="op">(</span>x<span class="op">)</span></span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a>            <span class="kw">case</span> <span class="dv">5</span><span class="op">:</span></span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"x是5"</span><span class="op">);</span></span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a>                <span class="kw">break</span><span class="op">;</span></span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a>            <span class="kw">case</span> <span class="dv">10</span><span class="op">:</span></span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"x是10"</span><span class="op">);</span></span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a>                <span class="kw">break</span><span class="op">;</span></span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a>            <span class="kw">default</span><span class="op">:</span></span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"x是其他值"</span><span class="op">);</span></span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a>                <span class="kw">break</span><span class="op">;</span></span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb21-44"><a href="#cb21-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-45"><a href="#cb21-45" aria-hidden="true" tabindex="-1"></a>        <span class="co">// C# 7.0+支援模式匹配的switch</span></span>
<span id="cb21-46"><a href="#cb21-46" aria-hidden="true" tabindex="-1"></a>        <span class="dt">object</span> obj <span class="op">=</span> <span class="dv">10</span><span class="op">;</span></span>
<span id="cb21-47"><a href="#cb21-47" aria-hidden="true" tabindex="-1"></a>        <span class="kw">switch</span> <span class="op">(</span>obj<span class="op">)</span></span>
<span id="cb21-48"><a href="#cb21-48" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb21-49"><a href="#cb21-49" aria-hidden="true" tabindex="-1"></a>            <span class="kw">case</span> <span class="dt">int</span> i when i <span class="op">&gt;</span> <span class="dv">5</span><span class="op">:</span></span>
<span id="cb21-50"><a href="#cb21-50" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"obj是大於5的整數: {i}"</span><span class="op">);</span></span>
<span id="cb21-51"><a href="#cb21-51" aria-hidden="true" tabindex="-1"></a>                <span class="kw">break</span><span class="op">;</span></span>
<span id="cb21-52"><a href="#cb21-52" aria-hidden="true" tabindex="-1"></a>            <span class="kw">case</span> <span class="dt">string</span> s<span class="op">:</span></span>
<span id="cb21-53"><a href="#cb21-53" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"obj是字符串: {s}"</span><span class="op">);</span></span>
<span id="cb21-54"><a href="#cb21-54" aria-hidden="true" tabindex="-1"></a>                <span class="kw">break</span><span class="op">;</span></span>
<span id="cb21-55"><a href="#cb21-55" aria-hidden="true" tabindex="-1"></a>            <span class="kw">case</span> <span class="kw">null</span><span class="op">:</span></span>
<span id="cb21-56"><a href="#cb21-56" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"obj是null"</span><span class="op">);</span></span>
<span id="cb21-57"><a href="#cb21-57" aria-hidden="true" tabindex="-1"></a>                <span class="kw">break</span><span class="op">;</span></span>
<span id="cb21-58"><a href="#cb21-58" aria-hidden="true" tabindex="-1"></a>            <span class="kw">default</span><span class="op">:</span></span>
<span id="cb21-59"><a href="#cb21-59" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"obj是其他類型"</span><span class="op">);</span></span>
<span id="cb21-60"><a href="#cb21-60" aria-hidden="true" tabindex="-1"></a>                <span class="kw">break</span><span class="op">;</span></span>
<span id="cb21-61"><a href="#cb21-61" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb21-62"><a href="#cb21-62" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb21-63"><a href="#cb21-63" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>x等於10
未成年
x大於5
x是10
obj是大於5的整數: 10</code></pre>
</section>
</section>
<section id="循環語句" class="level3">
<h3 class="anchored" data-anchor-id="循環語句">循環語句</h3>
<section id="python循環語句" class="level4">
<h4 class="anchored" data-anchor-id="python循環語句">Python循環語句</h4>
<div class="sourceCode" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># for循環</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"for循環遍歷列表："</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>fruits <span class="op">=</span> [<span class="st">"蘋果"</span>, <span class="st">"香蕉"</span>, <span class="st">"橙子"</span>]</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> fruit <span class="kw">in</span> fruits:</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(fruit)</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用range</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">使用range生成數列："</span>)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">5</span>):  <span class="co"># 1, 2, 3, 4</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(i)</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="co"># while循環</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">while循環："</span>)</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> count <span class="op">&lt;</span> <span class="dv">3</span>:</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"count = </span><span class="sc">{</span>count<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>    count <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a><span class="co"># break和continue</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">break和continue："</span>)</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>):</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">continue</span>  <span class="co"># 跳過1</span></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="op">==</span> <span class="dv">4</span>:</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span>  <span class="co"># 在4時結束循環</span></span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(i)</span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a><span class="co"># 列表推導式</span></span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">列表推導式："</span>)</span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>squares <span class="op">=</span> [x<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">6</span>)]</span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(squares)</span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a><span class="co"># 帶條件的列表推導式</span></span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>even_squares <span class="op">=</span> [x<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>) <span class="cf">if</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>]</span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(even_squares)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>for循環遍歷列表：
蘋果
香蕉
橙子

使用range生成數列：
1
2
3
4

while循環：
count = 0
count = 1
count = 2

break和continue：
0
2
3

列表推導式：
[1, 4, 9, 16, 25]
[4, 16, 36, 64, 100]</code></pre>
</section>
<section id="c循環語句" class="level4">
<h4 class="anchored" data-anchor-id="c循環語句">C#循環語句</h4>
<div class="sourceCode" id="cb25"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Collections</span><span class="op">.</span><span class="fu">Generic</span><span class="op">;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Linq</span><span class="op">;</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">// foreach循環</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"foreach循環遍歷列表："</span><span class="op">);</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> fruits <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> <span class="op">{</span> <span class="st">"蘋果"</span><span class="op">,</span> <span class="st">"香蕉"</span><span class="op">,</span> <span class="st">"橙子"</span> <span class="op">};</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>        <span class="kw">foreach</span> <span class="op">(</span><span class="dt">string</span> fruit <span class="kw">in</span> fruits<span class="op">)</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>fruit<span class="op">);</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>        <span class="co">// for循環</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">使用for循環："</span><span class="op">);</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>        <span class="kw">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">5</span><span class="op">;</span> i<span class="op">++)</span>  <span class="co">// 1, 2, 3, 4</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>i<span class="op">);</span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>        <span class="co">// while循環</span></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">while循環："</span><span class="op">);</span></span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> count <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a>        <span class="kw">while</span> <span class="op">(</span>count <span class="op">&lt;</span> <span class="dv">3</span><span class="op">)</span></span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"count = {count}"</span><span class="op">);</span></span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a>            count<span class="op">++;</span></span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a>        <span class="co">// do-while循環（Python沒有對應的循環）</span></span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">do-while循環："</span><span class="op">);</span></span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb25-36"><a href="#cb25-36" aria-hidden="true" tabindex="-1"></a>        <span class="kw">do</span></span>
<span id="cb25-37"><a href="#cb25-37" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb25-38"><a href="#cb25-38" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"j = {j}"</span><span class="op">);</span></span>
<span id="cb25-39"><a href="#cb25-39" aria-hidden="true" tabindex="-1"></a>            j<span class="op">++;</span></span>
<span id="cb25-40"><a href="#cb25-40" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span> <span class="kw">while</span> <span class="op">(</span>j <span class="op">&lt;</span> <span class="dv">3</span><span class="op">);</span></span>
<span id="cb25-41"><a href="#cb25-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-42"><a href="#cb25-42" aria-hidden="true" tabindex="-1"></a>        <span class="co">// break和continue</span></span>
<span id="cb25-43"><a href="#cb25-43" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">break和continue："</span><span class="op">);</span></span>
<span id="cb25-44"><a href="#cb25-44" aria-hidden="true" tabindex="-1"></a>        <span class="kw">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">5</span><span class="op">;</span> i<span class="op">++)</span></span>
<span id="cb25-45"><a href="#cb25-45" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb25-46"><a href="#cb25-46" aria-hidden="true" tabindex="-1"></a>            <span class="kw">if</span> <span class="op">(</span>i <span class="op">==</span> <span class="dv">1</span><span class="op">)</span></span>
<span id="cb25-47"><a href="#cb25-47" aria-hidden="true" tabindex="-1"></a>                <span class="kw">continue</span><span class="op">;</span>  <span class="co">// 跳過1</span></span>
<span id="cb25-48"><a href="#cb25-48" aria-hidden="true" tabindex="-1"></a>            <span class="kw">if</span> <span class="op">(</span>i <span class="op">==</span> <span class="dv">4</span><span class="op">)</span></span>
<span id="cb25-49"><a href="#cb25-49" aria-hidden="true" tabindex="-1"></a>                <span class="kw">break</span><span class="op">;</span>  <span class="co">// 在4時結束循環</span></span>
<span id="cb25-50"><a href="#cb25-50" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>i<span class="op">);</span></span>
<span id="cb25-51"><a href="#cb25-51" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb25-52"><a href="#cb25-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-53"><a href="#cb25-53" aria-hidden="true" tabindex="-1"></a>        <span class="co">// LINQ查詢（類似列表推導式）</span></span>
<span id="cb25-54"><a href="#cb25-54" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">LINQ查詢："</span><span class="op">);</span></span>
<span id="cb25-55"><a href="#cb25-55" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> squares <span class="op">=</span> Enumerable<span class="op">.</span><span class="fu">Range</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">5</span><span class="op">).</span><span class="fu">Select</span><span class="op">(</span>x <span class="op">=&gt;</span> x <span class="op">*</span> x<span class="op">).</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb25-56"><a href="#cb25-56" aria-hidden="true" tabindex="-1"></a>        <span class="kw">foreach</span> <span class="op">(</span><span class="dt">int</span> square <span class="kw">in</span> squares<span class="op">)</span></span>
<span id="cb25-57"><a href="#cb25-57" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb25-58"><a href="#cb25-58" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">Write</span><span class="op">(</span>$<span class="st">"{square} "</span><span class="op">);</span></span>
<span id="cb25-59"><a href="#cb25-59" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb25-60"><a href="#cb25-60" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">();</span></span>
<span id="cb25-61"><a href="#cb25-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-62"><a href="#cb25-62" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 帶條件的LINQ查詢</span></span>
<span id="cb25-63"><a href="#cb25-63" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> evenSquares <span class="op">=</span> Enumerable<span class="op">.</span><span class="fu">Range</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">10</span><span class="op">)</span></span>
<span id="cb25-64"><a href="#cb25-64" aria-hidden="true" tabindex="-1"></a>                                         <span class="op">.</span><span class="fu">Where</span><span class="op">(</span>x <span class="op">=&gt;</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span></span>
<span id="cb25-65"><a href="#cb25-65" aria-hidden="true" tabindex="-1"></a>                                         <span class="op">.</span><span class="fu">Select</span><span class="op">(</span>x <span class="op">=&gt;</span> x <span class="op">*</span> x<span class="op">)</span></span>
<span id="cb25-66"><a href="#cb25-66" aria-hidden="true" tabindex="-1"></a>                                         <span class="op">.</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb25-67"><a href="#cb25-67" aria-hidden="true" tabindex="-1"></a>        <span class="kw">foreach</span> <span class="op">(</span><span class="dt">int</span> square <span class="kw">in</span> evenSquares<span class="op">)</span></span>
<span id="cb25-68"><a href="#cb25-68" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb25-69"><a href="#cb25-69" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">Write</span><span class="op">(</span>$<span class="st">"{square} "</span><span class="op">);</span></span>
<span id="cb25-70"><a href="#cb25-70" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb25-71"><a href="#cb25-71" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">();</span></span>
<span id="cb25-72"><a href="#cb25-72" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb25-73"><a href="#cb25-73" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>foreach循環遍歷列表：
蘋果
香蕉
橙子

使用for循環：
1
2
3
4

while循環：
count = 0
count = 1
count = 2

do-while循環：
j = 0
j = 1
j = 2

break和continue：
0
2
3

LINQ查詢：
1 4 9 16 25 
4 16 36 64 100 </code></pre>
</section>
</section>
</section>
<section id="集合類型" class="level2">
<h2 class="anchored" data-anchor-id="集合類型">集合類型</h2>
<section id="數組列表" class="level3">
<h3 class="anchored" data-anchor-id="數組列表">數組/列表</h3>
<section id="python列表" class="level4">
<h4 class="anchored" data-anchor-id="python列表">Python列表</h4>
<div class="sourceCode" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 創建列表</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>fruits <span class="op">=</span> [<span class="st">"蘋果"</span>, <span class="st">"香蕉"</span>, <span class="st">"橙子"</span>]</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"fruits列表: </span><span class="sc">{</span>fruits<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 訪問元素</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"第一個水果: </span><span class="sc">{</span>fruits[<span class="dv">0</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"最後一個水果: </span><span class="sc">{</span>fruits[<span class="op">-</span><span class="dv">1</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 修改元素</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>fruits[<span class="dv">1</span>] <span class="op">=</span> <span class="st">"梨"</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"修改後的列表: </span><span class="sc">{</span>fruits<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 添加元素</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>fruits.append(<span class="st">"葡萄"</span>)</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"添加後的列表: </span><span class="sc">{</span>fruits<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a><span class="co"># 插入元素</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>fruits.insert(<span class="dv">1</span>, <span class="st">"芒果"</span>)</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"插入後的列表: </span><span class="sc">{</span>fruits<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a><span class="co"># 移除元素</span></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>removed_fruit <span class="op">=</span> fruits.pop()  <span class="co"># 移除最後一個元素</span></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"移除的水果: </span><span class="sc">{</span>removed_fruit<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"移除後的列表: </span><span class="sc">{</span>fruits<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a><span class="co"># 指定位置移除</span></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a><span class="kw">del</span> fruits[<span class="dv">1</span>]  <span class="co"># 移除第二個元素</span></span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"刪除後的列表: </span><span class="sc">{</span>fruits<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a><span class="co"># 切片</span></span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"切片 fruits[1:3]: </span><span class="sc">{</span>fruits[<span class="dv">1</span>:<span class="dv">3</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a><span class="co"># 列表長度</span></span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"列表長度: </span><span class="sc">{</span><span class="bu">len</span>(fruits)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a><span class="co"># 檢查存在</span></span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"'蘋果'是否在列表中: </span><span class="sc">{</span><span class="st">'蘋果'</span> <span class="kw">in</span> fruits<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a><span class="co"># 排序</span></span>
<span id="cb27-40"><a href="#cb27-40" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">9</span>]</span>
<span id="cb27-41"><a href="#cb27-41" aria-hidden="true" tabindex="-1"></a>numbers.sort()</span>
<span id="cb27-42"><a href="#cb27-42" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"排序後的數字: </span><span class="sc">{</span>numbers<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb27-43"><a href="#cb27-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-44"><a href="#cb27-44" aria-hidden="true" tabindex="-1"></a><span class="co"># 反轉</span></span>
<span id="cb27-45"><a href="#cb27-45" aria-hidden="true" tabindex="-1"></a>numbers.reverse()</span>
<span id="cb27-46"><a href="#cb27-46" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"反轉後的數字: </span><span class="sc">{</span>numbers<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb27-47"><a href="#cb27-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-48"><a href="#cb27-48" aria-hidden="true" tabindex="-1"></a><span class="co"># 複製列表</span></span>
<span id="cb27-49"><a href="#cb27-49" aria-hidden="true" tabindex="-1"></a>numbers_copy <span class="op">=</span> numbers.copy()</span>
<span id="cb27-50"><a href="#cb27-50" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"複製的列表: </span><span class="sc">{</span>numbers_copy<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>fruits列表: ['蘋果', '香蕉', '橙子']
第一個水果: 蘋果
最後一個水果: 橙子
修改後的列表: ['蘋果', '梨', '橙子']
添加後的列表: ['蘋果', '梨', '橙子', '葡萄']
插入後的列表: ['蘋果', '芒果', '梨', '橙子', '葡萄']
移除的水果: 葡萄
移除後的列表: ['蘋果', '芒果', '梨', '橙子']
刪除後的列表: ['蘋果', '梨', '橙子']
切片 fruits[1:3]: ['梨', '橙子']
列表長度: 3
'蘋果'是否在列表中: True
排序後的數字: [1, 1, 3, 4, 5, 9]
反轉後的數字: [9, 5, 4, 3, 1, 1]
複製的列表: [9, 5, 4, 3, 1, 1]</code></pre>
</section>
<section id="c列表與數組" class="level4">
<h4 class="anchored" data-anchor-id="c列表與數組">C#列表與數組</h4>
<div class="sourceCode" id="cb29"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Collections</span><span class="op">.</span><span class="fu">Generic</span><span class="op">;</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Linq</span><span class="op">;</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 數組（固定大小）</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span><span class="op">[]</span> fruitArray <span class="op">=</span> <span class="kw">new</span> <span class="dt">string</span><span class="op">[]</span> <span class="op">{</span> <span class="st">"蘋果"</span><span class="op">,</span> <span class="st">"香蕉"</span><span class="op">,</span> <span class="st">"橙子"</span> <span class="op">};</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"水果數組: [{string.Join("</span><span class="op">,</span> <span class="st">", fruitArray)}]"</span><span class="op">);</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 列表（可變大小）</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> fruits <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> <span class="op">{</span> <span class="st">"蘋果"</span><span class="op">,</span> <span class="st">"香蕉"</span><span class="op">,</span> <span class="st">"橙子"</span> <span class="op">};</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"fruits列表: [{string.Join("</span><span class="op">,</span> <span class="st">", fruits)}]"</span><span class="op">);</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 訪問元素</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"第一個水果: {fruits[0]}"</span><span class="op">);</span></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"最後一個水果: {fruits[fruits.Count - 1]}"</span><span class="op">);</span></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 修改元素</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>        fruits<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">=</span> <span class="st">"梨"</span><span class="op">;</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"修改後的列表: [{string.Join("</span><span class="op">,</span> <span class="st">", fruits)}]"</span><span class="op">);</span></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 添加元素</span></span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>        fruits<span class="op">.</span><span class="fu">Add</span><span class="op">(</span><span class="st">"葡萄"</span><span class="op">);</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"添加後的列表: [{string.Join("</span><span class="op">,</span> <span class="st">", fruits)}]"</span><span class="op">);</span></span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 插入元素</span></span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>        fruits<span class="op">.</span><span class="fu">Insert</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="st">"芒果"</span><span class="op">);</span></span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"插入後的列表: [{string.Join("</span><span class="op">,</span> <span class="st">", fruits)}]"</span><span class="op">);</span></span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 移除元素</span></span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> removedFruit <span class="op">=</span> fruits<span class="op">[</span>fruits<span class="op">.</span><span class="fu">Count</span> <span class="op">-</span> <span class="dv">1</span><span class="op">];</span></span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a>        fruits<span class="op">.</span><span class="fu">RemoveAt</span><span class="op">(</span>fruits<span class="op">.</span><span class="fu">Count</span> <span class="op">-</span> <span class="dv">1</span><span class="op">);</span>  <span class="co">// 移除最後一個元素</span></span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"移除的水果: {removedFruit}"</span><span class="op">);</span></span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"移除後的列表: [{string.Join("</span><span class="op">,</span> <span class="st">", fruits)}]"</span><span class="op">);</span></span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 指定位置移除</span></span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a>        fruits<span class="op">.</span><span class="fu">RemoveAt</span><span class="op">(</span><span class="dv">1</span><span class="op">);</span>  <span class="co">// 移除第二個元素</span></span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"刪除後的列表: [{string.Join("</span><span class="op">,</span> <span class="st">", fruits)}]"</span><span class="op">);</span></span>
<span id="cb29-42"><a href="#cb29-42" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb29-43"><a href="#cb29-43" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 範圍（類似於切片）</span></span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> range <span class="op">=</span> fruits<span class="op">.</span><span class="fu">GetRange</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">);</span>  <span class="co">// 從索引1開始，取2個元素</span></span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"範圍 fruits[1:3]: [{string.Join("</span><span class="op">,</span> <span class="st">", range)}]"</span><span class="op">);</span></span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 列表長度</span></span>
<span id="cb29-48"><a href="#cb29-48" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"列表長度: {fruits.Count}"</span><span class="op">);</span></span>
<span id="cb29-49"><a href="#cb29-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-50"><a href="#cb29-50" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 檢查存在</span></span>
<span id="cb29-51"><a href="#cb29-51" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"'蘋果'是否在列表中: {fruits.Contains("</span>蘋果<span class="st">")}"</span><span class="op">);</span></span>
<span id="cb29-52"><a href="#cb29-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-53"><a href="#cb29-53" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 排序</span></span>
<span id="cb29-54"><a href="#cb29-54" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> numbers <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> <span class="op">{</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">9</span> <span class="op">};</span></span>
<span id="cb29-55"><a href="#cb29-55" aria-hidden="true" tabindex="-1"></a>        numbers<span class="op">.</span><span class="fu">Sort</span><span class="op">();</span></span>
<span id="cb29-56"><a href="#cb29-56" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"排序後的數字: [{string.Join("</span><span class="op">,</span> <span class="st">", numbers)}]"</span><span class="op">);</span></span>
<span id="cb29-57"><a href="#cb29-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-58"><a href="#cb29-58" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 反轉</span></span>
<span id="cb29-59"><a href="#cb29-59" aria-hidden="true" tabindex="-1"></a>        numbers<span class="op">.</span><span class="fu">Reverse</span><span class="op">();</span></span>
<span id="cb29-60"><a href="#cb29-60" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"反轉後的數字: [{string.Join("</span><span class="op">,</span> <span class="st">", numbers)}]"</span><span class="op">);</span></span>
<span id="cb29-61"><a href="#cb29-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-62"><a href="#cb29-62" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 複製列表</span></span>
<span id="cb29-63"><a href="#cb29-63" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> numbersCopy <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;(</span>numbers<span class="op">);</span></span>
<span id="cb29-64"><a href="#cb29-64" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"複製的列表: [{string.Join("</span><span class="op">,</span> <span class="st">", numbersCopy)}]"</span><span class="op">);</span></span>
<span id="cb29-65"><a href="#cb29-65" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb29-66"><a href="#cb29-66" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>水果數組: [蘋果, 香蕉, 橙子]
fruits列表: [蘋果, 香蕉, 橙子]
第一個水果: 蘋果
最後一個水果: 橙子
修改後的列表: [蘋果, 梨, 橙子]
添加後的列表: [蘋果, 梨, 橙子, 葡萄]
插入後的列表: [蘋果, 芒果, 梨, 橙子, 葡萄]
移除的水果: 葡萄
移除後的列表: [蘋果, 芒果, 梨, 橙子]
刪除後的列表: [蘋果, 梨, 橙子]
範圍 fruits[1:3]: [梨, 橙子]
列表長度: 3
'蘋果'是否在列表中: True
排序後的數字: [1, 1, 3, 4, 5, 9]
反轉後的數字: [9, 5, 4, 3, 1, 1]
複製的列表: [9, 5, 4, 3, 1, 1]</code></pre>
</section>
</section>
<section id="字典哈希表" class="level3">
<h3 class="anchored" data-anchor-id="字典哈希表">字典/哈希表</h3>
<section id="python字典" class="level4">
<h4 class="anchored" data-anchor-id="python字典">Python字典</h4>
<div class="sourceCode" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 創建字典</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>student <span class="op">=</span> {</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"name"</span>: <span class="st">"小明"</span>,</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"age"</span>: <span class="dv">18</span>,</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"grade"</span>: <span class="st">"A"</span>,</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"courses"</span>: [<span class="st">"數學"</span>, <span class="st">"物理"</span>, <span class="st">"化學"</span>]</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 訪問值</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"學生名字: </span><span class="sc">{</span>student[<span class="st">'name'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"學生年齡: </span><span class="sc">{</span>student<span class="sc">.</span>get(<span class="st">'age'</span>)<span class="sc">}</span><span class="ss">"</span>)  <span class="co"># get方法安全訪問，不存在時返回None</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"學生成績: </span><span class="sc">{</span>student<span class="sc">.</span>get(<span class="st">'score'</span>, <span class="st">'沒有成績'</span>)<span class="sc">}</span><span class="ss">"</span>)  <span class="co"># 提供默認值</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 修改值</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>student[<span class="st">"age"</span>] <span class="op">=</span> <span class="dv">19</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"修改後的年齡: </span><span class="sc">{</span>student[<span class="st">'age'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a><span class="co"># 添加鍵值對</span></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>student[<span class="st">"phone"</span>] <span class="op">=</span> <span class="st">"123-456-7890"</span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"添加後的字典: </span><span class="sc">{</span>student<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a><span class="co"># 刪除鍵值對</span></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a><span class="kw">del</span> student[<span class="st">"grade"</span>]</span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"刪除後的字典: </span><span class="sc">{</span>student<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用pop方法刪除並返回值</span></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>phone <span class="op">=</span> student.pop(<span class="st">"phone"</span>)</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"刪除的電話: </span><span class="sc">{</span>phone<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"刪除後的字典: </span><span class="sc">{</span>student<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a><span class="co"># 檢查鍵是否存在</span></span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"'name'是否存在: </span><span class="sc">{</span><span class="st">'name'</span> <span class="kw">in</span> student<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"'grade'是否存在: </span><span class="sc">{</span><span class="st">'grade'</span> <span class="kw">in</span> student<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a><span class="co"># 獲取所有鍵、值和鍵值對</span></span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"所有鍵: </span><span class="sc">{</span><span class="bu">list</span>(student.keys())<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"所有值: </span><span class="sc">{</span><span class="bu">list</span>(student.values())<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"所有鍵值對: </span><span class="sc">{</span><span class="bu">list</span>(student.items())<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a><span class="co"># 遍歷字典</span></span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"遍歷字典:"</span>)</span>
<span id="cb31-42"><a href="#cb31-42" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> key, value <span class="kw">in</span> student.items():</span>
<span id="cb31-43"><a href="#cb31-43" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>key<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>value<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb31-44"><a href="#cb31-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-45"><a href="#cb31-45" aria-hidden="true" tabindex="-1"></a><span class="co"># 字典推導式</span></span>
<span id="cb31-46"><a href="#cb31-46" aria-hidden="true" tabindex="-1"></a>squares <span class="op">=</span> {x: x<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">6</span>)}</span>
<span id="cb31-47"><a href="#cb31-47" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"平方字典: </span><span class="sc">{</span>squares<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>學生名字: 小明
學生年齡: 18
學生成績: 沒有成績
修改後的年齡: 19
添加後的字典: {'name': '小明', 'age': 19, 'grade': 'A', 'courses': ['數學', '物理', '化學'], 'phone': '123-456-7890'}
刪除後的字典: {'name': '小明', 'age': 19, 'courses': ['數學', '物理', '化學'], 'phone': '123-456-7890'}
刪除的電話: 123-456-7890
刪除後的字典: {'name': '小明', 'age': 19, 'courses': ['數學', '物理', '化學']}
'name'是否存在: True
'grade'是否存在: False
所有鍵: ['name', 'age', 'courses']
所有值: ['小明', 19, ['數學', '物理', '化學']]
所有鍵值對: [('name', '小明'), ('age', 19), ('courses', ['數學', '物理', '化學'])]
遍歷字典:
name: 小明
age: 19
courses: ['數學', '物理', '化學']
平方字典: {1: 1, 2: 4, 3: 9, 4: 16, 5: 25}</code></pre>
</section>
<section id="c字典" class="level4">
<h4 class="anchored" data-anchor-id="c字典">C#字典</h4>
<div class="sourceCode" id="cb33"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Collections</span><span class="op">.</span><span class="fu">Generic</span><span class="op">;</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Linq</span><span class="op">;</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 創建字典</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>        Dictionary<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">object</span><span class="op">&gt;</span> student <span class="op">=</span> <span class="kw">new</span> Dictionary<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">object</span><span class="op">&gt;</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span> <span class="st">"name"</span><span class="op">,</span> <span class="st">"小明"</span> <span class="op">},</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span> <span class="st">"age"</span><span class="op">,</span> <span class="dv">18</span> <span class="op">},</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span> <span class="st">"grade"</span><span class="op">,</span> <span class="st">"A"</span> <span class="op">},</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span> <span class="st">"courses"</span><span class="op">,</span> <span class="kw">new</span> List<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> <span class="op">{</span> <span class="st">"數學"</span><span class="op">,</span> <span class="st">"物理"</span><span class="op">,</span> <span class="st">"化學"</span> <span class="op">}</span> <span class="op">}</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 訪問值</span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"學生名字: {student["</span>name<span class="st">"]}"</span><span class="op">);</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 安全訪問（檢查鍵是否存在）</span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>student<span class="op">.</span><span class="fu">TryGetValue</span><span class="op">(</span><span class="st">"age"</span><span class="op">,</span> <span class="kw">out</span> <span class="dt">object</span> age<span class="op">))</span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"學生年齡: {age}"</span><span class="op">);</span></span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 訪問不存在的鍵並提供默認值</span></span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>        <span class="dt">object</span> score<span class="op">;</span></span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"學生成績: {(student.TryGetValue("</span>score<span class="st">", out score) ? score : "</span>沒有成績<span class="st">")}"</span><span class="op">);</span></span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 修改值</span></span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a>        student<span class="op">[</span><span class="st">"age"</span><span class="op">]</span> <span class="op">=</span> <span class="dv">19</span><span class="op">;</span></span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"修改後的年齡: {student["</span>age<span class="st">"]}"</span><span class="op">);</span></span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 添加鍵值對</span></span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a>        student<span class="op">[</span><span class="st">"phone"</span><span class="op">]</span> <span class="op">=</span> <span class="st">"123-456-7890"</span><span class="op">;</span></span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"添加後的字典: {{{string.Join("</span><span class="op">,</span> <span class="st">", student.Select(kv =&gt; $"</span><span class="op">{</span>kv<span class="op">.</span><span class="fu">Key</span><span class="op">}:</span> <span class="op">{</span>kv<span class="op">.</span><span class="fu">Value</span><span class="op">}</span><span class="st">"))}}}"</span><span class="op">);</span></span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 刪除鍵值對</span></span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a>        student<span class="op">.</span><span class="fu">Remove</span><span class="op">(</span><span class="st">"grade"</span><span class="op">);</span></span>
<span id="cb33-41"><a href="#cb33-41" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"刪除後的字典: {{{string.Join("</span><span class="op">,</span> <span class="st">", student.Select(kv =&gt; $"</span><span class="op">{</span>kv<span class="op">.</span><span class="fu">Key</span><span class="op">}:</span> <span class="op">{</span>kv<span class="op">.</span><span class="fu">Value</span><span class="op">}</span><span class="st">"))}}}"</span><span class="op">);</span></span>
<span id="cb33-42"><a href="#cb33-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-43"><a href="#cb33-43" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用Remove方法刪除並檢查是否成功</span></span>
<span id="cb33-44"><a href="#cb33-44" aria-hidden="true" tabindex="-1"></a>        <span class="dt">bool</span> removed <span class="op">=</span> student<span class="op">.</span><span class="fu">Remove</span><span class="op">(</span><span class="st">"phone"</span><span class="op">,</span> <span class="kw">out</span> <span class="dt">object</span> phoneValue<span class="op">);</span></span>
<span id="cb33-45"><a href="#cb33-45" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"刪除的電話: {phoneValue}"</span><span class="op">);</span></span>
<span id="cb33-46"><a href="#cb33-46" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"刪除後的字典: {{{string.Join("</span><span class="op">,</span> <span class="st">", student.Select(kv =&gt; $"</span><span class="op">{</span>kv<span class="op">.</span><span class="fu">Key</span><span class="op">}:</span> <span class="op">{</span>kv<span class="op">.</span><span class="fu">Value</span><span class="op">}</span><span class="st">"))}}}"</span><span class="op">);</span></span>
<span id="cb33-47"><a href="#cb33-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-48"><a href="#cb33-48" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 檢查鍵是否存在</span></span>
<span id="cb33-49"><a href="#cb33-49" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"'name'是否存在: {student.ContainsKey("</span>name<span class="st">")}"</span><span class="op">);</span></span>
<span id="cb33-50"><a href="#cb33-50" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"'grade'是否存在: {student.ContainsKey("</span>grade<span class="st">")}"</span><span class="op">);</span></span>
<span id="cb33-51"><a href="#cb33-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-52"><a href="#cb33-52" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 獲取所有鍵、值和鍵值對</span></span>
<span id="cb33-53"><a href="#cb33-53" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"所有鍵: [{string.Join("</span><span class="op">,</span> <span class="st">", student.Keys)}]"</span><span class="op">);</span></span>
<span id="cb33-54"><a href="#cb33-54" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"所有值: [{string.Join("</span><span class="op">,</span> <span class="st">", student.Values)}]"</span><span class="op">);</span></span>
<span id="cb33-55"><a href="#cb33-55" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"所有鍵值對: [{string.Join("</span><span class="op">,</span> <span class="st">", student.Select(kv =&gt; $"</span><span class="op">({</span>kv<span class="op">.</span><span class="fu">Key</span><span class="op">},</span> <span class="op">{</span>kv<span class="op">.</span><span class="fu">Value</span><span class="op">})</span><span class="st">"))}]"</span><span class="op">);</span></span>
<span id="cb33-56"><a href="#cb33-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-57"><a href="#cb33-57" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 遍歷字典</span></span>
<span id="cb33-58"><a href="#cb33-58" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"遍歷字典:"</span><span class="op">);</span></span>
<span id="cb33-59"><a href="#cb33-59" aria-hidden="true" tabindex="-1"></a>        <span class="kw">foreach</span> <span class="op">(</span><span class="dt">var</span> kv <span class="kw">in</span> student<span class="op">)</span></span>
<span id="cb33-60"><a href="#cb33-60" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb33-61"><a href="#cb33-61" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"{kv.Key}: {kv.Value}"</span><span class="op">);</span></span>
<span id="cb33-62"><a href="#cb33-62" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb33-63"><a href="#cb33-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-64"><a href="#cb33-64" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 字典推導式（C#中使用LINQ）</span></span>
<span id="cb33-65"><a href="#cb33-65" aria-hidden="true" tabindex="-1"></a>        Dictionary<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> squares <span class="op">=</span> Enumerable<span class="op">.</span><span class="fu">Range</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">5</span><span class="op">)</span></span>
<span id="cb33-66"><a href="#cb33-66" aria-hidden="true" tabindex="-1"></a>                                         <span class="op">.</span><span class="fu">ToDictionary</span><span class="op">(</span>x <span class="op">=&gt;</span> x<span class="op">,</span> x <span class="op">=&gt;</span> x <span class="op">*</span> x<span class="op">);</span></span>
<span id="cb33-67"><a href="#cb33-67" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"平方字典: {{{string.Join("</span><span class="op">,</span> <span class="st">", squares.Select(kv =&gt; $"</span><span class="op">{</span>kv<span class="op">.</span><span class="fu">Key</span><span class="op">}:</span> <span class="op">{</span>kv<span class="op">.</span><span class="fu">Value</span><span class="op">}</span><span class="st">"))}}}"</span><span class="op">);}</span></span>
<span id="cb33-68"><a href="#cb33-68" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>學生名字: 小明
學生年齡: 18
學生成績: 沒有成績
修改後的年齡: 19
添加後的字典: {name: 小明, age: 19, grade: A, courses: System.Collections.Generic.List`1[System.String], phone: 123-456-7890}
刪除後的字典: {name: 小明, age: 19, courses: System.Collections.Generic.List`1[System.String], phone: 123-456-7890}
刪除的電話: 123-456-7890
刪除後的字典: {name: 小明, age: 19, courses: System.Collections.Generic.List`1[System.String]}
'name'是否存在: True
'grade'是否存在: False
所有鍵: [name, age, courses]
所有值: [小明, 19, System.Collections.Generic.List`1[System.String]]
所有鍵值對: [(name, 小明), (age, 19), (courses, System.Collections.Generic.List`1[System.String])]
遍歷字典:
name: 小明
age: 19
courses: System.Collections.Generic.List`1[System.String]
平方字典: {1: 1, 2: 4, 3: 9, 4: 16, 5: 25}</code></pre>
</section>
</section>
<section id="元組" class="level3">
<h3 class="anchored" data-anchor-id="元組">元組</h3>
<section id="python元組" class="level4">
<h4 class="anchored" data-anchor-id="python元組">Python元組</h4>
<div class="sourceCode" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 創建元組</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>person <span class="op">=</span> (<span class="st">"小明"</span>, <span class="dv">25</span>, <span class="st">"工程師"</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"人物元組: </span><span class="sc">{</span>person<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 訪問元素</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"姓名: </span><span class="sc">{</span>person[<span class="dv">0</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"年齡: </span><span class="sc">{</span>person[<span class="dv">1</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"職業: </span><span class="sc">{</span>person[<span class="dv">2</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 元組解包</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>name, age, job <span class="op">=</span> person</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"解包 - 姓名: </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"解包 - 年齡: </span><span class="sc">{</span>age<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"解包 - 職業: </span><span class="sc">{</span>job<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 元組是不可變的</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a><span class="co"># person[1] = 26  # 這會引發錯誤</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 但可以重新賦值整個元組</span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>person <span class="op">=</span> (<span class="st">"小明"</span>, <span class="dv">26</span>, <span class="st">"高級工程師"</span>)</span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"更新後的元組: </span><span class="sc">{</span>person<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用命名元組</span></span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> namedtuple</span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a>Person <span class="op">=</span> namedtuple(<span class="st">'Person'</span>, [<span class="st">'name'</span>, <span class="st">'age'</span>, <span class="st">'job'</span>])</span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a>person <span class="op">=</span> Person(<span class="st">"小華"</span>, <span class="dv">30</span>, <span class="st">"老師"</span>)</span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"命名元組: </span><span class="sc">{</span>person<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"使用名稱訪問: </span><span class="sc">{</span>person<span class="sc">.</span>name<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>person<span class="sc">.</span>age<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>person<span class="sc">.</span>job<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a><span class="co"># 元組切片</span></span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a>coordinates <span class="op">=</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"元組切片 coordinates[1:4]: </span><span class="sc">{</span>coordinates[<span class="dv">1</span>:<span class="dv">4</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb35-33"><a href="#cb35-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-34"><a href="#cb35-34" aria-hidden="true" tabindex="-1"></a><span class="co"># 元組連接</span></span>
<span id="cb35-35"><a href="#cb35-35" aria-hidden="true" tabindex="-1"></a>tuple1 <span class="op">=</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb35-36"><a href="#cb35-36" aria-hidden="true" tabindex="-1"></a>tuple2 <span class="op">=</span> (<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb35-37"><a href="#cb35-37" aria-hidden="true" tabindex="-1"></a>tuple3 <span class="op">=</span> tuple1 <span class="op">+</span> tuple2</span>
<span id="cb35-38"><a href="#cb35-38" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"連接後的元組: </span><span class="sc">{</span>tuple3<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb35-39"><a href="#cb35-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-40"><a href="#cb35-40" aria-hidden="true" tabindex="-1"></a><span class="co"># 元組重複</span></span>
<span id="cb35-41"><a href="#cb35-41" aria-hidden="true" tabindex="-1"></a>repeated <span class="op">=</span> tuple1 <span class="op">*</span> <span class="dv">3</span></span>
<span id="cb35-42"><a href="#cb35-42" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"重複後的元組: </span><span class="sc">{</span>repeated<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb35-43"><a href="#cb35-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-44"><a href="#cb35-44" aria-hidden="true" tabindex="-1"></a><span class="co"># 檢查元素是否存在</span></span>
<span id="cb35-45"><a href="#cb35-45" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"2是否在tuple1中: </span><span class="sc">{</span><span class="dv">2</span> <span class="kw">in</span> tuple1<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>人物元組: ('小明', 25, '工程師')
姓名: 小明
年齡: 25
職業: 工程師
解包 - 姓名: 小明
解包 - 年齡: 25
解包 - 職業: 工程師
更新後的元組: ('小明', 26, '高級工程師')
命名元組: Person(name='小華', age=30, job='老師')
使用名稱訪問: 小華, 30, 老師
元組切片 coordinates[1:4]: (2, 3, 4)
連接後的元組: (1, 2, 3, 4, 5, 6)
重複後的元組: (1, 2, 3, 1, 2, 3, 1, 2, 3)
2是否在tuple1中: True</code></pre>
</section>
<section id="c元組" class="level4">
<h4 class="anchored" data-anchor-id="c元組">C#元組</h4>
<div class="sourceCode" id="cb37"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Collections</span><span class="op">.</span><span class="fu">Generic</span><span class="op">;</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Linq</span><span class="op">;</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 創建元組</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> person <span class="op">=</span> <span class="op">(</span><span class="st">"小明"</span><span class="op">,</span> <span class="dv">25</span><span class="op">,</span> <span class="st">"工程師"</span><span class="op">);</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"人物元組: {person}"</span><span class="op">);</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 訪問元素</span></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"姓名: {person.Item1}"</span><span class="op">);</span></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"年齡: {person.Item2}"</span><span class="op">);</span></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"職業: {person.Item3}"</span><span class="op">);</span></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 命名元組</span></span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> namedPerson <span class="op">=</span> <span class="op">(</span>Name<span class="op">:</span> <span class="st">"小明"</span><span class="op">,</span> Age<span class="op">:</span> <span class="dv">25</span><span class="op">,</span> Job<span class="op">:</span> <span class="st">"工程師"</span><span class="op">);</span></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"姓名: {namedPerson.Name}"</span><span class="op">);</span></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"年齡: {namedPerson.Age}"</span><span class="op">);</span></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"職業: {namedPerson.Job}"</span><span class="op">);</span></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 元組解構</span></span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>        <span class="fu">var</span> <span class="op">(</span>name<span class="op">,</span> age<span class="op">,</span> job<span class="op">)</span> <span class="op">=</span> person<span class="op">;</span></span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"解構 - 姓名: {name}"</span><span class="op">);</span></span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"解構 - 年齡: {age}"</span><span class="op">);</span></span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"解構 - 職業: {job}"</span><span class="op">);</span></span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 元組是值類型，可以修改</span></span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> mutablePerson <span class="op">=</span> person<span class="op">;</span></span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a>        mutablePerson<span class="op">.</span><span class="fu">Item2</span> <span class="op">=</span> <span class="dv">26</span><span class="op">;</span></span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a>        mutablePerson<span class="op">.</span><span class="fu">Item3</span> <span class="op">=</span> <span class="st">"高級工程師"</span><span class="op">;</span></span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"修改後的元組: {mutablePerson}"</span><span class="op">);</span></span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-36"><a href="#cb37-36" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用類來模擬命名元組（更傳統的方式）</span></span>
<span id="cb37-37"><a href="#cb37-37" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> personClass <span class="op">=</span> <span class="kw">new</span> Person <span class="op">{</span> Name <span class="op">=</span> <span class="st">"小華"</span><span class="op">,</span> Age <span class="op">=</span> <span class="dv">30</span><span class="op">,</span> Job <span class="op">=</span> <span class="st">"老師"</span> <span class="op">};</span></span>
<span id="cb37-38"><a href="#cb37-38" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"類模擬: {personClass.Name}, {personClass.Age}, {personClass.Job}"</span><span class="op">);</span></span>
<span id="cb37-39"><a href="#cb37-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-40"><a href="#cb37-40" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 元組沒有直接的切片功能，需要使用LINQ</span></span>
<span id="cb37-41"><a href="#cb37-41" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> coordinates <span class="op">=</span> Tuple<span class="op">.</span><span class="fu">Create</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">);</span></span>
<span id="cb37-42"><a href="#cb37-42" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用LINQ模擬切片</span></span>
<span id="cb37-43"><a href="#cb37-43" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> sliced <span class="op">=</span> <span class="kw">new</span><span class="op">[]</span> <span class="op">{</span> coordinates<span class="op">.</span><span class="fu">Item2</span><span class="op">,</span> coordinates<span class="op">.</span><span class="fu">Item3</span><span class="op">,</span> coordinates<span class="op">.</span><span class="fu">Item4</span> <span class="op">};</span></span>
<span id="cb37-44"><a href="#cb37-44" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"模擬切片 coordinates[1:4]: [{string.Join("</span><span class="op">,</span> <span class="st">", sliced)}]"</span><span class="op">);</span></span>
<span id="cb37-45"><a href="#cb37-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-46"><a href="#cb37-46" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 連接元組需要創建新元組</span></span>
<span id="cb37-47"><a href="#cb37-47" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> tuple1 <span class="op">=</span> <span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">);</span></span>
<span id="cb37-48"><a href="#cb37-48" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> tuple2 <span class="op">=</span> <span class="op">(</span><span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span><span class="op">);</span></span>
<span id="cb37-49"><a href="#cb37-49" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> tuple3 <span class="op">=</span> <span class="op">(</span>tuple1<span class="op">.</span><span class="fu">Item1</span><span class="op">,</span> tuple1<span class="op">.</span><span class="fu">Item2</span><span class="op">,</span> tuple1<span class="op">.</span><span class="fu">Item3</span><span class="op">,</span> tuple2<span class="op">.</span><span class="fu">Item1</span><span class="op">,</span> tuple2<span class="op">.</span><span class="fu">Item2</span><span class="op">,</span> tuple2<span class="op">.</span><span class="fu">Item3</span><span class="op">);</span></span>
<span id="cb37-50"><a href="#cb37-50" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"連接後的元組: {tuple3}"</span><span class="op">);</span></span>
<span id="cb37-51"><a href="#cb37-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-52"><a href="#cb37-52" aria-hidden="true" tabindex="-1"></a>        <span class="co">// C#沒有元組重複運算符，需要手動實現</span></span>
<span id="cb37-53"><a href="#cb37-53" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> repeated <span class="op">=</span> Enumerable<span class="op">.</span><span class="fu">Repeat</span><span class="op">(</span>tuple1<span class="op">,</span> <span class="dv">3</span><span class="op">).</span><span class="fu">ToArray</span><span class="op">();</span></span>
<span id="cb37-54"><a href="#cb37-54" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"重複後的元組: {string.Join("</span><span class="op">,</span> <span class="st">", repeated)}"</span><span class="op">);</span></span>
<span id="cb37-55"><a href="#cb37-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-56"><a href="#cb37-56" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 檢查元素是否存在需要手動比較</span></span>
<span id="cb37-57"><a href="#cb37-57" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"2是否在tuple1中: {tuple1.Item1 == 2 || tuple1.Item2 == 2 || tuple1.Item3 == 2}"</span><span class="op">);</span></span>
<span id="cb37-58"><a href="#cb37-58" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb37-59"><a href="#cb37-59" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb37-60"><a href="#cb37-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-61"><a href="#cb37-61" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Person</span>
<span id="cb37-62"><a href="#cb37-62" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb37-63"><a href="#cb37-63" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> Name <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb37-64"><a href="#cb37-64" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> Age <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb37-65"><a href="#cb37-65" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> Job <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb37-66"><a href="#cb37-66" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>人物元組: (小明, 25, 工程師)
姓名: 小明
年齡: 25
職業: 工程師
姓名: 小明
年齡: 25
職業: 工程師
解構 - 姓名: 小明
解構 - 年齡: 25
解構 - 職業: 工程師
修改後的元組: (小明, 26, 高級工程師)
類模擬: 小華, 30, 老師
模擬切片 coordinates[1:4]: [2, 3, 4]
連接後的元組: (1, 2, 3, 4, 5, 6)
重複後的元組: (1, 2, 3), (1, 2, 3), (1, 2, 3)
2是否在tuple1中: True</code></pre>
</section>
</section>
<section id="集合" class="level3">
<h3 class="anchored" data-anchor-id="集合">集合</h3>
<section id="python集合" class="level4">
<h4 class="anchored" data-anchor-id="python集合">Python集合</h4>
<div class="sourceCode" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 創建集合</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>fruits <span class="op">=</span> {<span class="st">"蘋果"</span>, <span class="st">"香蕉"</span>, <span class="st">"橙子"</span>}</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"水果集合: </span><span class="sc">{</span>fruits<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 創建空集合（不能使用{}，因為這會創建字典）</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>empty_set <span class="op">=</span> <span class="bu">set</span>()</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"空集合: </span><span class="sc">{</span>empty_set<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 從列表創建集合（會自動去除重複元素）</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> <span class="bu">set</span>([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">5</span>])</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"數字集合: </span><span class="sc">{</span>numbers<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 添加元素</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>fruits.add(<span class="st">"葡萄"</span>)</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"添加後的集合: </span><span class="sc">{</span>fruits<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a><span class="co"># 移除元素</span></span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>fruits.remove(<span class="st">"香蕉"</span>)  <span class="co"># 如果元素不存在，會引發KeyError</span></span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"移除後的集合: </span><span class="sc">{</span>fruits<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a><span class="co"># 安全移除</span></span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a>fruits.discard(<span class="st">"芒果"</span>)  <span class="co"># 元素不存在不會引發錯誤</span></span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"安全移除後的集合: </span><span class="sc">{</span>fruits<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-25"><a href="#cb39-25" aria-hidden="true" tabindex="-1"></a><span class="co"># 檢查元素是否存在</span></span>
<span id="cb39-26"><a href="#cb39-26" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"'蘋果'是否在集合中: </span><span class="sc">{</span><span class="st">'蘋果'</span> <span class="kw">in</span> fruits<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb39-27"><a href="#cb39-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-28"><a href="#cb39-28" aria-hidden="true" tabindex="-1"></a><span class="co"># 集合操作</span></span>
<span id="cb39-29"><a href="#cb39-29" aria-hidden="true" tabindex="-1"></a>set1 <span class="op">=</span> {<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>}</span>
<span id="cb39-30"><a href="#cb39-30" aria-hidden="true" tabindex="-1"></a>set2 <span class="op">=</span> {<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>}</span>
<span id="cb39-31"><a href="#cb39-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-32"><a href="#cb39-32" aria-hidden="true" tabindex="-1"></a><span class="co"># 聯集</span></span>
<span id="cb39-33"><a href="#cb39-33" aria-hidden="true" tabindex="-1"></a>union <span class="op">=</span> set1 <span class="op">|</span> set2  <span class="co"># 或 set1.union(set2)</span></span>
<span id="cb39-34"><a href="#cb39-34" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"聯集: </span><span class="sc">{</span>union<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb39-35"><a href="#cb39-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-36"><a href="#cb39-36" aria-hidden="true" tabindex="-1"></a><span class="co"># 交集</span></span>
<span id="cb39-37"><a href="#cb39-37" aria-hidden="true" tabindex="-1"></a>intersection <span class="op">=</span> set1 <span class="op">&amp;</span> set2  <span class="co"># 或 set1.intersection(set2)</span></span>
<span id="cb39-38"><a href="#cb39-38" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"交集: </span><span class="sc">{</span>intersection<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb39-39"><a href="#cb39-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-40"><a href="#cb39-40" aria-hidden="true" tabindex="-1"></a><span class="co"># 差集</span></span>
<span id="cb39-41"><a href="#cb39-41" aria-hidden="true" tabindex="-1"></a>difference <span class="op">=</span> set1 <span class="op">-</span> set2  <span class="co"># 或 set1.difference(set2)</span></span>
<span id="cb39-42"><a href="#cb39-42" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"差集 (set1 - set2): </span><span class="sc">{</span>difference<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb39-43"><a href="#cb39-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-44"><a href="#cb39-44" aria-hidden="true" tabindex="-1"></a><span class="co"># 對稱差集</span></span>
<span id="cb39-45"><a href="#cb39-45" aria-hidden="true" tabindex="-1"></a>symmetric_difference <span class="op">=</span> set1 <span class="op">^</span> set2  <span class="co"># 或 set1.symmetric_difference(set2)</span></span>
<span id="cb39-46"><a href="#cb39-46" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"對稱差集: </span><span class="sc">{</span>symmetric_difference<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb39-47"><a href="#cb39-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-48"><a href="#cb39-48" aria-hidden="true" tabindex="-1"></a><span class="co"># 子集檢查</span></span>
<span id="cb39-49"><a href="#cb39-49" aria-hidden="true" tabindex="-1"></a>subset1 <span class="op">=</span> {<span class="dv">1</span>, <span class="dv">2</span>}</span>
<span id="cb39-50"><a href="#cb39-50" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>subset1<span class="sc">}</span><span class="ss">是</span><span class="sc">{</span>set1<span class="sc">}</span><span class="ss">的子集: </span><span class="sc">{</span>subset1 <span class="op">&lt;=</span> set1<span class="sc">}</span><span class="ss">"</span>)  <span class="co"># 或 subset1.issubset(set1)</span></span>
<span id="cb39-51"><a href="#cb39-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-52"><a href="#cb39-52" aria-hidden="true" tabindex="-1"></a><span class="co"># 集合推導式</span></span>
<span id="cb39-53"><a href="#cb39-53" aria-hidden="true" tabindex="-1"></a>even_squares <span class="op">=</span> {x<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>) <span class="cf">if</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>}</span>
<span id="cb39-54"><a href="#cb39-54" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"偶數平方集合: </span><span class="sc">{</span>even_squares<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>水果集合: {'蘋果', '香蕉', '橙子'}
空集合: set()
數字集合: {1, 2, 3, 4, 5}
添加後的集合: {'蘋果', '香蕉', '橙子', '葡萄'}
移除後的集合: {'蘋果', '橙子', '葡萄'}
安全移除後的集合: {'蘋果', '橙子', '葡萄'}
'蘋果'是否在集合中: True
聯集: {1, 2, 3, 4, 5, 6, 7, 8}
交集: {4, 5}
差集 (set1 - set2): {1, 2, 3}
對稱差集: {1, 2, 3, 6, 7, 8}
{1, 2}是{1, 2, 3, 4, 5}的子集: True
偶數平方集合: {4, 16, 36, 64, 100}</code></pre>
</section>
<section id="c集合hashset" class="level4">
<h4 class="anchored" data-anchor-id="c集合hashset">C#集合（HashSet）</h4>
<div class="sourceCode" id="cb41"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Collections</span><span class="op">.</span><span class="fu">Generic</span><span class="op">;</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Linq</span><span class="op">;</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 創建集合</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>        HashSet<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> fruits <span class="op">=</span> <span class="kw">new</span> HashSet<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> <span class="op">{</span> <span class="st">"蘋果"</span><span class="op">,</span> <span class="st">"香蕉"</span><span class="op">,</span> <span class="st">"橙子"</span> <span class="op">};</span></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"水果集合: {{{string.Join("</span><span class="op">,</span> <span class="st">", fruits)}}}"</span><span class="op">);</span></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 創建空集合</span></span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>        HashSet<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> emptySet <span class="op">=</span> <span class="kw">new</span> HashSet<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;();</span></span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"空集合: {{{string.Join("</span><span class="op">,</span> <span class="st">", emptySet)}}}"</span><span class="op">);</span></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 從數組創建集合（會自動去除重複元素）</span></span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>        HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> numbers <span class="op">=</span> <span class="kw">new</span> HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> <span class="op">{</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span> <span class="op">};</span></span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"數字集合: {{{string.Join("</span><span class="op">,</span> <span class="st">", numbers)}}}"</span><span class="op">);</span></span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 添加元素</span></span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a>        fruits<span class="op">.</span><span class="fu">Add</span><span class="op">(</span><span class="st">"葡萄"</span><span class="op">);</span></span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"添加後的集合: {{{string.Join("</span><span class="op">,</span> <span class="st">", fruits)}}}"</span><span class="op">);</span></span>
<span id="cb41-24"><a href="#cb41-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-25"><a href="#cb41-25" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 移除元素</span></span>
<span id="cb41-26"><a href="#cb41-26" aria-hidden="true" tabindex="-1"></a>        fruits<span class="op">.</span><span class="fu">Remove</span><span class="op">(</span><span class="st">"香蕉"</span><span class="op">);</span>  <span class="co">// 返回布爾值表示操作是否成功</span></span>
<span id="cb41-27"><a href="#cb41-27" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"移除後的集合: {{{string.Join("</span><span class="op">,</span> <span class="st">", fruits)}}}"</span><span class="op">);</span></span>
<span id="cb41-28"><a href="#cb41-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-29"><a href="#cb41-29" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 安全移除（一樣的方法，只是不需要檢查返回值）</span></span>
<span id="cb41-30"><a href="#cb41-30" aria-hidden="true" tabindex="-1"></a>        fruits<span class="op">.</span><span class="fu">Remove</span><span class="op">(</span><span class="st">"芒果"</span><span class="op">);</span>  <span class="co">// 元素不存在不會引發錯誤</span></span>
<span id="cb41-31"><a href="#cb41-31" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"安全移除後的集合: {{{string.Join("</span><span class="op">,</span> <span class="st">", fruits)}}}"</span><span class="op">);</span></span>
<span id="cb41-32"><a href="#cb41-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-33"><a href="#cb41-33" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 檢查元素是否存在</span></span>
<span id="cb41-34"><a href="#cb41-34" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"'蘋果'是否在集合中: {fruits.Contains("</span>蘋果<span class="st">")}"</span><span class="op">);</span></span>
<span id="cb41-35"><a href="#cb41-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-36"><a href="#cb41-36" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 集合操作</span></span>
<span id="cb41-37"><a href="#cb41-37" aria-hidden="true" tabindex="-1"></a>        HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> set1 <span class="op">=</span> <span class="kw">new</span> HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> <span class="op">{</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span> <span class="op">};</span></span>
<span id="cb41-38"><a href="#cb41-38" aria-hidden="true" tabindex="-1"></a>        HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> set2 <span class="op">=</span> <span class="kw">new</span> HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> <span class="op">{</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">8</span> <span class="op">};</span></span>
<span id="cb41-39"><a href="#cb41-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-40"><a href="#cb41-40" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 聯集</span></span>
<span id="cb41-41"><a href="#cb41-41" aria-hidden="true" tabindex="-1"></a>        HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> union <span class="op">=</span> <span class="kw">new</span> HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;(</span>set1<span class="op">);</span></span>
<span id="cb41-42"><a href="#cb41-42" aria-hidden="true" tabindex="-1"></a>        union<span class="op">.</span><span class="fu">UnionWith</span><span class="op">(</span>set2<span class="op">);</span></span>
<span id="cb41-43"><a href="#cb41-43" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"聯集: {{{string.Join("</span><span class="op">,</span> <span class="st">", union)}}}"</span><span class="op">);</span></span>
<span id="cb41-44"><a href="#cb41-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-45"><a href="#cb41-45" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 交集</span></span>
<span id="cb41-46"><a href="#cb41-46" aria-hidden="true" tabindex="-1"></a>        HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> intersection <span class="op">=</span> <span class="kw">new</span> HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;(</span>set1<span class="op">);</span></span>
<span id="cb41-47"><a href="#cb41-47" aria-hidden="true" tabindex="-1"></a>        intersection<span class="op">.</span><span class="fu">IntersectWith</span><span class="op">(</span>set2<span class="op">);</span></span>
<span id="cb41-48"><a href="#cb41-48" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"交集: {{{string.Join("</span><span class="op">,</span> <span class="st">", intersection)}}}"</span><span class="op">);</span></span>
<span id="cb41-49"><a href="#cb41-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-50"><a href="#cb41-50" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 差集</span></span>
<span id="cb41-51"><a href="#cb41-51" aria-hidden="true" tabindex="-1"></a>        HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> difference <span class="op">=</span> <span class="kw">new</span> HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;(</span>set1<span class="op">);</span></span>
<span id="cb41-52"><a href="#cb41-52" aria-hidden="true" tabindex="-1"></a>        difference<span class="op">.</span><span class="fu">ExceptWith</span><span class="op">(</span>set2<span class="op">);</span></span>
<span id="cb41-53"><a href="#cb41-53" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"差集 (set1 - set2): {{{string.Join("</span><span class="op">,</span> <span class="st">", difference)}}}"</span><span class="op">);</span></span>
<span id="cb41-54"><a href="#cb41-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-55"><a href="#cb41-55" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 對稱差集</span></span>
<span id="cb41-56"><a href="#cb41-56" aria-hidden="true" tabindex="-1"></a>        HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> symmetricDifference <span class="op">=</span> <span class="kw">new</span> HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;(</span>set1<span class="op">);</span></span>
<span id="cb41-57"><a href="#cb41-57" aria-hidden="true" tabindex="-1"></a>        symmetricDifference<span class="op">.</span><span class="fu">SymmetricExceptWith</span><span class="op">(</span>set2<span class="op">);</span></span>
<span id="cb41-58"><a href="#cb41-58" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"對稱差集: {{{string.Join("</span><span class="op">,</span> <span class="st">", symmetricDifference)}}}"</span><span class="op">);</span></span>
<span id="cb41-59"><a href="#cb41-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-60"><a href="#cb41-60" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 子集檢查</span></span>
<span id="cb41-61"><a href="#cb41-61" aria-hidden="true" tabindex="-1"></a>        HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> subset1 <span class="op">=</span> <span class="kw">new</span> HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> <span class="op">{</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span> <span class="op">};</span></span>
<span id="cb41-62"><a href="#cb41-62" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"{{{string.Join("</span><span class="op">,</span> <span class="st">", subset1)}}}是{{{string.Join("</span><span class="op">,</span> <span class="st">", set1)}}}的子集: {subset1.IsSubsetOf(set1)}"</span><span class="op">);</span></span>
<span id="cb41-63"><a href="#cb41-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-64"><a href="#cb41-64" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用LINQ模擬集合推導式</span></span>
<span id="cb41-65"><a href="#cb41-65" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> evenSquares <span class="op">=</span> Enumerable<span class="op">.</span><span class="fu">Range</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">10</span><span class="op">)</span></span>
<span id="cb41-66"><a href="#cb41-66" aria-hidden="true" tabindex="-1"></a>                                    <span class="op">.</span><span class="fu">Where</span><span class="op">(</span>x <span class="op">=&gt;</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span></span>
<span id="cb41-67"><a href="#cb41-67" aria-hidden="true" tabindex="-1"></a>                                    <span class="op">.</span><span class="fu">Select</span><span class="op">(</span>x <span class="op">=&gt;</span> x <span class="op">*</span> x<span class="op">)</span></span>
<span id="cb41-68"><a href="#cb41-68" aria-hidden="true" tabindex="-1"></a>                                    <span class="op">.</span><span class="fu">ToHashSet</span><span class="op">();</span></span>
<span id="cb41-69"><a href="#cb41-69" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"偶數平方集合: {{{string.Join("</span><span class="op">,</span> <span class="st">", evenSquares)}}}"</span><span class="op">);</span></span>
<span id="cb41-70"><a href="#cb41-70" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb41-71"><a href="#cb41-71" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>水果集合: {蘋果, 香蕉, 橙子}
空集合: {}
數字集合: {1, 2, 3, 4, 5}
添加後的集合: {蘋果, 香蕉, 橙子, 葡萄}
移除後的集合: {蘋果, 橙子, 葡萄}
安全移除後的集合: {蘋果, 橙子, 葡萄}
'蘋果'是否在集合中: True
聯集: {1, 2, 3, 4, 5, 6, 7, 8}
交集: {4, 5}
差集 (set1 - set2): {1, 2, 3}
對稱差集: {1, 2, 3, 6, 7, 8}
{1, 2}是{1, 2, 3, 4, 5}的子集: True
偶數平方集合: {4, 16, 36, 64, 100}</code></pre>
</section>
</section>
</section>
<section id="函數" class="level2">
<h2 class="anchored" data-anchor-id="函數">函數</h2>
<section id="函數定義與調用" class="level3">
<h3 class="anchored" data-anchor-id="函數定義與調用">函數定義與調用</h3>
<section id="python函數" class="level4">
<h4 class="anchored" data-anchor-id="python函數">Python函數</h4>
<div class="sourceCode" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 基本函數定義</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> greet(name):</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="ss">f"你好，</span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">！"</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 調用函數</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>message <span class="op">=</span> greet(<span class="st">"小明"</span>)</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(message)</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 帶默認參數的函數</span></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> greet_with_time(name, time<span class="op">=</span><span class="st">"早上"</span>):</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="ss">f"</span><span class="sc">{</span>time<span class="sc">}</span><span class="ss">好，</span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">！"</span></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用默認參數調用</span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(greet_with_time(<span class="st">"小明"</span>))</span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 覆蓋默認參數</span></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(greet_with_time(<span class="st">"小明"</span>, <span class="st">"晚上"</span>))</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用關鍵字參數調用</span></span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(greet_with_time(time<span class="op">=</span><span class="st">"下午"</span>, name<span class="op">=</span><span class="st">"小華"</span>))</span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a><span class="co"># 可變參數數量</span></span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> add_numbers(<span class="op">*</span>numbers):</span>
<span id="cb43-23"><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">sum</span>(numbers)</span>
<span id="cb43-24"><a href="#cb43-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-25"><a href="#cb43-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"1 + 2 = </span><span class="sc">{</span>add_numbers(<span class="dv">1</span>, <span class="dv">2</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb43-26"><a href="#cb43-26" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"1 + 2 + 3 + 4 = </span><span class="sc">{</span>add_numbers(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb43-27"><a href="#cb43-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-28"><a href="#cb43-28" aria-hidden="true" tabindex="-1"></a><span class="co"># 可變關鍵字參數</span></span>
<span id="cb43-29"><a href="#cb43-29" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> person_info(<span class="op">**</span>info):</span>
<span id="cb43-30"><a href="#cb43-30" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> []</span>
<span id="cb43-31"><a href="#cb43-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> key, value <span class="kw">in</span> info.items():</span>
<span id="cb43-32"><a href="#cb43-32" aria-hidden="true" tabindex="-1"></a>        result.append(<span class="ss">f"</span><span class="sc">{</span>key<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>value<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb43-33"><a href="#cb43-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">", "</span>.join(result)</span>
<span id="cb43-34"><a href="#cb43-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-35"><a href="#cb43-35" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(person_info(name<span class="op">=</span><span class="st">"小明"</span>, age<span class="op">=</span><span class="dv">25</span>, job<span class="op">=</span><span class="st">"工程師"</span>))</span>
<span id="cb43-36"><a href="#cb43-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-37"><a href="#cb43-37" aria-hidden="true" tabindex="-1"></a><span class="co"># 組合使用</span></span>
<span id="cb43-38"><a href="#cb43-38" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> mixed_params(required, <span class="op">*</span>args, default<span class="op">=</span><span class="st">"默認值"</span>, <span class="op">**</span>kwargs):</span>
<span id="cb43-39"><a href="#cb43-39" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"必需參數: </span><span class="sc">{</span>required<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb43-40"><a href="#cb43-40" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"可變位置參數: </span><span class="sc">{</span>args<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb43-41"><a href="#cb43-41" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"默認參數: </span><span class="sc">{</span>default<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb43-42"><a href="#cb43-42" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"可變關鍵字參數: </span><span class="sc">{</span>kwargs<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb43-43"><a href="#cb43-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-44"><a href="#cb43-44" aria-hidden="true" tabindex="-1"></a>mixed_params(<span class="st">"必需值"</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, default<span class="op">=</span><span class="st">"新值"</span>, a<span class="op">=</span><span class="dv">10</span>, b<span class="op">=</span><span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>你好，小明！
早上好，小明！
晚上好，小明！
下午好，小華！
1 + 2 = 3
1 + 2 + 3 + 4 = 10
name: 小明, age: 25, job: 工程師
必需參數: 必需值
可變位置參數: (1, 2, 3)
默認參數: 新值
可變關鍵字參數: {'a': 10, 'b': 20}</code></pre>
</section>
<section id="c函數" class="level4">
<h4 class="anchored" data-anchor-id="c函數">C#函數</h4>
<div class="sourceCode" id="cb45"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Collections</span><span class="op">.</span><span class="fu">Generic</span><span class="op">;</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Linq</span><span class="op">;</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 基本方法定義</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">string</span> <span class="fu">Greet</span><span class="op">(</span><span class="dt">string</span> name<span class="op">)</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> $<span class="st">"你好，{name}！"</span><span class="op">;</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 帶默認參數的方法</span></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">string</span> <span class="fu">GreetWithTime</span><span class="op">(</span><span class="dt">string</span> name<span class="op">,</span> <span class="dt">string</span> time <span class="op">=</span> <span class="st">"早上"</span><span class="op">)</span></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> $<span class="st">"{time}好，{name}！"</span><span class="op">;</span></span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 可變參數數量（params關鍵字）</span></span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">int</span> <span class="fu">AddNumbers</span><span class="op">(</span><span class="kw">params</span> <span class="dt">int</span><span class="op">[]</span> numbers<span class="op">)</span></span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> numbers<span class="op">.</span><span class="fu">Sum</span><span class="op">();</span></span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 使用字典模擬可變關鍵字參數</span></span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">string</span> <span class="fu">PersonInfo</span><span class="op">(</span>Dictionary<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">object</span><span class="op">&gt;</span> info<span class="op">)</span></span>
<span id="cb45-27"><a href="#cb45-27" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb45-28"><a href="#cb45-28" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> <span class="dt">string</span><span class="op">.</span><span class="fu">Join</span><span class="op">(</span><span class="st">", "</span><span class="op">,</span> info<span class="op">.</span><span class="fu">Select</span><span class="op">(</span>kv <span class="op">=&gt;</span> $<span class="st">"{kv.Key}: {kv.Value}"</span><span class="op">));</span></span>
<span id="cb45-29"><a href="#cb45-29" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb45-30"><a href="#cb45-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-31"><a href="#cb45-31" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 組合使用方法參數</span></span>
<span id="cb45-32"><a href="#cb45-32" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">MixedParams</span><span class="op">(</span><span class="dt">string</span> required<span class="op">,</span> <span class="dt">object</span><span class="op">[]</span> args <span class="op">=</span> <span class="kw">null</span><span class="op">,</span> <span class="dt">string</span> defaultParam <span class="op">=</span> <span class="st">"默認值"</span><span class="op">,</span> Dictionary<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">object</span><span class="op">&gt;</span> kwargs <span class="op">=</span> <span class="kw">null</span><span class="op">)</span></span>
<span id="cb45-33"><a href="#cb45-33" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb45-34"><a href="#cb45-34" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"必需參數: {required}"</span><span class="op">);</span></span>
<span id="cb45-35"><a href="#cb45-35" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"可變位置參數: [{string.Join("</span><span class="op">,</span> <span class="st">", args ?? new object[0])}]"</span><span class="op">);</span></span>
<span id="cb45-36"><a href="#cb45-36" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"默認參數: {defaultParam}"</span><span class="op">);</span></span>
<span id="cb45-37"><a href="#cb45-37" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"可變關鍵字參數: {{{string.Join("</span><span class="op">,</span> <span class="st">", kwargs?.Select(kv =&gt; $"</span><span class="op">{</span>kv<span class="op">.</span><span class="fu">Key</span><span class="op">}:</span> <span class="op">{</span>kv<span class="op">.</span><span class="fu">Value</span><span class="op">}</span><span class="st">") ?? new string[0])}}}"</span><span class="op">);</span></span>
<span id="cb45-38"><a href="#cb45-38" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb45-39"><a href="#cb45-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-40"><a href="#cb45-40" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 方法重載</span></span>
<span id="cb45-41"><a href="#cb45-41" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">int</span> <span class="fu">Add</span><span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> b<span class="op">)</span></span>
<span id="cb45-42"><a href="#cb45-42" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb45-43"><a href="#cb45-43" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> a <span class="op">+</span> b<span class="op">;</span></span>
<span id="cb45-44"><a href="#cb45-44" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb45-45"><a href="#cb45-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-46"><a href="#cb45-46" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">double</span> <span class="fu">Add</span><span class="op">(</span><span class="dt">double</span> a<span class="op">,</span> <span class="dt">double</span> b<span class="op">)</span></span>
<span id="cb45-47"><a href="#cb45-47" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb45-48"><a href="#cb45-48" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> a <span class="op">+</span> b<span class="op">;</span></span>
<span id="cb45-49"><a href="#cb45-49" aria-hidden="true" tabindex="-1"></a>    ```csharp</span>
<span id="cb45-50"><a href="#cb45-50" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 方法重載</span></span>
<span id="cb45-51"><a href="#cb45-51" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">int</span> <span class="fu">Add</span><span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> b<span class="op">)</span></span>
<span id="cb45-52"><a href="#cb45-52" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb45-53"><a href="#cb45-53" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> a <span class="op">+</span> b<span class="op">;</span></span>
<span id="cb45-54"><a href="#cb45-54" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb45-55"><a href="#cb45-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-56"><a href="#cb45-56" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">double</span> <span class="fu">Add</span><span class="op">(</span><span class="dt">double</span> a<span class="op">,</span> <span class="dt">double</span> b<span class="op">)</span></span>
<span id="cb45-57"><a href="#cb45-57" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb45-58"><a href="#cb45-58" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> a <span class="op">+</span> b<span class="op">;</span></span>
<span id="cb45-59"><a href="#cb45-59" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb45-60"><a href="#cb45-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-61"><a href="#cb45-61" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 可選參數和命名參數</span></span>
<span id="cb45-62"><a href="#cb45-62" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">string</span> <span class="fu">FormatName</span><span class="op">(</span><span class="dt">string</span> firstName<span class="op">,</span> <span class="dt">string</span> lastName<span class="op">,</span> <span class="dt">string</span> middleName <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span id="cb45-63"><a href="#cb45-63" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb45-64"><a href="#cb45-64" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(!</span><span class="dt">string</span><span class="op">.</span><span class="fu">IsNullOrEmpty</span><span class="op">(</span>middleName<span class="op">))</span></span>
<span id="cb45-65"><a href="#cb45-65" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb45-66"><a href="#cb45-66" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> $<span class="st">"{firstName} {middleName} {lastName}"</span><span class="op">;</span></span>
<span id="cb45-67"><a href="#cb45-67" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb45-68"><a href="#cb45-68" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> $<span class="st">"{firstName} {lastName}"</span><span class="op">;</span></span>
<span id="cb45-69"><a href="#cb45-69" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb45-70"><a href="#cb45-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-71"><a href="#cb45-71" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb45-72"><a href="#cb45-72" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb45-73"><a href="#cb45-73" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 調用基本方法</span></span>
<span id="cb45-74"><a href="#cb45-74" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> message <span class="op">=</span> <span class="fu">Greet</span><span class="op">(</span><span class="st">"小明"</span><span class="op">);</span></span>
<span id="cb45-75"><a href="#cb45-75" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>message<span class="op">);</span></span>
<span id="cb45-76"><a href="#cb45-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-77"><a href="#cb45-77" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用默認參數調用</span></span>
<span id="cb45-78"><a href="#cb45-78" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="fu">GreetWithTime</span><span class="op">(</span><span class="st">"小明"</span><span class="op">));</span></span>
<span id="cb45-79"><a href="#cb45-79" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 覆蓋默認參數</span></span>
<span id="cb45-80"><a href="#cb45-80" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="fu">GreetWithTime</span><span class="op">(</span><span class="st">"小明"</span><span class="op">,</span> <span class="st">"晚上"</span><span class="op">));</span></span>
<span id="cb45-81"><a href="#cb45-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-82"><a href="#cb45-82" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用命名參數調用</span></span>
<span id="cb45-83"><a href="#cb45-83" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="fu">GreetWithTime</span><span class="op">(</span>name<span class="op">:</span> <span class="st">"小華"</span><span class="op">,</span> time<span class="op">:</span> <span class="st">"下午"</span><span class="op">));</span></span>
<span id="cb45-84"><a href="#cb45-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-85"><a href="#cb45-85" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用可變參數</span></span>
<span id="cb45-86"><a href="#cb45-86" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"1 + 2 = {AddNumbers(1, 2)}"</span><span class="op">);</span></span>
<span id="cb45-87"><a href="#cb45-87" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"1 + 2 + 3 + 4 = {AddNumbers(1, 2, 3, 4)}"</span><span class="op">);</span></span>
<span id="cb45-88"><a href="#cb45-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-89"><a href="#cb45-89" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用字典模擬可變關鍵字參數</span></span>
<span id="cb45-90"><a href="#cb45-90" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> personInfo <span class="op">=</span> <span class="kw">new</span> Dictionary<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">object</span><span class="op">&gt;</span></span>
<span id="cb45-91"><a href="#cb45-91" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb45-92"><a href="#cb45-92" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span> <span class="st">"name"</span><span class="op">,</span> <span class="st">"小明"</span> <span class="op">},</span></span>
<span id="cb45-93"><a href="#cb45-93" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span> <span class="st">"age"</span><span class="op">,</span> <span class="dv">25</span> <span class="op">},</span></span>
<span id="cb45-94"><a href="#cb45-94" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span> <span class="st">"job"</span><span class="op">,</span> <span class="st">"工程師"</span> <span class="op">}</span></span>
<span id="cb45-95"><a href="#cb45-95" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb45-96"><a href="#cb45-96" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="fu">PersonInfo</span><span class="op">(</span>personInfo<span class="op">));</span></span>
<span id="cb45-97"><a href="#cb45-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-98"><a href="#cb45-98" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 組合使用</span></span>
<span id="cb45-99"><a href="#cb45-99" aria-hidden="true" tabindex="-1"></a>        <span class="fu">MixedParams</span><span class="op">(</span></span>
<span id="cb45-100"><a href="#cb45-100" aria-hidden="true" tabindex="-1"></a>            <span class="st">"必需值"</span><span class="op">,</span> </span>
<span id="cb45-101"><a href="#cb45-101" aria-hidden="true" tabindex="-1"></a>            <span class="kw">new</span> <span class="dt">object</span><span class="op">[]</span> <span class="op">{</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span> <span class="op">},</span> </span>
<span id="cb45-102"><a href="#cb45-102" aria-hidden="true" tabindex="-1"></a>            <span class="st">"新值"</span><span class="op">,</span> </span>
<span id="cb45-103"><a href="#cb45-103" aria-hidden="true" tabindex="-1"></a>            <span class="kw">new</span> Dictionary<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">object</span><span class="op">&gt;</span> <span class="op">{</span> <span class="op">{</span> <span class="st">"a"</span><span class="op">,</span> <span class="dv">10</span> <span class="op">},</span> <span class="op">{</span> <span class="st">"b"</span><span class="op">,</span> <span class="dv">20</span> <span class="op">}</span> <span class="op">}</span></span>
<span id="cb45-104"><a href="#cb45-104" aria-hidden="true" tabindex="-1"></a>        <span class="op">);</span></span>
<span id="cb45-105"><a href="#cb45-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-106"><a href="#cb45-106" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 方法重載</span></span>
<span id="cb45-107"><a href="#cb45-107" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"整數相加: {Add(5, 10)}"</span><span class="op">);</span></span>
<span id="cb45-108"><a href="#cb45-108" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"小數相加: {Add(5.5, 10.5)}"</span><span class="op">);</span></span>
<span id="cb45-109"><a href="#cb45-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-110"><a href="#cb45-110" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 命名參數和可選參數</span></span>
<span id="cb45-111"><a href="#cb45-111" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="fu">FormatName</span><span class="op">(</span><span class="st">"張"</span><span class="op">,</span> <span class="st">"小明"</span><span class="op">));</span></span>
<span id="cb45-112"><a href="#cb45-112" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="fu">FormatName</span><span class="op">(</span><span class="st">"張"</span><span class="op">,</span> <span class="st">"小明"</span><span class="op">,</span> <span class="st">"大"</span><span class="op">));</span>  <span class="co">// 帶中間名</span></span>
<span id="cb45-113"><a href="#cb45-113" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="fu">FormatName</span><span class="op">(</span>firstName<span class="op">:</span> <span class="st">"張"</span><span class="op">,</span> lastName<span class="op">:</span> <span class="st">"小明"</span><span class="op">));</span>  <span class="co">// 命名參數</span></span>
<span id="cb45-114"><a href="#cb45-114" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb45-115"><a href="#cb45-115" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>你好，小明！
早上好，小明！
晚上好，小明！
下午好，小華！
1 + 2 = 3
1 + 2 + 3 + 4 = 10
name: 小明, age: 25, job: 工程師
必需參數: 必需值
可變位置參數: [1, 2, 3]
默認參數: 新值
可變關鍵字參數: {a: 10, b: 20}
整數相加: 15
小數相加: 16
張 小明
張 大 小明
張 小明</code></pre>
</section>
</section>
<section id="python與c函數差異總結" class="level3">
<h3 class="anchored" data-anchor-id="python與c函數差異總結">Python與C#函數差異總結</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 16%">
<col style="width: 40%">
<col style="width: 43%">
</colgroup>
<thead>
<tr class="header">
<th>特性</th>
<th>Python</th>
<th>C#</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>定義關鍵字</td>
<td><code>def</code></td>
<td><code>static</code>, <code>void</code>/返回類型</td>
</tr>
<tr class="even">
<td>默認參數</td>
<td>直接在參數後賦值</td>
<td>參數類型後賦值</td>
</tr>
<tr class="odd">
<td>可變位置參數</td>
<td><code>*args</code></td>
<td><code>params</code> 關鍵字</td>
</tr>
<tr class="even">
<td>可變關鍵字參數</td>
<td><code>**kwargs</code></td>
<td>無內建等價物，通常使用字典</td>
</tr>
<tr class="odd">
<td>命名參數</td>
<td>支持</td>
<td>支持</td>
</tr>
<tr class="even">
<td>方法重載</td>
<td>不支持（可用默認參數和可變參數實現類似功能）</td>
<td>完全支持</td>
</tr>
<tr class="odd">
<td>參數位置</td>
<td>彈性的位置和關鍵字參數</td>
<td>較嚴格的參數模式</td>
</tr>
</tbody>
</table>
</section>
<section id="匿名函數lambda" class="level3">
<h3 class="anchored" data-anchor-id="匿名函數lambda">匿名函數（Lambda）</h3>
<section id="python-lambda" class="level4">
<h4 class="anchored" data-anchor-id="python-lambda">Python Lambda</h4>
<div class="sourceCode" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 基本lambda表達式</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>square <span class="op">=</span> <span class="kw">lambda</span> x: x<span class="op">**</span><span class="dv">2</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"3的平方: </span><span class="sc">{</span>square(<span class="dv">3</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 多參數lambda</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>add <span class="op">=</span> <span class="kw">lambda</span> x, y: x <span class="op">+</span> y</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"2 + 3 = </span><span class="sc">{</span>add(<span class="dv">2</span>, <span class="dv">3</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 在高階函數中使用</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>squared <span class="op">=</span> <span class="bu">list</span>(<span class="bu">map</span>(<span class="kw">lambda</span> x: x<span class="op">**</span><span class="dv">2</span>, numbers))</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"列表平方: </span><span class="sc">{</span>squared<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 結合filter使用</span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>evens <span class="op">=</span> <span class="bu">list</span>(<span class="bu">filter</span>(<span class="kw">lambda</span> x: x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>, numbers))</span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"偶數: </span><span class="sc">{</span>evens<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a><span class="co"># 結合sorted使用</span></span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>students <span class="op">=</span> [</span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"name"</span>: <span class="st">"小明"</span>, <span class="st">"score"</span>: <span class="dv">85</span>},</span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"name"</span>: <span class="st">"小華"</span>, <span class="st">"score"</span>: <span class="dv">92</span>},</span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"name"</span>: <span class="st">"小強"</span>, <span class="st">"score"</span>: <span class="dv">78</span>}</span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a>sorted_students <span class="op">=</span> <span class="bu">sorted</span>(students, key<span class="op">=</span><span class="kw">lambda</span> s: s[<span class="st">"score"</span>], reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"按分數排序的學生:"</span>)</span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> student <span class="kw">in</span> sorted_students:</span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>student[<span class="st">'name'</span>]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>student[<span class="st">'score'</span>]<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>3的平方: 9
2 + 3 = 5
列表平方: [1, 4, 9, 16, 25]
偶數: [2, 4]
按分數排序的學生:
小華: 92
小明: 85
小強: 78</code></pre>
</section>
<section id="c-lambda" class="level4">
<h4 class="anchored" data-anchor-id="c-lambda">C# Lambda</h4>
<div class="sourceCode" id="cb49"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Collections</span><span class="op">.</span><span class="fu">Generic</span><span class="op">;</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Linq</span><span class="op">;</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 基本lambda表達式</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>        Func<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> square <span class="op">=</span> x <span class="op">=&gt;</span> x <span class="op">*</span> x<span class="op">;</span></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"3的平方: {square(3)}"</span><span class="op">);</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 多參數lambda</span></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>        Func<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> add <span class="op">=</span> <span class="op">(</span>x<span class="op">,</span> y<span class="op">)</span> <span class="op">=&gt;</span> x <span class="op">+</span> y<span class="op">;</span></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"2 + 3 = {add(2, 3)}"</span><span class="op">);</span></span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 在LINQ中使用</span></span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> numbers <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> <span class="op">{</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span> <span class="op">};</span></span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> squared <span class="op">=</span> numbers<span class="op">.</span><span class="fu">Select</span><span class="op">(</span>x <span class="op">=&gt;</span> x <span class="op">*</span> x<span class="op">).</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"列表平方: [{string.Join("</span><span class="op">,</span> <span class="st">", squared)}]"</span><span class="op">);</span></span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 結合Where使用（類似filter）</span></span>
<span id="cb49-23"><a href="#cb49-23" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> evens <span class="op">=</span> numbers<span class="op">.</span><span class="fu">Where</span><span class="op">(</span>x <span class="op">=&gt;</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span><span class="op">).</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb49-24"><a href="#cb49-24" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"偶數: [{string.Join("</span><span class="op">,</span> <span class="st">", evens)}]"</span><span class="op">);</span></span>
<span id="cb49-25"><a href="#cb49-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-26"><a href="#cb49-26" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 結合OrderBy使用（類似sorted）</span></span>
<span id="cb49-27"><a href="#cb49-27" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span>Dictionary<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">object</span><span class="op">&gt;&gt;</span> students <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span>Dictionary<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">object</span><span class="op">&gt;&gt;</span></span>
<span id="cb49-28"><a href="#cb49-28" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb49-29"><a href="#cb49-29" aria-hidden="true" tabindex="-1"></a>            <span class="kw">new</span> Dictionary<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">object</span><span class="op">&gt;</span> <span class="op">{</span> <span class="op">{</span> <span class="st">"name"</span><span class="op">,</span> <span class="st">"小明"</span> <span class="op">},</span> <span class="op">{</span> <span class="st">"score"</span><span class="op">,</span> <span class="dv">85</span> <span class="op">}</span> <span class="op">},</span></span>
<span id="cb49-30"><a href="#cb49-30" aria-hidden="true" tabindex="-1"></a>            <span class="kw">new</span> Dictionary<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">object</span><span class="op">&gt;</span> <span class="op">{</span> <span class="op">{</span> <span class="st">"name"</span><span class="op">,</span> <span class="st">"小華"</span> <span class="op">},</span> <span class="op">{</span> <span class="st">"score"</span><span class="op">,</span> <span class="dv">92</span> <span class="op">}</span> <span class="op">},</span></span>
<span id="cb49-31"><a href="#cb49-31" aria-hidden="true" tabindex="-1"></a>            <span class="kw">new</span> Dictionary<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">object</span><span class="op">&gt;</span> <span class="op">{</span> <span class="op">{</span> <span class="st">"name"</span><span class="op">,</span> <span class="st">"小強"</span> <span class="op">},</span> <span class="op">{</span> <span class="st">"score"</span><span class="op">,</span> <span class="dv">78</span> <span class="op">}</span> <span class="op">}</span></span>
<span id="cb49-32"><a href="#cb49-32" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb49-33"><a href="#cb49-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-34"><a href="#cb49-34" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> sortedStudents <span class="op">=</span> students<span class="op">.</span><span class="fu">OrderByDescending</span><span class="op">(</span>s <span class="op">=&gt;</span> <span class="op">(</span><span class="dt">int</span><span class="op">)</span>s<span class="op">[</span><span class="st">"score"</span><span class="op">]).</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb49-35"><a href="#cb49-35" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"按分數排序的學生:"</span><span class="op">);</span></span>
<span id="cb49-36"><a href="#cb49-36" aria-hidden="true" tabindex="-1"></a>        <span class="kw">foreach</span> <span class="op">(</span><span class="dt">var</span> student <span class="kw">in</span> sortedStudents<span class="op">)</span></span>
<span id="cb49-37"><a href="#cb49-37" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb49-38"><a href="#cb49-38" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"{student["</span>name<span class="st">"]}: {student["</span>score<span class="st">"]}"</span><span class="op">);</span></span>
<span id="cb49-39"><a href="#cb49-39" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb49-40"><a href="#cb49-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-41"><a href="#cb49-41" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用Action（無返回值的lambda）</span></span>
<span id="cb49-42"><a href="#cb49-42" aria-hidden="true" tabindex="-1"></a>        Action<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> greet <span class="op">=</span> name <span class="op">=&gt;</span> Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"你好，{name}！"</span><span class="op">);</span></span>
<span id="cb49-43"><a href="#cb49-43" aria-hidden="true" tabindex="-1"></a>        <span class="fu">greet</span><span class="op">(</span><span class="st">"小明"</span><span class="op">);</span></span>
<span id="cb49-44"><a href="#cb49-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-45"><a href="#cb49-45" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 多行lambda</span></span>
<span id="cb49-46"><a href="#cb49-46" aria-hidden="true" tabindex="-1"></a>        Func<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">,</span> <span class="dt">string</span><span class="op">&gt;</span> compareTwoNumbers <span class="op">=</span> <span class="op">(</span>a<span class="op">,</span> b<span class="op">)</span> <span class="op">=&gt;</span> </span>
<span id="cb49-47"><a href="#cb49-47" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb49-48"><a href="#cb49-48" aria-hidden="true" tabindex="-1"></a>            <span class="kw">if</span> <span class="op">(</span>a <span class="op">&gt;</span> b<span class="op">)</span> <span class="kw">return</span> $<span class="st">"{a}大於{b}"</span><span class="op">;</span></span>
<span id="cb49-49"><a href="#cb49-49" aria-hidden="true" tabindex="-1"></a>            <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span>a <span class="op">&lt;</span> b<span class="op">)</span> <span class="kw">return</span> $<span class="st">"{a}小於{b}"</span><span class="op">;</span></span>
<span id="cb49-50"><a href="#cb49-50" aria-hidden="true" tabindex="-1"></a>            <span class="kw">else</span> <span class="kw">return</span> $<span class="st">"{a}等於{b}"</span><span class="op">;</span></span>
<span id="cb49-51"><a href="#cb49-51" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb49-52"><a href="#cb49-52" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="fu">compareTwoNumbers</span><span class="op">(</span><span class="dv">5</span><span class="op">,</span> <span class="dv">3</span><span class="op">));</span></span>
<span id="cb49-53"><a href="#cb49-53" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="fu">compareTwoNumbers</span><span class="op">(</span><span class="dv">2</span><span class="op">,</span> <span class="dv">7</span><span class="op">));</span></span>
<span id="cb49-54"><a href="#cb49-54" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="fu">compareTwoNumbers</span><span class="op">(</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span><span class="op">));</span></span>
<span id="cb49-55"><a href="#cb49-55" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb49-56"><a href="#cb49-56" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>3的平方: 9
2 + 3 = 5
列表平方: [1, 4, 9, 16, 25]
偶數: [2, 4]
按分數排序的學生:
小華: 92
小明: 85
小強: 78
你好，小明！
5大於3
2小於7
4等於4</code></pre>
</section>
</section>
<section id="lambda表達式差異總結" class="level3">
<h3 class="anchored" data-anchor-id="lambda表達式差異總結">Lambda表達式差異總結</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 16%">
<col style="width: 40%">
<col style="width: 43%">
</colgroup>
<thead>
<tr class="header">
<th>特性</th>
<th>Python</th>
<th>C#</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>語法定義</td>
<td><code>lambda params: expression</code></td>
<td><code>(params) =&gt; expression</code> 或 <code>(params) =&gt; { statements; }</code></td>
</tr>
<tr class="even">
<td>類型定義</td>
<td>動態類型</td>
<td>使用 <code>Func&lt;&gt;</code> 或 <code>Action&lt;&gt;</code> 顯式定義類型</td>
</tr>
<tr class="odd">
<td>多行支持</td>
<td>不支持（僅單表達式）</td>
<td>支持多行語句塊</td>
</tr>
<tr class="even">
<td>常用於</td>
<td>map, filter, sorted 等高階函數</td>
<td>LINQ 查詢, 事件處理程序等</td>
</tr>
<tr class="odd">
<td>捕獲變量</td>
<td>捕獲環境中的變量</td>
<td>捕獲環境中的變量（閉包）</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="類和物件" class="level2">
<h2 class="anchored" data-anchor-id="類和物件">類和物件</h2>
<section id="類定義與實例化" class="level3">
<h3 class="anchored" data-anchor-id="類定義與實例化">類定義與實例化</h3>
<section id="python類" class="level4">
<h4 class="anchored" data-anchor-id="python類">Python類</h4>
<div class="sourceCode" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 基本類定義</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Person:</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 類變量</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>    species <span class="op">=</span> <span class="st">"人類"</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 初始化方法（構造函數）</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name, age):</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 實例變量</span></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.age <span class="op">=</span> age</span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 實例方法</span></span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> introduce(<span class="va">self</span>):</span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"我是</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>name<span class="sc">}</span><span class="ss">，今年</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>age<span class="sc">}</span><span class="ss">歲"</span></span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 帶參數的方法</span></span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> celebrate_birthday(<span class="va">self</span>):</span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.age <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>name<span class="sc">}</span><span class="ss">過生日了，現在</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>age<span class="sc">}</span><span class="ss">歲"</span></span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 類方法</span></span>
<span id="cb51-22"><a href="#cb51-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">@classmethod</span></span>
<span id="cb51-23"><a href="#cb51-23" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_species(cls):</span>
<span id="cb51-24"><a href="#cb51-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"這是</span><span class="sc">{</span>cls<span class="sc">.</span>species<span class="sc">}</span><span class="ss">類"</span></span>
<span id="cb51-25"><a href="#cb51-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-26"><a href="#cb51-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 靜態方法</span></span>
<span id="cb51-27"><a href="#cb51-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">@staticmethod</span></span>
<span id="cb51-28"><a href="#cb51-28" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> is_adult(age):</span>
<span id="cb51-29"><a href="#cb51-29" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> age <span class="op">&gt;=</span> <span class="dv">18</span></span>
<span id="cb51-30"><a href="#cb51-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-31"><a href="#cb51-31" aria-hidden="true" tabindex="-1"></a><span class="co"># 創建實例</span></span>
<span id="cb51-32"><a href="#cb51-32" aria-hidden="true" tabindex="-1"></a>person1 <span class="op">=</span> Person(<span class="st">"小明"</span>, <span class="dv">25</span>)</span>
<span id="cb51-33"><a href="#cb51-33" aria-hidden="true" tabindex="-1"></a>person2 <span class="op">=</span> Person(<span class="st">"小華"</span>, <span class="dv">17</span>)</span>
<span id="cb51-34"><a href="#cb51-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-35"><a href="#cb51-35" aria-hidden="true" tabindex="-1"></a><span class="co"># 訪問實例變量</span></span>
<span id="cb51-36"><a href="#cb51-36" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"person1的名字: </span><span class="sc">{</span>person1<span class="sc">.</span>name<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb51-37"><a href="#cb51-37" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"person2的年齡: </span><span class="sc">{</span>person2<span class="sc">.</span>age<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb51-38"><a href="#cb51-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-39"><a href="#cb51-39" aria-hidden="true" tabindex="-1"></a><span class="co"># 調用實例方法</span></span>
<span id="cb51-40"><a href="#cb51-40" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(person1.introduce())</span>
<span id="cb51-41"><a href="#cb51-41" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(person2.celebrate_birthday())</span>
<span id="cb51-42"><a href="#cb51-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-43"><a href="#cb51-43" aria-hidden="true" tabindex="-1"></a><span class="co"># 訪問類變量</span></span>
<span id="cb51-44"><a href="#cb51-44" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Person的物種: </span><span class="sc">{</span>Person<span class="sc">.</span>species<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb51-45"><a href="#cb51-45" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"通過實例訪問物種: </span><span class="sc">{</span>person1<span class="sc">.</span>species<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb51-46"><a href="#cb51-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-47"><a href="#cb51-47" aria-hidden="true" tabindex="-1"></a><span class="co"># 調用類方法</span></span>
<span id="cb51-48"><a href="#cb51-48" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(Person.get_species())</span>
<span id="cb51-49"><a href="#cb51-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-50"><a href="#cb51-50" aria-hidden="true" tabindex="-1"></a><span class="co"># 調用靜態方法</span></span>
<span id="cb51-51"><a href="#cb51-51" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"小明是成年人嗎? </span><span class="sc">{</span>Person<span class="sc">.</span>is_adult(person1.age)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb51-52"><a href="#cb51-52" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"小華是成年人嗎? </span><span class="sc">{</span>Person<span class="sc">.</span>is_adult(person2.age)<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>person1的名字: 小明
person2的年齡: 17
我是小明，今年25歲
小華過生日了，現在18歲
Person的物種: 人類
通過實例訪問物種: 人類
這是人類類
小明是成年人嗎? True
小華是成年人嗎? True</code></pre>
</section>
<section id="c類" class="level4">
<h4 class="anchored" data-anchor-id="c類">C#類</h4>
<div class="sourceCode" id="cb53"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 基本類定義</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> Person</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 類變量（靜態字段）</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">static</span> <span class="dt">string</span> Species <span class="op">=</span> <span class="st">"人類"</span><span class="op">;</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 實例變量（字段）</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">string</span> Name<span class="op">;</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">int</span> Age<span class="op">;</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 構造函數</span></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="fu">Person</span><span class="op">(</span><span class="dt">string</span> name<span class="op">,</span> <span class="dt">int</span> age<span class="op">)</span></span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>            Name <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>            Age <span class="op">=</span> age<span class="op">;</span></span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 實例方法</span></span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">string</span> <span class="fu">Introduce</span><span class="op">()</span></span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> $<span class="st">"我是{Name}，今年{Age}歲"</span><span class="op">;</span></span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-28"><a href="#cb53-28" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 帶參數的方法</span></span>
<span id="cb53-29"><a href="#cb53-29" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">string</span> <span class="fu">CelebrateBirthday</span><span class="op">()</span></span>
<span id="cb53-30"><a href="#cb53-30" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb53-31"><a href="#cb53-31" aria-hidden="true" tabindex="-1"></a>            Age <span class="op">+=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb53-32"><a href="#cb53-32" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> $<span class="st">"{Name}過生日了，現在{Age}歲"</span><span class="op">;</span></span>
<span id="cb53-33"><a href="#cb53-33" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb53-34"><a href="#cb53-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-35"><a href="#cb53-35" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 類方法（靜態方法）</span></span>
<span id="cb53-36"><a href="#cb53-36" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">static</span> <span class="dt">string</span> <span class="fu">GetSpecies</span><span class="op">()</span></span>
<span id="cb53-37"><a href="#cb53-37" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb53-38"><a href="#cb53-38" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> $<span class="st">"這是{Species}類"</span><span class="op">;</span></span>
<span id="cb53-39"><a href="#cb53-39" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb53-40"><a href="#cb53-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-41"><a href="#cb53-41" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 靜態方法</span></span>
<span id="cb53-42"><a href="#cb53-42" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">static</span> <span class="dt">bool</span> <span class="fu">IsAdult</span><span class="op">(</span><span class="dt">int</span> age<span class="op">)</span></span>
<span id="cb53-43"><a href="#cb53-43" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb53-44"><a href="#cb53-44" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> age <span class="op">&gt;=</span> <span class="dv">18</span><span class="op">;</span></span>
<span id="cb53-45"><a href="#cb53-45" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb53-46"><a href="#cb53-46" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb53-47"><a href="#cb53-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-48"><a href="#cb53-48" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb53-49"><a href="#cb53-49" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb53-50"><a href="#cb53-50" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 創建實例</span></span>
<span id="cb53-51"><a href="#cb53-51" aria-hidden="true" tabindex="-1"></a>        Person person1 <span class="op">=</span> <span class="kw">new</span> <span class="fu">Person</span><span class="op">(</span><span class="st">"小明"</span><span class="op">,</span> <span class="dv">25</span><span class="op">);</span></span>
<span id="cb53-52"><a href="#cb53-52" aria-hidden="true" tabindex="-1"></a>        Person person2 <span class="op">=</span> <span class="kw">new</span> <span class="fu">Person</span><span class="op">(</span><span class="st">"小華"</span><span class="op">,</span> <span class="dv">17</span><span class="op">);</span></span>
<span id="cb53-53"><a href="#cb53-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-54"><a href="#cb53-54" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 訪問實例變量</span></span>
<span id="cb53-55"><a href="#cb53-55" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"person1的名字: {person1.Name}"</span><span class="op">);</span></span>
<span id="cb53-56"><a href="#cb53-56" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"person2的年齡: {person2.Age}"</span><span class="op">);</span></span>
<span id="cb53-57"><a href="#cb53-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-58"><a href="#cb53-58" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 調用實例方法</span></span>
<span id="cb53-59"><a href="#cb53-59" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>person1<span class="op">.</span><span class="fu">Introduce</span><span class="op">());</span></span>
<span id="cb53-60"><a href="#cb53-60" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>person2<span class="op">.</span><span class="fu">CelebrateBirthday</span><span class="op">());</span></span>
<span id="cb53-61"><a href="#cb53-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-62"><a href="#cb53-62" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 訪問類變量</span></span>
<span id="cb53-63"><a href="#cb53-63" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"Person的物種: {Person.Species}"</span><span class="op">);</span></span>
<span id="cb53-64"><a href="#cb53-64" aria-hidden="true" tabindex="-1"></a>        <span class="co">// C#中不能通過實例訪問靜態成員（除非使用反射）</span></span>
<span id="cb53-65"><a href="#cb53-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-66"><a href="#cb53-66" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 調用類方法</span></span>
<span id="cb53-67"><a href="#cb53-67" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>Person<span class="op">.</span><span class="fu">GetSpecies</span><span class="op">());</span></span>
<span id="cb53-68"><a href="#cb53-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-69"><a href="#cb53-69" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 調用靜態方法</span></span>
<span id="cb53-70"><a href="#cb53-70" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"小明是成年人嗎? {Person.IsAdult(person1.Age)}"</span><span class="op">);</span></span>
<span id="cb53-71"><a href="#cb53-71" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"小華是成年人嗎? {Person.IsAdult(person2.Age)}"</span><span class="op">);</span></span>
<span id="cb53-72"><a href="#cb53-72" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb53-73"><a href="#cb53-73" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>person1的名字: 小明
person2的年齡: 17
我是小明，今年25歲
小華過生日了，現在18歲
Person的物種: 人類
這是人類類
小明是成年人嗎? True
小華是成年人嗎? True</code></pre>
</section>
</section>
<section id="屬性與封裝" class="level3">
<h3 class="anchored" data-anchor-id="屬性與封裝">屬性與封裝</h3>
<section id="python屬性與封裝" class="level4">
<h4 class="anchored" data-anchor-id="python屬性與封裝">Python屬性與封裝</h4>
<div class="sourceCode" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Student:</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name, score<span class="op">=</span><span class="dv">0</span>):</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>._name <span class="op">=</span> name  <span class="co"># 約定為"保護"變量（單下劃線）</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.__score <span class="op">=</span> score  <span class="co"># 名稱修飾為"私有"變量（雙下劃線）</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 使用getter和setter方法</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_name(<span class="va">self</span>):</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>._name</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> set_name(<span class="va">self</span>, name):</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">isinstance</span>(name, <span class="bu">str</span>) <span class="kw">and</span> <span class="bu">len</span>(name) <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>._name <span class="op">=</span> name</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"名字必須是非空字符串"</span>)</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_score(<span class="va">self</span>):</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>.__score</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> set_score(<span class="va">self</span>, score):</span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="dv">0</span> <span class="op">&lt;=</span> score <span class="op">&lt;=</span> <span class="dv">100</span>:</span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.__score <span class="op">=</span> score</span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"分數必須在0到100之間"</span>)</span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 使用屬性裝飾器</span></span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">@property</span></span>
<span id="cb55-27"><a href="#cb55-27" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> score(<span class="va">self</span>):</span>
<span id="cb55-28"><a href="#cb55-28" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>.__score</span>
<span id="cb55-29"><a href="#cb55-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-30"><a href="#cb55-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">@score.setter</span></span>
<span id="cb55-31"><a href="#cb55-31" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> score(<span class="va">self</span>, value):</span>
<span id="cb55-32"><a href="#cb55-32" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="dv">0</span> <span class="op">&lt;=</span> value <span class="op">&lt;=</span> <span class="dv">100</span>:</span>
<span id="cb55-33"><a href="#cb55-33" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.__score <span class="op">=</span> value</span>
<span id="cb55-34"><a href="#cb55-34" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb55-35"><a href="#cb55-35" aria-hidden="true" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"分數必須在0到100之間"</span>)</span>
<span id="cb55-36"><a href="#cb55-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-37"><a href="#cb55-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">@property</span></span>
<span id="cb55-38"><a href="#cb55-38" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> grade(<span class="va">self</span>):</span>
<span id="cb55-39"><a href="#cb55-39" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="va">self</span>.__score <span class="op">&gt;=</span> <span class="dv">90</span>:</span>
<span id="cb55-40"><a href="#cb55-40" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">"A"</span></span>
<span id="cb55-41"><a href="#cb55-41" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> <span class="va">self</span>.__score <span class="op">&gt;=</span> <span class="dv">80</span>:</span>
<span id="cb55-42"><a href="#cb55-42" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">"B"</span></span>
<span id="cb55-43"><a href="#cb55-43" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> <span class="va">self</span>.__score <span class="op">&gt;=</span> <span class="dv">70</span>:</span>
<span id="cb55-44"><a href="#cb55-44" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">"C"</span></span>
<span id="cb55-45"><a href="#cb55-45" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> <span class="va">self</span>.__score <span class="op">&gt;=</span> <span class="dv">60</span>:</span>
<span id="cb55-46"><a href="#cb55-46" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">"D"</span></span>
<span id="cb55-47"><a href="#cb55-47" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb55-48"><a href="#cb55-48" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">"F"</span></span>
<span id="cb55-49"><a href="#cb55-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-50"><a href="#cb55-50" aria-hidden="true" tabindex="-1"></a><span class="co"># 創建實例</span></span>
<span id="cb55-51"><a href="#cb55-51" aria-hidden="true" tabindex="-1"></a>student <span class="op">=</span> Student(<span class="st">"小明"</span>, <span class="dv">85</span>)</span>
<span id="cb55-52"><a href="#cb55-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-53"><a href="#cb55-53" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用getter和setter</span></span>
<span id="cb55-54"><a href="#cb55-54" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"學生: </span><span class="sc">{</span>student<span class="sc">.</span>get_name()<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb55-55"><a href="#cb55-55" aria-hidden="true" tabindex="-1"></a>student.set_name(<span class="st">"小華"</span>)</span>
<span id="cb55-56"><a href="#cb55-56" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"新名字: </span><span class="sc">{</span>student<span class="sc">.</span>get_name()<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb55-57"><a href="#cb55-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-58"><a href="#cb55-58" aria-hidden="true" tabindex="-1"></a><span class="co"># 嘗試訪問"私有"變量</span></span>
<span id="cb55-59"><a href="#cb55-59" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb55-60"><a href="#cb55-60" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(student.__score)  <span class="co"># 這會引發錯誤</span></span>
<span id="cb55-61"><a href="#cb55-61" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">AttributeError</span> <span class="im">as</span> e:</span>
<span id="cb55-62"><a href="#cb55-62" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"錯誤: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb55-63"><a href="#cb55-63" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 實際上可以通過名稱修飾訪問</span></span>
<span id="cb55-64"><a href="#cb55-64" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"通過名稱修飾訪問私有變量: </span><span class="sc">{</span>student<span class="sc">.</span>_Student__score<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb55-65"><a href="#cb55-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-66"><a href="#cb55-66" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用裝飾器定義的屬性</span></span>
<span id="cb55-67"><a href="#cb55-67" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"分數: </span><span class="sc">{</span>student<span class="sc">.</span>score<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb55-68"><a href="#cb55-68" aria-hidden="true" tabindex="-1"></a>student.score <span class="op">=</span> <span class="dv">95</span></span>
<span id="cb55-69"><a href="#cb55-69" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"新分數: </span><span class="sc">{</span>student<span class="sc">.</span>score<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb55-70"><a href="#cb55-70" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"等級: </span><span class="sc">{</span>student<span class="sc">.</span>grade<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb55-71"><a href="#cb55-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-72"><a href="#cb55-72" aria-hidden="true" tabindex="-1"></a><span class="co"># 嘗試設置無效分數</span></span>
<span id="cb55-73"><a href="#cb55-73" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb55-74"><a href="#cb55-74" aria-hidden="true" tabindex="-1"></a>    student.score <span class="op">=</span> <span class="dv">110</span></span>
<span id="cb55-75"><a href="#cb55-75" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">ValueError</span> <span class="im">as</span> e:</span>
<span id="cb55-76"><a href="#cb55-76" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"錯誤: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>學生: 小明
新名字: 小華
錯誤: 'Student' object has no attribute '__score'
通過名稱修飾訪問私有變量: 85
分數: 85
新分數: 95
等級: A
錯誤: 分數必須在0到100之間</code></pre>
</section>
<section id="c屬性與封裝" class="level4">
<h4 class="anchored" data-anchor-id="c屬性與封裝">C#屬性與封裝</h4>
<div class="sourceCode" id="cb57"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> Student</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 私有字段</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">private</span> <span class="dt">string</span> _name<span class="op">;</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>        <span class="kw">private</span> <span class="dt">int</span> _score<span class="op">;</span></span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 構造函數</span></span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="fu">Student</span><span class="op">(</span><span class="dt">string</span> name<span class="op">,</span> <span class="dt">int</span> score <span class="op">=</span> <span class="dv">0</span><span class="op">)</span></span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>            _name <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a>            _score <span class="op">=</span> score<span class="op">;</span></span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 傳統的getter和setter方法</span></span>
<span id="cb57-19"><a href="#cb57-19" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">string</span> <span class="fu">GetName</span><span class="op">()</span></span>
<span id="cb57-20"><a href="#cb57-20" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb57-21"><a href="#cb57-21" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> _name<span class="op">;</span></span>
<span id="cb57-22"><a href="#cb57-22" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb57-23"><a href="#cb57-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-24"><a href="#cb57-24" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">void</span> <span class="fu">SetName</span><span class="op">(</span><span class="dt">string</span> name<span class="op">)</span></span>
<span id="cb57-25"><a href="#cb57-25" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb57-26"><a href="#cb57-26" aria-hidden="true" tabindex="-1"></a>            <span class="kw">if</span> <span class="op">(!</span><span class="dt">string</span><span class="op">.</span><span class="fu">IsNullOrEmpty</span><span class="op">(</span>name<span class="op">))</span></span>
<span id="cb57-27"><a href="#cb57-27" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb57-28"><a href="#cb57-28" aria-hidden="true" tabindex="-1"></a>                _name <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb57-29"><a href="#cb57-29" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb57-30"><a href="#cb57-30" aria-hidden="true" tabindex="-1"></a>            <span class="kw">else</span></span>
<span id="cb57-31"><a href="#cb57-31" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb57-32"><a href="#cb57-32" aria-hidden="true" tabindex="-1"></a>                <span class="kw">throw</span> <span class="kw">new</span> <span class="fu">ArgumentException</span><span class="op">(</span><span class="st">"名字必須是非空字符串"</span><span class="op">);</span></span>
<span id="cb57-33"><a href="#cb57-33" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb57-34"><a href="#cb57-34" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb57-35"><a href="#cb57-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-36"><a href="#cb57-36" aria-hidden="true" tabindex="-1"></a>        <span class="co">// C#屬性（自動實現屬性和完整屬性）</span></span>
<span id="cb57-37"><a href="#cb57-37" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 自動實現屬性（後台自動創建字段）</span></span>
<span id="cb57-38"><a href="#cb57-38" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">string</span> Id <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb57-39"><a href="#cb57-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-40"><a href="#cb57-40" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 完整屬性（帶驗證的屬性）</span></span>
<span id="cb57-41"><a href="#cb57-41" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">int</span> Score</span>
<span id="cb57-42"><a href="#cb57-42" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb57-43"><a href="#cb57-43" aria-hidden="true" tabindex="-1"></a>            <span class="kw">get</span> <span class="op">{</span> <span class="kw">return</span> _score<span class="op">;</span> <span class="op">}</span></span>
<span id="cb57-44"><a href="#cb57-44" aria-hidden="true" tabindex="-1"></a>            set</span>
<span id="cb57-45"><a href="#cb57-45" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb57-46"><a href="#cb57-46" aria-hidden="true" tabindex="-1"></a>                <span class="kw">if</span> <span class="op">(</span><span class="dv">0</span> <span class="op">&lt;=</span> value <span class="op">&amp;&amp;</span> value <span class="op">&lt;=</span> <span class="dv">100</span><span class="op">)</span></span>
<span id="cb57-47"><a href="#cb57-47" aria-hidden="true" tabindex="-1"></a>                <span class="op">{</span></span>
<span id="cb57-48"><a href="#cb57-48" aria-hidden="true" tabindex="-1"></a>                    _score <span class="op">=</span> value<span class="op">;</span></span>
<span id="cb57-49"><a href="#cb57-49" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb57-50"><a href="#cb57-50" aria-hidden="true" tabindex="-1"></a>                <span class="kw">else</span></span>
<span id="cb57-51"><a href="#cb57-51" aria-hidden="true" tabindex="-1"></a>                <span class="op">{</span></span>
<span id="cb57-52"><a href="#cb57-52" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">throw</span> <span class="kw">new</span> <span class="fu">ArgumentException</span><span class="op">(</span><span class="st">"分數必須在0到100之間"</span><span class="op">);</span></span>
<span id="cb57-53"><a href="#cb57-53" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb57-54"><a href="#cb57-54" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb57-55"><a href="#cb57-55" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb57-56"><a href="#cb57-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-57"><a href="#cb57-57" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 唯讀屬性（只有getter，基於其他屬性計算）</span></span>
<span id="cb57-58"><a href="#cb57-58" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">string</span> Grade</span>
<span id="cb57-59"><a href="#cb57-59" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb57-60"><a href="#cb57-60" aria-hidden="true" tabindex="-1"></a>            get</span>
<span id="cb57-61"><a href="#cb57-61" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb57-62"><a href="#cb57-62" aria-hidden="true" tabindex="-1"></a>                <span class="kw">if</span> <span class="op">(</span>_score <span class="op">&gt;=</span> <span class="dv">90</span><span class="op">)</span> <span class="kw">return</span> <span class="st">"A"</span><span class="op">;</span></span>
<span id="cb57-63"><a href="#cb57-63" aria-hidden="true" tabindex="-1"></a>                <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span>_score <span class="op">&gt;=</span> <span class="dv">80</span><span class="op">)</span> <span class="kw">return</span> <span class="st">"B"</span><span class="op">;</span></span>
<span id="cb57-64"><a href="#cb57-64" aria-hidden="true" tabindex="-1"></a>                <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span>_score <span class="op">&gt;=</span> <span class="dv">70</span><span class="op">)</span> <span class="kw">return</span> <span class="st">"C"</span><span class="op">;</span></span>
<span id="cb57-65"><a href="#cb57-65" aria-hidden="true" tabindex="-1"></a>                <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span>_score <span class="op">&gt;=</span> <span class="dv">60</span><span class="op">)</span> <span class="kw">return</span> <span class="st">"D"</span><span class="op">;</span></span>
<span id="cb57-66"><a href="#cb57-66" aria-hidden="true" tabindex="-1"></a>                <span class="kw">else</span> <span class="kw">return</span> <span class="st">"F"</span><span class="op">;</span></span>
<span id="cb57-67"><a href="#cb57-67" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb57-68"><a href="#cb57-68" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb57-69"><a href="#cb57-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-70"><a href="#cb57-70" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 表達式體屬性（C# 6.0+）</span></span>
<span id="cb57-71"><a href="#cb57-71" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">bool</span> IsPassing <span class="op">=&gt;</span> _score <span class="op">&gt;=</span> <span class="dv">60</span><span class="op">;</span></span>
<span id="cb57-72"><a href="#cb57-72" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb57-73"><a href="#cb57-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-74"><a href="#cb57-74" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb57-75"><a href="#cb57-75" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb57-76"><a href="#cb57-76" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 創建實例</span></span>
<span id="cb57-77"><a href="#cb57-77" aria-hidden="true" tabindex="-1"></a>        Student student <span class="op">=</span> <span class="kw">new</span> <span class="fu">Student</span><span class="op">(</span><span class="st">"小明"</span><span class="op">,</span> <span class="dv">85</span><span class="op">);</span></span>
<span id="cb57-78"><a href="#cb57-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-79"><a href="#cb57-79" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用傳統getter和setter</span></span>
<span id="cb57-80"><a href="#cb57-80" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"學生: {student.GetName()}"</span><span class="op">);</span></span>
<span id="cb57-81"><a href="#cb57-81" aria-hidden="true" tabindex="-1"></a>        student<span class="op">.</span><span class="fu">SetName</span><span class="op">(</span><span class="st">"小華"</span><span class="op">);</span></span>
<span id="cb57-82"><a href="#cb57-82" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"新名字: {student.GetName()}"</span><span class="op">);</span></span>
<span id="cb57-83"><a href="#cb57-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-84"><a href="#cb57-84" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 嘗試直接訪問私有變量</span></span>
<span id="cb57-85"><a href="#cb57-85" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 這會導致編譯錯誤: Console.WriteLine(student._score);</span></span>
<span id="cb57-86"><a href="#cb57-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-87"><a href="#cb57-87" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用屬性</span></span>
<span id="cb57-88"><a href="#cb57-88" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"分數: {student.Score}"</span><span class="op">);</span></span>
<span id="cb57-89"><a href="#cb57-89" aria-hidden="true" tabindex="-1"></a>        student<span class="op">.</span><span class="fu">Score</span> <span class="op">=</span> <span class="dv">95</span><span class="op">;</span></span>
<span id="cb57-90"><a href="#cb57-90" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"新分數: {student.Score}"</span><span class="op">);</span></span>
<span id="cb57-91"><a href="#cb57-91" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"等級: {student.Grade}"</span><span class="op">);</span></span>
<span id="cb57-92"><a href="#cb57-92" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"及格: {student.IsPassing}"</span><span class="op">);</span></span>
<span id="cb57-93"><a href="#cb57-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-94"><a href="#cb57-94" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 嘗試設置無效分數</span></span>
<span id="cb57-95"><a href="#cb57-95" aria-hidden="true" tabindex="-1"></a>        <span class="kw">try</span></span>
<span id="cb57-96"><a href="#cb57-96" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb57-97"><a href="#cb57-97" aria-hidden="true" tabindex="-1"></a>            student<span class="op">.</span><span class="fu">Score</span> <span class="op">=</span> <span class="dv">110</span><span class="op">;</span></span>
<span id="cb57-98"><a href="#cb57-98" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb57-99"><a href="#cb57-99" aria-hidden="true" tabindex="-1"></a>        <span class="kw">catch</span> <span class="op">(</span>ArgumentException e<span class="op">)</span></span>
<span id="cb57-100"><a href="#cb57-100" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb57-101"><a href="#cb57-101" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"錯誤: {e.Message}"</span><span class="op">);</span></span>
<span id="cb57-102"><a href="#cb57-102" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb57-103"><a href="#cb57-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-104"><a href="#cb57-104" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 設置自動屬性</span></span>
<span id="cb57-105"><a href="#cb57-105" aria-hidden="true" tabindex="-1"></a>        student<span class="op">.</span><span class="fu">Id</span> <span class="op">=</span> <span class="st">"S12345"</span><span class="op">;</span></span>
<span id="cb57-106"><a href="#cb57-106" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"學生ID: {student.Id}"</span><span class="op">);</span></span>
<span id="cb57-107"><a href="#cb57-107" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb57-108"><a href="#cb57-108" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>學生: 小明
新名字: 小華
分數: 85
新分數: 95
等級: A
及格: True
錯誤: 分數必須在0到100之間
學生ID: S12345</code></pre>
</section>
</section>
<section id="繼承與多態" class="level3">
<h3 class="anchored" data-anchor-id="繼承與多態">繼承與多態</h3>
<section id="python繼承與多態" class="level4">
<h4 class="anchored" data-anchor-id="python繼承與多態">Python繼承與多態</h4>
<div class="sourceCode" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 基類/父類</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Animal:</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name):</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> speak(<span class="va">self</span>):</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"未知聲音"</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> introduce(<span class="va">self</span>):</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"我是</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>name<span class="sc">}</span><span class="ss">，我會</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>speak()<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 派生類/子類</span></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog(Animal):</span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> speak(<span class="va">self</span>):</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"汪汪"</span></span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> fetch(<span class="va">self</span>):</span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>name<span class="sc">}</span><span class="ss">撿回了球"</span></span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Cat(Animal):</span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> speak(<span class="va">self</span>):</span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"喵喵"</span></span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> climb(<span class="va">self</span>):</span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>name<span class="sc">}</span><span class="ss">爬上了樹"</span></span>
<span id="cb59-26"><a href="#cb59-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-27"><a href="#cb59-27" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用繼承和多態</span></span>
<span id="cb59-28"><a href="#cb59-28" aria-hidden="true" tabindex="-1"></a>animal <span class="op">=</span> Animal(<span class="st">"動物"</span>)</span>
<span id="cb59-29"><a href="#cb59-29" aria-hidden="true" tabindex="-1"></a>dog <span class="op">=</span> Dog(<span class="st">"小黑"</span>)</span>
<span id="cb59-30"><a href="#cb59-30" aria-hidden="true" tabindex="-1"></a>cat <span class="op">=</span> Cat(<span class="st">"小白"</span>)</span>
<span id="cb59-31"><a href="#cb59-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-32"><a href="#cb59-32" aria-hidden="true" tabindex="-1"></a><span class="co"># 調用方法</span></span>
<span id="cb59-33"><a href="#cb59-33" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(animal.introduce())</span>
<span id="cb59-34"><a href="#cb59-34" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(dog.introduce())  <span class="co"># 多態：使用Dog的speak方法</span></span>
<span id="cb59-35"><a href="#cb59-35" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cat.introduce())  <span class="co"># 多態：使用Cat的speak方法</span></span>
<span id="cb59-36"><a href="#cb59-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-37"><a href="#cb59-37" aria-hidden="true" tabindex="-1"></a><span class="co"># 調用子類特有方法</span></span>
<span id="cb59-38"><a href="#cb59-38" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(dog.fetch())</span>
<span id="cb59-39"><a href="#cb59-39" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cat.climb())</span>
<span id="cb59-40"><a href="#cb59-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-41"><a href="#cb59-41" aria-hidden="true" tabindex="-1"></a><span class="co"># 類型檢查</span></span>
<span id="cb59-42"><a href="#cb59-42" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"dog是Animal類型嗎? </span><span class="sc">{</span><span class="bu">isinstance</span>(dog, Animal)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb59-43"><a href="#cb59-43" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"dog是Dog類型嗎? </span><span class="sc">{</span><span class="bu">isinstance</span>(dog, Dog)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb59-44"><a href="#cb59-44" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"dog是Cat類型嗎? </span><span class="sc">{</span><span class="bu">isinstance</span>(dog, Cat)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb59-45"><a href="#cb59-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-46"><a href="#cb59-46" aria-hidden="true" tabindex="-1"></a><span class="co"># 多重繼承</span></span>
<span id="cb59-47"><a href="#cb59-47" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> FlyingAnimal:</span>
<span id="cb59-48"><a href="#cb59-48" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> fly(<span class="va">self</span>):</span>
<span id="cb59-49"><a href="#cb59-49" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"我能飛行"</span></span>
<span id="cb59-50"><a href="#cb59-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-51"><a href="#cb59-51" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Bat(Animal, FlyingAnimal):</span>
<span id="cb59-52"><a href="#cb59-52" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> speak(<span class="va">self</span>):</span>
<span id="cb59-53"><a href="#cb59-53" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"超聲波"</span></span>
<span id="cb59-54"><a href="#cb59-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-55"><a href="#cb59-55" aria-hidden="true" tabindex="-1"></a>bat <span class="op">=</span> Bat(<span class="st">"蝙蝠俠"</span>)</span>
<span id="cb59-56"><a href="#cb59-56" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(bat.introduce())</span>
<span id="cb59-57"><a href="#cb59-57" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(bat.fly())</span>
<span id="cb59-58"><a href="#cb59-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-59"><a href="#cb59-59" aria-hidden="true" tabindex="-1"></a><span class="co"># 調用父類方法</span></span>
<span id="cb59-60"><a href="#cb59-60" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Bird(Animal):</span>
<span id="cb59-61"><a href="#cb59-61" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name, wingspan):</span>
<span id="cb59-62"><a href="#cb59-62" aria-hidden="true" tabindex="-1"></a>        <span class="bu">super</span>().<span class="fu">__init__</span>(name)  <span class="co"># 調用父類構造函數</span></span>
<span id="cb59-63"><a href="#cb59-63" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.wingspan <span class="op">=</span> wingspan</span>
<span id="cb59-64"><a href="#cb59-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-65"><a href="#cb59-65" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> speak(<span class="va">self</span>):</span>
<span id="cb59-66"><a href="#cb59-66" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"啾啾"</span></span>
<span id="cb59-67"><a href="#cb59-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-68"><a href="#cb59-68" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> introduce(<span class="va">self</span>):</span>
<span id="cb59-69"><a href="#cb59-69" aria-hidden="true" tabindex="-1"></a>        base_intro <span class="op">=</span> <span class="bu">super</span>().introduce()  <span class="co"># 調用父類方法</span></span>
<span id="cb59-70"><a href="#cb59-70" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"</span><span class="sc">{</span>base_intro<span class="sc">}</span><span class="ss">，翼展</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>wingspan<span class="sc">}</span><span class="ss">厘米"</span></span>
<span id="cb59-71"><a href="#cb59-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-72"><a href="#cb59-72" aria-hidden="true" tabindex="-1"></a>bird <span class="op">=</span> Bird(<span class="st">"小鳥"</span>, <span class="dv">30</span>)</span>
<span id="cb59-73"><a href="#cb59-73" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(bird.introduce())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>我是動物，我會未知聲音
我是小黑，我會汪汪
我是小白，我會喵喵
小黑撿回了球
小白爬上了樹
dog是Animal類型嗎? True
dog是Dog類型嗎? True
dog是Cat類型嗎? False
我是蝙蝠俠，我會超聲波
我能飛行
我是小鳥，我會啾啾，翼展30厘米</code></pre>
</section>
<section id="c繼承與多態" class="level4">
<h4 class="anchored" data-anchor-id="c繼承與多態">C#繼承與多態</h4>
<div class="sourceCode" id="cb61"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 基類/父類</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> Animal</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">string</span> Name <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">protected</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="fu">Animal</span><span class="op">(</span><span class="dt">string</span> name<span class="op">)</span></span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>            Name <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 虛方法（可被子類覆蓋）</span></span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">virtual</span> <span class="dt">string</span> <span class="fu">Speak</span><span class="op">()</span></span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> <span class="st">"未知聲音"</span><span class="op">;</span></span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb61-20"><a href="#cb61-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-21"><a href="#cb61-21" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">string</span> <span class="fu">Introduce</span><span class="op">()</span></span>
<span id="cb61-22"><a href="#cb61-22" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb61-23"><a href="#cb61-23" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> $<span class="st">"我是{Name}，我會{Speak()}"</span><span class="op">;</span></span>
<span id="cb61-24"><a href="#cb61-24" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb61-25"><a href="#cb61-25" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb61-26"><a href="#cb61-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-27"><a href="#cb61-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 派生類/子類</span></span>
<span id="cb61-28"><a href="#cb61-28" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> Dog <span class="op">:</span> Animal</span>
<span id="cb61-29"><a href="#cb61-29" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb61-30"><a href="#cb61-30" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="fu">Dog</span><span class="op">(</span><span class="dt">string</span> name<span class="op">)</span> <span class="op">:</span> <span class="kw">base</span><span class="op">(</span>name<span class="op">)</span> <span class="op">{</span> <span class="op">}</span></span>
<span id="cb61-31"><a href="#cb61-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-32"><a href="#cb61-32" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 覆蓋父類方法</span></span>
<span id="cb61-33"><a href="#cb61-33" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">override</span> <span class="dt">string</span> <span class="fu">Speak</span><span class="op">()</span></span>
<span id="cb61-34"><a href="#cb61-34" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb61-35"><a href="#cb61-35" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> <span class="st">"汪汪"</span><span class="op">;</span></span>
<span id="cb61-36"><a href="#cb61-36" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb61-37"><a href="#cb61-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-38"><a href="#cb61-38" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">string</span> <span class="fu">Fetch</span><span class="op">()</span></span>
<span id="cb61-39"><a href="#cb61-39" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb61-40"><a href="#cb61-40" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> $<span class="st">"{Name}撿回了球"</span><span class="op">;</span></span>
<span id="cb61-41"><a href="#cb61-41" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb61-42"><a href="#cb61-42" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb61-43"><a href="#cb61-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-44"><a href="#cb61-44" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> Cat <span class="op">:</span> Animal</span>
<span id="cb61-45"><a href="#cb61-45" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb61-46"><a href="#cb61-46" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="fu">Cat</span><span class="op">(</span><span class="dt">string</span> name<span class="op">)</span> <span class="op">:</span> <span class="kw">base</span><span class="op">(</span>name<span class="op">)</span> <span class="op">{</span> <span class="op">}</span></span>
<span id="cb61-47"><a href="#cb61-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-48"><a href="#cb61-48" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">override</span> <span class="dt">string</span> <span class="fu">Speak</span><span class="op">()</span></span>
<span id="cb61-49"><a href="#cb61-49" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb61-50"><a href="#cb61-50" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> <span class="st">"喵喵"</span><span class="op">;</span></span>
<span id="cb61-51"><a href="#cb61-51" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb61-52"><a href="#cb61-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-53"><a href="#cb61-53" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">string</span> <span class="fu">Climb</span><span class="op">()</span></span>
<span id="cb61-54"><a href="#cb61-54" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb61-55"><a href="#cb61-55" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> $<span class="st">"{Name}爬上了樹"</span><span class="op">;</span></span>
<span id="cb61-56"><a href="#cb61-56" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb61-57"><a href="#cb61-57" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb61-58"><a href="#cb61-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-59"><a href="#cb61-59" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 接口定義</span></span>
<span id="cb61-60"><a href="#cb61-60" aria-hidden="true" tabindex="-1"></a>    <span class="kw">interface</span> IFlyable</span>
<span id="cb61-61"><a href="#cb61-61" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb61-62"><a href="#cb61-62" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> <span class="fu">Fly</span><span class="op">();</span></span>
<span id="cb61-63"><a href="#cb61-63" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb61-64"><a href="#cb61-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-65"><a href="#cb61-65" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 實現接口（C#不支持多重繼承，但可以實現多個接口）</span></span>
<span id="cb61-66"><a href="#cb61-66" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> Bat <span class="op">:</span> Animal<span class="op">,</span> IFlyable</span>
<span id="cb61-67"><a href="#cb61-67" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb61-68"><a href="#cb61-68" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="fu">Bat</span><span class="op">(</span><span class="dt">string</span> name<span class="op">)</span> <span class="op">:</span> <span class="kw">base</span><span class="op">(</span>name<span class="op">)</span> <span class="op">{</span> <span class="op">}</span></span>
<span id="cb61-69"><a href="#cb61-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-70"><a href="#cb61-70" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">override</span> <span class="dt">string</span> <span class="fu">Speak</span><span class="op">()</span></span>
<span id="cb61-71"><a href="#cb61-71" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb61-72"><a href="#cb61-72" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> <span class="st">"超聲波"</span><span class="op">;</span></span>
<span id="cb61-73"><a href="#cb61-73" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb61-74"><a href="#cb61-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-75"><a href="#cb61-75" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">string</span> <span class="fu">Fly</span><span class="op">()</span></span>
<span id="cb61-76"><a href="#cb61-76" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb61-77"><a href="#cb61-77" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> <span class="st">"我能飛行"</span><span class="op">;</span></span>
<span id="cb61-78"><a href="#cb61-78" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb61-79"><a href="#cb61-79" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb61-80"><a href="#cb61-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-81"><a href="#cb61-81" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 調用父類方法</span></span>
<span id="cb61-82"><a href="#cb61-82" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> Bird <span class="op">:</span> Animal</span>
<span id="cb61-83"><a href="#cb61-83" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb61-84"><a href="#cb61-84" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">int</span> Wingspan <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb61-85"><a href="#cb61-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-86"><a href="#cb61-86" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="fu">Bird</span><span class="op">(</span><span class="dt">string</span> name<span class="op">,</span> <span class="dt">int</span> wingspan<span class="op">)</span> <span class="op">:</span> <span class="kw">base</span><span class="op">(</span>name<span class="op">)</span></span>
<span id="cb61-87"><a href="#cb61-87" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb61-88"><a href="#cb61-88" aria-hidden="true" tabindex="-1"></a>            Wingspan <span class="op">=</span> wingspan<span class="op">;</span></span>
<span id="cb61-89"><a href="#cb61-89" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb61-90"><a href="#cb61-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-91"><a href="#cb61-91" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">override</span> <span class="dt">string</span> <span class="fu">Speak</span><span class="op">()</span></span>
<span id="cb61-92"><a href="#cb61-92" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb61-93"><a href="#cb61-93" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> <span class="st">"啾啾"</span><span class="op">;</span></span>
<span id="cb61-94"><a href="#cb61-94" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb61-95"><a href="#cb61-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-96"><a href="#cb61-96" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">new</span> <span class="dt">string</span> <span class="fu">Introduce</span><span class="op">()</span></span>
<span id="cb61-97"><a href="#cb61-97" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb61-98"><a href="#cb61-98" aria-hidden="true" tabindex="-1"></a>            <span class="dt">string</span> baseIntro <span class="op">=</span> <span class="kw">base</span><span class="op">.</span><span class="fu">Introduce</span><span class="op">();</span>  <span class="co">// 調用父類方法</span></span>
<span id="cb61-99"><a href="#cb61-99" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> $<span class="st">"{baseIntro}，翼展{Wingspan}厘米"</span><span class="op">;</span></span>
<span id="cb61-100"><a href="#cb61-100" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb61-101"><a href="#cb61-101" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb61-102"><a href="#cb61-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-103"><a href="#cb61-103" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb61-104"><a href="#cb61-104" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb61-105"><a href="#cb61-105" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用繼承和多態</span></span>
<span id="cb61-106"><a href="#cb61-106" aria-hidden="true" tabindex="-1"></a>        Animal animal <span class="op">=</span> <span class="kw">new</span> <span class="fu">Animal</span><span class="op">(</span><span class="st">"動物"</span><span class="op">);</span></span>
<span id="cb61-107"><a href="#cb61-107" aria-hidden="true" tabindex="-1"></a>        Dog dog <span class="op">=</span> <span class="kw">new</span> <span class="fu">Dog</span><span class="op">(</span><span class="st">"小黑"</span><span class="op">);</span></span>
<span id="cb61-108"><a href="#cb61-108" aria-hidden="true" tabindex="-1"></a>        Cat cat <span class="op">=</span> <span class="kw">new</span> <span class="fu">Cat</span><span class="op">(</span><span class="st">"小白"</span><span class="op">);</span></span>
<span id="cb61-109"><a href="#cb61-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-110"><a href="#cb61-110" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 多態調用：通過基類引用</span></span>
<span id="cb61-111"><a href="#cb61-111" aria-hidden="true" tabindex="-1"></a>        Animal dogAsAnimal <span class="op">=</span> dog<span class="op">;</span></span>
<span id="cb61-112"><a href="#cb61-112" aria-hidden="true" tabindex="-1"></a>        Animal catAsAnimal <span class="op">=</span> cat<span class="op">;</span></span>
<span id="cb61-113"><a href="#cb61-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-114"><a href="#cb61-114" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 調用方法</span></span>
<span id="cb61-115"><a href="#cb61-115" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>animal<span class="op">.</span><span class="fu">Introduce</span><span class="op">());</span></span>
<span id="cb61-116"><a href="#cb61-116" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>dog<span class="op">.</span><span class="fu">Introduce</span><span class="op">());</span>  <span class="co">// 使用Dog的Speak方法</span></span>
<span id="cb61-117"><a href="#cb61-117" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>cat<span class="op">.</span><span class="fu">Introduce</span><span class="op">());</span>  <span class="co">// 使用Cat的Speak方法</span></span>
<span id="cb61-118"><a href="#cb61-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-119"><a href="#cb61-119" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 通過基類引用調用（多態）</span></span>
<span id="cb61-120"><a href="#cb61-120" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>dogAsAnimal<span class="op">.</span><span class="fu">Introduce</span><span class="op">());</span>  <span class="co">// 仍然使用Dog的Speak方法</span></span>
<span id="cb61-121"><a href="#cb61-121" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>catAsAnimal<span class="op">.</span><span class="fu">Introduce</span><span class="op">());</span>  <span class="co">// 仍然使用Cat的Speak方法</span></span>
<span id="cb61-122"><a href="#cb61-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-123"><a href="#cb61-123" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 調用子類特有方法</span></span>
<span id="cb61-124"><a href="#cb61-124" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>dog<span class="op">.</span><span class="fu">Fetch</span><span class="op">());</span></span>
<span id="cb61-125"><a href="#cb61-125" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>cat<span class="op">.</span><span class="fu">Climb</span><span class="op">());</span></span>
<span id="cb61-126"><a href="#cb61-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-127"><a href="#cb61-127" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 類型檢查</span></span>
<span id="cb61-128"><a href="#cb61-128" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"dog是Animal類型嗎? {dog is Animal}"</span><span class="op">);</span></span>
<span id="cb61-129"><a href="#cb61-129" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"dog是Dog類型嗎? {dog is Dog}"</span><span class="op">);</span></span>
<span id="cb61-130"><a href="#cb61-130" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"dog是Cat類型嗎? {dog is Cat}"</span><span class="op">);</span></span>
<span id="cb61-131"><a href="#cb61-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-132"><a href="#cb61-132" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 類型轉換</span></span>
<span id="cb61-133"><a href="#cb61-133" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>dogAsAnimal <span class="kw">is</span> Dog<span class="op">)</span></span>
<span id="cb61-134"><a href="#cb61-134" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb61-135"><a href="#cb61-135" aria-hidden="true" tabindex="-1"></a>            Dog castedDog <span class="op">=</span> <span class="op">(</span>Dog<span class="op">)</span>dogAsAnimal<span class="op">;</span>  <span class="co">// 或使用 as 運算符: Dog castedDog = dogAsAnimal as Dog;</span></span>
<span id="cb61-136"><a href="#cb61-136" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>castedDog<span class="op">.</span><span class="fu">Fetch</span><span class="op">());</span></span>
<span id="cb61-137"><a href="#cb61-137" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb61-138"><a href="#cb61-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-139"><a href="#cb61-139" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用接口</span></span>
<span id="cb61-140"><a href="#cb61-140" aria-hidden="true" tabindex="-1"></a>        Bat bat <span class="op">=</span> <span class="kw">new</span> <span class="fu">Bat</span><span class="op">(</span><span class="st">"蝙蝠俠"</span><span class="op">);</span></span>
<span id="cb61-141"><a href="#cb61-141" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>bat<span class="op">.</span><span class="fu">Introduce</span><span class="op">());</span></span>
<span id="cb61-142"><a href="#cb61-142" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>bat<span class="op">.</span><span class="fu">Fly</span><span class="op">());</span></span>
<span id="cb61-143"><a href="#cb61-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-144"><a href="#cb61-144" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 調用父類方法</span></span>
<span id="cb61-145"><a href="#cb61-145" aria-hidden="true" tabindex="-1"></a>        Bird bird <span class="op">=</span> <span class="kw">new</span> <span class="fu">Bird</span><span class="op">(</span><span class="st">"小鳥"</span><span class="op">,</span> <span class="dv">30</span><span class="op">);</span></span>
<span id="cb61-146"><a href="#cb61-146" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>bird<span class="op">.</span><span class="fu">Introduce</span><span class="op">());</span></span>
<span id="cb61-147"><a href="#cb61-147" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb61-148"><a href="#cb61-148" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>我是動物，我會未知聲音
我是小黑，我會汪汪
我是小白，我會喵喵
我是小黑，我會汪汪
我是小白，我會喵喵
小黑撿回了球
小白爬上了樹
dog是Animal類型嗎? True
dog是Dog類型嗎? True
dog是Cat類型嗎? False
小黑撿回了球
我是蝙蝠俠，我會超聲波
我能飛行
我是小鳥，我會啾啾，翼展30厘米</code></pre>
</section>
</section>
<section id="抽象類與接口" class="level3">
<h3 class="anchored" data-anchor-id="抽象類與接口">抽象類與接口</h3>
<section id="python抽象類與接口" class="level4">
<h4 class="anchored" data-anchor-id="python抽象類與接口">Python抽象類與接口</h4>
<div class="sourceCode" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> abc <span class="im">import</span> ABC, abstractmethod</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 抽象基類</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Shape(ABC):</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">@abstractmethod</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> area(<span class="va">self</span>):</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">@abstractmethod</span></span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> perimeter(<span class="va">self</span>):</span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> describe(<span class="va">self</span>):</span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"這是一個形狀，面積為</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>area()<span class="sc">}</span><span class="ss">，周長為</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>perimeter()<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 實現抽象類</span></span>
<span id="cb63-17"><a href="#cb63-17" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Circle(Shape):</span>
<span id="cb63-18"><a href="#cb63-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, radius):</span>
<span id="cb63-19"><a href="#cb63-19" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.radius <span class="op">=</span> radius</span>
<span id="cb63-20"><a href="#cb63-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-21"><a href="#cb63-21" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> area(<span class="va">self</span>):</span>
<span id="cb63-22"><a href="#cb63-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="fl">3.14</span> <span class="op">*</span> <span class="va">self</span>.radius <span class="op">**</span> <span class="dv">2</span></span>
<span id="cb63-23"><a href="#cb63-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-24"><a href="#cb63-24" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> perimeter(<span class="va">self</span>):</span>
<span id="cb63-25"><a href="#cb63-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">2</span> <span class="op">*</span> <span class="fl">3.14</span> <span class="op">*</span> <span class="va">self</span>.radius</span>
<span id="cb63-26"><a href="#cb63-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-27"><a href="#cb63-27" aria-hidden="true" tabindex="-1"></a><span class="co"># 實現抽象類</span></span>
<span id="cb63-28"><a href="#cb63-28" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Rectangle(Shape):</span>
<span id="cb63-29"><a href="#cb63-29" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, width, height):</span>
<span id="cb63-30"><a href="#cb63-30" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.width <span class="op">=</span> width</span>
<span id="cb63-31"><a href="#cb63-31" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.height <span class="op">=</span> height</span>
<span id="cb63-32"><a href="#cb63-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-33"><a href="#cb63-33" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> area(<span class="va">self</span>):</span>
<span id="cb63-34"><a href="#cb63-34" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>.width <span class="op">*</span> <span class="va">self</span>.height</span>
<span id="cb63-35"><a href="#cb63-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-36"><a href="#cb63-36" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> perimeter(<span class="va">self</span>):</span>
<span id="cb63-37"><a href="#cb63-37" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">2</span> <span class="op">*</span> (<span class="va">self</span>.width <span class="op">+</span> <span class="va">self</span>.height)</span>
<span id="cb63-38"><a href="#cb63-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-39"><a href="#cb63-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Python中使用協議/鴨子類型實現"接口"</span></span>
<span id="cb63-40"><a href="#cb63-40" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Drawable:</span>
<span id="cb63-41"><a href="#cb63-41" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> draw(<span class="va">self</span>):</span>
<span id="cb63-42"><a href="#cb63-42" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb63-43"><a href="#cb63-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-44"><a href="#cb63-44" aria-hidden="true" tabindex="-1"></a><span class="co"># 混合使用</span></span>
<span id="cb63-45"><a href="#cb63-45" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> DrawableCircle(Circle, Drawable):</span>
<span id="cb63-46"><a href="#cb63-46" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> draw(<span class="va">self</span>):</span>
<span id="cb63-47"><a href="#cb63-47" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"繪製半徑為</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>radius<span class="sc">}</span><span class="ss">的圓"</span></span>
<span id="cb63-48"><a href="#cb63-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-49"><a href="#cb63-49" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用抽象類和接口</span></span>
<span id="cb63-50"><a href="#cb63-50" aria-hidden="true" tabindex="-1"></a><span class="co"># 嘗試實例化抽象類</span></span>
<span id="cb63-51"><a href="#cb63-51" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb63-52"><a href="#cb63-52" aria-hidden="true" tabindex="-1"></a>    shape <span class="op">=</span> Shape()  <span class="co"># 這會引發錯誤</span></span>
<span id="cb63-53"><a href="#cb63-53" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">TypeError</span> <span class="im">as</span> e:</span>
<span id="cb63-54"><a href="#cb63-54" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"錯誤: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb63-55"><a href="#cb63-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-56"><a href="#cb63-56" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用實現類</span></span>
<span id="cb63-57"><a href="#cb63-57" aria-hidden="true" tabindex="-1"></a>circle <span class="op">=</span> Circle(<span class="dv">5</span>)</span>
<span id="cb63-58"><a href="#cb63-58" aria-hidden="true" tabindex="-1"></a>rectangle <span class="op">=</span> Rectangle(<span class="dv">4</span>, <span class="dv">6</span>)</span>
<span id="cb63-59"><a href="#cb63-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-60"><a href="#cb63-60" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"圓的面積: </span><span class="sc">{</span>circle<span class="sc">.</span>area()<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb63-61"><a href="#cb63-61" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"矩形的周長: </span><span class="sc">{</span>rectangle<span class="sc">.</span>perimeter()<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb63-62"><a href="#cb63-62" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(circle.describe())</span>
<span id="cb63-63"><a href="#cb63-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-64"><a href="#cb63-64" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用"接口"</span></span>
<span id="cb63-65"><a href="#cb63-65" aria-hidden="true" tabindex="-1"></a>drawable_circle <span class="op">=</span> DrawableCircle(<span class="dv">7</span>)</span>
<span id="cb63-66"><a href="#cb63-66" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(drawable_circle.draw())</span>
<span id="cb63-67"><a href="#cb63-67" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"可繪製圓的面積: </span><span class="sc">{</span>drawable_circle<span class="sc">.</span>area()<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>錯誤: Can't instantiate abstract class Shape with abstract methods area, perimeter
圓的面積: 78.5
矩形的周長: 20
這是一個形狀，面積為78.5，周長為31.400000000000002
繪製半徑為7的圓
可繪製圓的面積: 153.86</code></pre>
</section>
<section id="c抽象類與接口" class="level4">
<h4 class="anchored" data-anchor-id="c抽象類與接口">C#抽象類與接口</h4>
<div class="sourceCode" id="cb65"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 抽象類</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">abstract</span> <span class="kw">class</span> Shape</span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 抽象方法（必須被子類實現）</span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">abstract</span> <span class="dt">double</span> <span class="fu">Area</span><span class="op">();</span></span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">abstract</span> <span class="dt">double</span> <span class="fu">Perimeter</span><span class="op">();</span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 普通方法</span></span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">string</span> <span class="fu">Describe</span><span class="op">()</span></span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> $<span class="st">"這是一個形狀，面積為{Area()}，周長為{Perimeter()}"</span><span class="op">;</span></span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-19"><a href="#cb65-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 接口定義</span></span>
<span id="cb65-20"><a href="#cb65-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">interface</span> IDrawable</span>
<span id="cb65-21"><a href="#cb65-21" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb65-22"><a href="#cb65-22" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> <span class="fu">Draw</span><span class="op">();</span></span>
<span id="cb65-23"><a href="#cb65-23" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb65-24"><a href="#cb65-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-25"><a href="#cb65-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 實現抽象類</span></span>
<span id="cb65-26"><a href="#cb65-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> Circle <span class="op">:</span> Shape</span>
<span id="cb65-27"><a href="#cb65-27" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb65-28"><a href="#cb65-28" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">double</span> Radius <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">private</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb65-29"><a href="#cb65-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-30"><a href="#cb65-30" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="fu">Circle</span><span class="op">(</span><span class="dt">double</span> radius<span class="op">)</span></span>
<span id="cb65-31"><a href="#cb65-31" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb65-32"><a href="#cb65-32" aria-hidden="true" tabindex="-1"></a>            Radius <span class="op">=</span> radius<span class="op">;</span></span>
<span id="cb65-33"><a href="#cb65-33" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb65-34"><a href="#cb65-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-35"><a href="#cb65-35" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 實現抽象方法</span></span>
<span id="cb65-36"><a href="#cb65-36" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">override</span> <span class="dt">double</span> <span class="fu">Area</span><span class="op">()</span></span>
<span id="cb65-37"><a href="#cb65-37" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb65-38"><a href="#cb65-38" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> Math<span class="op">.</span><span class="fu">PI</span> <span class="op">*</span> Radius <span class="op">*</span> Radius<span class="op">;</span></span>
<span id="cb65-39"><a href="#cb65-39" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb65-40"><a href="#cb65-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-41"><a href="#cb65-41" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">override</span> <span class="dt">double</span> <span class="fu">Perimeter</span><span class="op">()</span></span>
<span id="cb65-42"><a href="#cb65-42" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb65-43"><a href="#cb65-43" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> <span class="dv">2</span> <span class="op">*</span> Math<span class="op">.</span><span class="fu">PI</span> <span class="op">*</span> Radius<span class="op">;</span></span>
<span id="cb65-44"><a href="#cb65-44" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb65-45"><a href="#cb65-45" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb65-46"><a href="#cb65-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-47"><a href="#cb65-47" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 實現抽象類</span></span>
<span id="cb65-48"><a href="#cb65-48" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> Rectangle <span class="op">:</span> Shape</span>
<span id="cb65-49"><a href="#cb65-49" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb65-50"><a href="#cb65-50" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">double</span> Width <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">private</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb65-51"><a href="#cb65-51" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">double</span> Height <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">private</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb65-52"><a href="#cb65-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-53"><a href="#cb65-53" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="fu">Rectangle</span><span class="op">(</span><span class="dt">double</span> width<span class="op">,</span> <span class="dt">double</span> height<span class="op">)</span></span>
<span id="cb65-54"><a href="#cb65-54" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb65-55"><a href="#cb65-55" aria-hidden="true" tabindex="-1"></a>            Width <span class="op">=</span> width<span class="op">;</span></span>
<span id="cb65-56"><a href="#cb65-56" aria-hidden="true" tabindex="-1"></a>            Height <span class="op">=</span> height<span class="op">;</span></span>
<span id="cb65-57"><a href="#cb65-57" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb65-58"><a href="#cb65-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-59"><a href="#cb65-59" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">override</span> <span class="dt">double</span> <span class="fu">Area</span><span class="op">()</span></span>
<span id="cb65-60"><a href="#cb65-60" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb65-61"><a href="#cb65-61" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> Width <span class="op">*</span> Height<span class="op">;</span></span>
<span id="cb65-62"><a href="#cb65-62" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb65-63"><a href="#cb65-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-64"><a href="#cb65-64" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">override</span> <span class="dt">double</span> <span class="fu">Perimeter</span><span class="op">()</span></span>
<span id="cb65-65"><a href="#cb65-65" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb65-66"><a href="#cb65-66" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> <span class="dv">2</span> <span class="op">*</span> <span class="op">(</span>Width <span class="op">+</span> Height<span class="op">);</span></span>
<span id="cb65-67"><a href="#cb65-67" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb65-68"><a href="#cb65-68" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb65-69"><a href="#cb65-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-70"><a href="#cb65-70" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 同時實現抽象類和接口</span></span>
<span id="cb65-71"><a href="#cb65-71" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> DrawableCircle <span class="op">:</span> Circle<span class="op">,</span> IDrawable</span>
<span id="cb65-72"><a href="#cb65-72" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb65-73"><a href="#cb65-73" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="fu">DrawableCircle</span><span class="op">(</span><span class="dt">double</span> radius<span class="op">)</span> <span class="op">:</span> <span class="kw">base</span><span class="op">(</span>radius<span class="op">)</span> <span class="op">{</span> <span class="op">}</span></span>
<span id="cb65-74"><a href="#cb65-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-75"><a href="#cb65-75" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">string</span> <span class="fu">Draw</span><span class="op">()</span></span>
<span id="cb65-76"><a href="#cb65-76" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb65-77"><a href="#cb65-77" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> $<span class="st">"繪製半徑為{Radius}的圓"</span><span class="op">;</span></span>
<span id="cb65-78"><a href="#cb65-78" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb65-79"><a href="#cb65-79" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb65-80"><a href="#cb65-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-81"><a href="#cb65-81" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb65-82"><a href="#cb65-82" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb65-83"><a href="#cb65-83" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 嘗試實例化抽象類會導致編譯錯誤</span></span>
<span id="cb65-84"><a href="#cb65-84" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Shape shape = new Shape();</span></span>
<span id="cb65-85"><a href="#cb65-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-86"><a href="#cb65-86" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用實現類</span></span>
<span id="cb65-87"><a href="#cb65-87" aria-hidden="true" tabindex="-1"></a>        Circle circle <span class="op">=</span> <span class="kw">new</span> <span class="fu">Circle</span><span class="op">(</span><span class="dv">5</span><span class="op">);</span></span>
<span id="cb65-88"><a href="#cb65-88" aria-hidden="true" tabindex="-1"></a>        Rectangle rectangle <span class="op">=</span> <span class="kw">new</span> <span class="fu">Rectangle</span><span class="op">(</span><span class="dv">4</span><span class="op">,</span> <span class="dv">6</span><span class="op">);</span></span>
<span id="cb65-89"><a href="#cb65-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-90"><a href="#cb65-90" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"圓的面積: {circle.Area()}"</span><span class="op">);</span></span>
<span id="cb65-91"><a href="#cb65-91" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"矩形的周長: {rectangle.Perimeter()}"</span><span class="op">);</span></span>
<span id="cb65-92"><a href="#cb65-92" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>circle<span class="op">.</span><span class="fu">Describe</span><span class="op">());</span></span>
<span id="cb65-93"><a href="#cb65-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-94"><a href="#cb65-94" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用接口</span></span>
<span id="cb65-95"><a href="#cb65-95" aria-hidden="true" tabindex="-1"></a>        DrawableCircle drawableCircle <span class="op">=</span> <span class="kw">new</span> <span class="fu">DrawableCircle</span><span class="op">(</span><span class="dv">7</span><span class="op">);</span></span>
<span id="cb65-96"><a href="#cb65-96" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>drawableCircle<span class="op">.</span><span class="fu">Draw</span><span class="op">());</span></span>
<span id="cb65-97"><a href="#cb65-97" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"可繪製圓的面積: {drawableCircle.Area()}"</span><span class="op">);</span></span>
<span id="cb65-98"><a href="#cb65-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-99"><a href="#cb65-99" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 通過接口引用使用對象</span></span>
<span id="cb65-100"><a href="#cb65-100" aria-hidden="true" tabindex="-1"></a>        IDrawable drawable <span class="op">=</span> drawableCircle<span class="op">;</span></span>
<span id="cb65-101"><a href="#cb65-101" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>drawable<span class="op">.</span><span class="fu">Draw</span><span class="op">());</span></span>
<span id="cb65-102"><a href="#cb65-102" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb65-103"><a href="#cb65-103" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>圓的面積: 78.53981633974483
矩形的周長: 20
這是一個形狀，面積為78.53981633974483，周長為31.41592653589793
繪製半徑為7的圓
可繪製圓的面積: 153.93804002589985
繪製半徑為7的圓</code></pre>
</section>
</section>
<section id="抽象類與接口差異總結" class="level3">
<h3 class="anchored" data-anchor-id="抽象類與接口差異總結">抽象類與接口差異總結</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 17%">
<col style="width: 40%">
<col style="width: 42%">
</colgroup>
<thead>
<tr class="header">
<th>特性</th>
<th>Python</th>
<th>C#</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>抽象類定義</td>
<td>從 <code>ABC</code> 繼承，使用 <code>@abstractmethod</code> 裝飾器</td>
<td>使用 <code>abstract</code> 關鍵字</td>
</tr>
<tr class="even">
<td>接口定義</td>
<td>沒有正式的接口概念，通常使用抽象類或協議</td>
<td>使用 <code>interface</code> 關鍵字</td>
</tr>
<tr class="odd">
<td>多重繼承</td>
<td>支持多重繼承</td>
<td>不支持多重繼承，但可以實現多個接口</td>
</tr>
<tr class="even">
<td>抽象方法實現</td>
<td>子類必須實現所有抽象方法</td>
<td>子類必須實現所有抽象方法</td>
</tr>
<tr class="odd">
<td>混合使用</td>
<td>可以通過多重繼承同時繼承抽象類和其他類</td>
<td>可以繼承一個抽象類同時實現多個接口</td>
</tr>
<tr class="even">
<td>接口/協議一致性</td>
<td>依賴於”鴨子類型”，運行時檢查</td>
<td>編譯時檢查，強類型保證</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="異常處理" class="level2">
<h2 class="anchored" data-anchor-id="異常處理">異常處理</h2>
<section id="基本異常處理" class="level3">
<h3 class="anchored" data-anchor-id="基本異常處理">基本異常處理</h3>
<section id="python異常處理" class="level4">
<h4 class="anchored" data-anchor-id="python異常處理">Python異常處理</h4>
<div class="sourceCode" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 基本的try-except結構</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 嘗試執行可能出錯的代碼</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    num <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>(<span class="st">"請輸入一個數字: "</span>))</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> <span class="dv">10</span> <span class="op">/</span> num</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"10 除以 </span><span class="sc">{</span>num<span class="sc">}</span><span class="ss"> 等於 </span><span class="sc">{</span>result<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">ValueError</span>:</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 處理特定類型的異常</span></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"錯誤: 請輸入一個有效的數字"</span>)</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">ZeroDivisionError</span>:</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 處理另一種特定類型的異常</span></span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"錯誤: 除數不能為零"</span>)</span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 處理所有其他類型的異常</span></span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"發生錯誤: </span><span class="sc">{</span><span class="bu">type</span>(e)<span class="sc">.</span><span class="va">__name__</span><span class="sc">}</span><span class="ss"> - </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 如果沒有發生異常，執行這個代碼塊</span></span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"成功: 計算完成且沒有錯誤"</span>)</span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a><span class="cf">finally</span>:</span>
<span id="cb67-20"><a href="#cb67-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 無論是否發生異常，都執行這個代碼塊</span></span>
<span id="cb67-21"><a href="#cb67-21" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"無論如何都會執行這個代碼塊"</span>)</span>
<span id="cb67-22"><a href="#cb67-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-23"><a href="#cb67-23" aria-hidden="true" tabindex="-1"></a><span class="co"># 模擬異常場景</span></span>
<span id="cb67-24"><a href="#cb67-24" aria-hidden="true" tabindex="-1"></a>examples <span class="op">=</span> [</span>
<span id="cb67-25"><a href="#cb67-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">"五"</span>,  <span class="co"># ValueError</span></span>
<span id="cb67-26"><a href="#cb67-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">"0"</span>,   <span class="co"># ZeroDivisionError</span></span>
<span id="cb67-27"><a href="#cb67-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2"</span>    <span class="co"># 正常情況</span></span>
<span id="cb67-28"><a href="#cb67-28" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb67-29"><a href="#cb67-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-30"><a href="#cb67-30" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> example <span class="kw">in</span> examples:</span>
<span id="cb67-31"><a href="#cb67-31" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">嘗試輸入: </span><span class="sc">{</span>example<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb67-32"><a href="#cb67-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb67-33"><a href="#cb67-33" aria-hidden="true" tabindex="-1"></a>        num <span class="op">=</span> <span class="bu">int</span>(example)</span>
<span id="cb67-34"><a href="#cb67-34" aria-hidden="true" tabindex="-1"></a>        result <span class="op">=</span> <span class="dv">10</span> <span class="op">/</span> num</span>
<span id="cb67-35"><a href="#cb67-35" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"10 除以 </span><span class="sc">{</span>num<span class="sc">}</span><span class="ss"> 等於 </span><span class="sc">{</span>result<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb67-36"><a href="#cb67-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ValueError</span>:</span>
<span id="cb67-37"><a href="#cb67-37" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"錯誤: 請輸入一個有效的數字"</span>)</span>
<span id="cb67-38"><a href="#cb67-38" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ZeroDivisionError</span>:</span>
<span id="cb67-39"><a href="#cb67-39" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"錯誤: 除數不能為零"</span>)</span>
<span id="cb67-40"><a href="#cb67-40" aria-hidden="true" tabindex="-1"></a>    <span class="cf">finally</span>:</span>
<span id="cb67-41"><a href="#cb67-41" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"操作完成"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>請輸入一個數字: 5
10 除以 5 等於 2.0
成功: 計算完成且沒有錯誤
無論如何都會執行這個代碼塊

嘗試輸入: 五
錯誤: 請輸入一個有效的數字
操作完成

嘗試輸入: 0
錯誤: 除數不能為零
操作完成

嘗試輸入: 2
10 除以 2 等於 5.0
操作完成</code></pre>
</section>
<section id="c異常處理" class="level4">
<h4 class="anchored" data-anchor-id="c異常處理">C#異常處理</h4>
<div class="sourceCode" id="cb69"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 基本的try-catch-finally結構</span></span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">try</span></span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">Write</span><span class="op">(</span><span class="st">"請輸入一個數字: "</span><span class="op">);</span></span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a>            <span class="dt">string</span> input <span class="op">=</span> Console<span class="op">.</span><span class="fu">ReadLine</span><span class="op">();</span></span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a>            <span class="dt">int</span> num <span class="op">=</span> <span class="dt">int</span><span class="op">.</span><span class="fu">Parse</span><span class="op">(</span>input<span class="op">);</span></span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a>            <span class="dt">double</span> result <span class="op">=</span> <span class="fl">10.0</span> <span class="op">/</span> num<span class="op">;</span></span>
<span id="cb69-14"><a href="#cb69-14" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"10 除以 {num} 等於 {result}"</span><span class="op">);</span></span>
<span id="cb69-15"><a href="#cb69-15" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb69-16"><a href="#cb69-16" aria-hidden="true" tabindex="-1"></a>        <span class="kw">catch</span> <span class="op">(</span>FormatException<span class="op">)</span></span>
<span id="cb69-17"><a href="#cb69-17" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb69-18"><a href="#cb69-18" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 處理特定類型的異常</span></span>
<span id="cb69-19"><a href="#cb69-19" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"錯誤: 請輸入一個有效的數字"</span><span class="op">);</span></span>
<span id="cb69-20"><a href="#cb69-20" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb69-21"><a href="#cb69-21" aria-hidden="true" tabindex="-1"></a>        <span class="kw">catch</span> <span class="op">(</span>DivideByZeroException<span class="op">)</span></span>
<span id="cb69-22"><a href="#cb69-22" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb69-23"><a href="#cb69-23" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 處理另一種特定類型的異常</span></span>
<span id="cb69-24"><a href="#cb69-24" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"錯誤: 除數不能為零"</span><span class="op">);</span></span>
<span id="cb69-25"><a href="#cb69-25" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb69-26"><a href="#cb69-26" aria-hidden="true" tabindex="-1"></a>        <span class="kw">catch</span> <span class="op">(</span>Exception ex<span class="op">)</span></span>
<span id="cb69-27"><a href="#cb69-27" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb69-28"><a href="#cb69-28" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 處理所有其他類型的異常</span></span>
<span id="cb69-29"><a href="#cb69-29" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"發生錯誤: {ex.GetType().Name} - {ex.Message}"</span><span class="op">);</span></span>
<span id="cb69-30"><a href="#cb69-30" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb69-31"><a href="#cb69-31" aria-hidden="true" tabindex="-1"></a>        <span class="kw">finally</span></span>
<span id="cb69-32"><a href="#cb69-32" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb69-33"><a href="#cb69-33" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 無論是否發生異常，都執行這個代碼塊</span></span>
<span id="cb69-34"><a href="#cb69-34" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"無論如何都會執行這個代碼塊"</span><span class="op">);</span></span>
<span id="cb69-35"><a href="#cb69-35" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb69-36"><a href="#cb69-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-37"><a href="#cb69-37" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 模擬異常場景</span></span>
<span id="cb69-38"><a href="#cb69-38" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span><span class="op">[]</span> examples <span class="op">=</span> <span class="op">{</span></span>
<span id="cb69-39"><a href="#cb69-39" aria-hidden="true" tabindex="-1"></a>            <span class="st">"五"</span><span class="op">,</span>  <span class="co">// FormatException</span></span>
<span id="cb69-40"><a href="#cb69-40" aria-hidden="true" tabindex="-1"></a>            <span class="st">"0"</span><span class="op">,</span>   <span class="co">// DivideByZeroException</span></span>
<span id="cb69-41"><a href="#cb69-41" aria-hidden="true" tabindex="-1"></a>            <span class="st">"2"</span>    <span class="co">// 正常情況</span></span>
<span id="cb69-42"><a href="#cb69-42" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb69-43"><a href="#cb69-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-44"><a href="#cb69-44" aria-hidden="true" tabindex="-1"></a>        <span class="kw">foreach</span> <span class="op">(</span><span class="dt">string</span> example <span class="kw">in</span> examples<span class="op">)</span></span>
<span id="cb69-45"><a href="#cb69-45" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb69-46"><a href="#cb69-46" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"</span><span class="sc">\n</span><span class="st">嘗試輸入: {example}"</span><span class="op">);</span></span>
<span id="cb69-47"><a href="#cb69-47" aria-hidden="true" tabindex="-1"></a>            <span class="kw">try</span></span>
<span id="cb69-48"><a href="#cb69-48" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb69-49"><a href="#cb69-49" aria-hidden="true" tabindex="-1"></a>                <span class="dt">int</span> num <span class="op">=</span> <span class="dt">int</span><span class="op">.</span><span class="fu">Parse</span><span class="op">(</span>example<span class="op">);</span></span>
<span id="cb69-50"><a href="#cb69-50" aria-hidden="true" tabindex="-1"></a>                <span class="dt">double</span> result <span class="op">=</span> <span class="fl">10.0</span> <span class="op">/</span> num<span class="op">;</span></span>
<span id="cb69-51"><a href="#cb69-51" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"10 除以 {num} 等於 {result}"</span><span class="op">);</span></span>
<span id="cb69-52"><a href="#cb69-52" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb69-53"><a href="#cb69-53" aria-hidden="true" tabindex="-1"></a>            <span class="kw">catch</span> <span class="op">(</span>FormatException<span class="op">)</span></span>
<span id="cb69-54"><a href="#cb69-54" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb69-55"><a href="#cb69-55" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"錯誤: 請輸入一個有效的數字"</span><span class="op">);</span></span>
<span id="cb69-56"><a href="#cb69-56" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb69-57"><a href="#cb69-57" aria-hidden="true" tabindex="-1"></a>            <span class="kw">catch</span> <span class="op">(</span>DivideByZeroException<span class="op">)</span></span>
<span id="cb69-58"><a href="#cb69-58" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb69-59"><a href="#cb69-59" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"錯誤: 除數不能為零"</span><span class="op">);</span></span>
<span id="cb69-60"><a href="#cb69-60" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb69-61"><a href="#cb69-61" aria-hidden="true" tabindex="-1"></a>            <span class="kw">finally</span></span>
<span id="cb69-62"><a href="#cb69-62" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb69-63"><a href="#cb69-63" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"操作完成"</span><span class="op">);</span></span>
<span id="cb69-64"><a href="#cb69-64" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb69-65"><a href="#cb69-65" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb69-66"><a href="#cb69-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-67"><a href="#cb69-67" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用when子句添加條件過濾</span></span>
<span id="cb69-68"><a href="#cb69-68" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> age <span class="op">=</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span></span>
<span id="cb69-69"><a href="#cb69-69" aria-hidden="true" tabindex="-1"></a>        <span class="kw">try</span></span>
<span id="cb69-70"><a href="#cb69-70" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb69-71"><a href="#cb69-71" aria-hidden="true" tabindex="-1"></a>            <span class="kw">if</span> <span class="op">(</span>age <span class="op">&lt;</span> <span class="dv">0</span><span class="op">)</span></span>
<span id="cb69-72"><a href="#cb69-72" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb69-73"><a href="#cb69-73" aria-hidden="true" tabindex="-1"></a>                <span class="kw">throw</span> <span class="kw">new</span> <span class="fu">ArgumentException</span><span class="op">(</span><span class="st">"年齡不能為負數"</span><span class="op">,</span> <span class="st">"age"</span><span class="op">);</span></span>
<span id="cb69-74"><a href="#cb69-74" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb69-75"><a href="#cb69-75" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb69-76"><a href="#cb69-76" aria-hidden="true" tabindex="-1"></a>        <span class="kw">catch</span> <span class="op">(</span>ArgumentException ex<span class="op">)</span> <span class="fu">when</span> <span class="op">(</span>ex<span class="op">.</span><span class="fu">ParamName</span> <span class="op">==</span> <span class="st">"age"</span><span class="op">)</span></span>
<span id="cb69-77"><a href="#cb69-77" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb69-78"><a href="#cb69-78" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"年齡參數錯誤: {ex.Message}"</span><span class="op">);</span></span>
<span id="cb69-79"><a href="#cb69-79" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb69-80"><a href="#cb69-80" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb69-81"><a href="#cb69-81" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>請輸入一個數字: 5
10 除以 5 等於 2
無論如何都會執行這個代碼塊

嘗試輸入: 五
錯誤: 請輸入一個有效的數字
操作完成

嘗試輸入: 0
錯誤: 除數不能為零
操作完成

嘗試輸入: 2
10 除以 2 等於 5
操作完成

年齡參數錯誤: 年齡不能為負數</code></pre>
</section>
</section>
<section id="自定義異常" class="level3">
<h3 class="anchored" data-anchor-id="自定義異常">自定義異常</h3>
<section id="python自定義異常" class="level4">
<h4 class="anchored" data-anchor-id="python自定義異常">Python自定義異常</h4>
<div class="sourceCode" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 定義自定義異常</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> InvalidAgeError(<span class="pp">Exception</span>):</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""當年齡無效時引發的異常"""</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, age, message<span class="op">=</span><span class="st">"年齡無效"</span>):</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.age <span class="op">=</span> age</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.message <span class="op">=</span> message</span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">super</span>().<span class="fu">__init__</span>(<span class="va">self</span>.message)</span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):</span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>message<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>age<span class="sc">}</span><span class="ss"> 不是有效年齡"</span></span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UsernameTooShortError(<span class="pp">Exception</span>):</span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""當用戶名太短時引發的異常"""</span></span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb71-16"><a href="#cb71-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, username, min_length<span class="op">=</span><span class="dv">3</span>):</span>
<span id="cb71-17"><a href="#cb71-17" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.username <span class="op">=</span> username</span>
<span id="cb71-18"><a href="#cb71-18" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.min_length <span class="op">=</span> min_length</span>
<span id="cb71-19"><a href="#cb71-19" aria-hidden="true" tabindex="-1"></a>        <span class="bu">super</span>().<span class="fu">__init__</span>(<span class="ss">f"用戶名 '</span><span class="sc">{</span>username<span class="sc">}</span><span class="ss">' 太短，最小長度應為 </span><span class="sc">{</span>min_length<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb71-20"><a href="#cb71-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-21"><a href="#cb71-21" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用自定義異常</span></span>
<span id="cb71-22"><a href="#cb71-22" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> validate_age(age):</span>
<span id="cb71-23"><a href="#cb71-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> <span class="bu">isinstance</span>(age, <span class="bu">int</span>):</span>
<span id="cb71-24"><a href="#cb71-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">TypeError</span>(<span class="st">"年齡必須是整數"</span>)</span>
<span id="cb71-25"><a href="#cb71-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> age <span class="op">&lt;</span> <span class="dv">0</span> <span class="kw">or</span> age <span class="op">&gt;</span> <span class="dv">120</span>:</span>
<span id="cb71-26"><a href="#cb71-26" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> InvalidAgeError(age, <span class="st">"年齡必須在0到120之間"</span>)</span>
<span id="cb71-27"><a href="#cb71-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb71-28"><a href="#cb71-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-29"><a href="#cb71-29" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> register_user(username, age):</span>
<span id="cb71-30"><a href="#cb71-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 驗證用戶名</span></span>
<span id="cb71-31"><a href="#cb71-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(username) <span class="op">&lt;</span> <span class="dv">3</span>:</span>
<span id="cb71-32"><a href="#cb71-32" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> UsernameTooShortError(username)</span>
<span id="cb71-33"><a href="#cb71-33" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb71-34"><a href="#cb71-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 驗證年齡</span></span>
<span id="cb71-35"><a href="#cb71-35" aria-hidden="true" tabindex="-1"></a>    validate_age(age)</span>
<span id="cb71-36"><a href="#cb71-36" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb71-37"><a href="#cb71-37" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 如果所有檢查都通過</span></span>
<span id="cb71-38"><a href="#cb71-38" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"用戶 </span><span class="sc">{</span>username<span class="sc">}</span><span class="ss">（</span><span class="sc">{</span>age<span class="sc">}</span><span class="ss">歲）註冊成功"</span>)</span>
<span id="cb71-39"><a href="#cb71-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-40"><a href="#cb71-40" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用自定義異常的例子</span></span>
<span id="cb71-41"><a href="#cb71-41" aria-hidden="true" tabindex="-1"></a>test_cases <span class="op">=</span> [</span>
<span id="cb71-42"><a href="#cb71-42" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"username"</span>: <span class="st">"alice"</span>, <span class="st">"age"</span>: <span class="dv">25</span>},</span>
<span id="cb71-43"><a href="#cb71-43" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"username"</span>: <span class="st">"bob"</span>, <span class="st">"age"</span>: <span class="dv">200</span>},</span>
<span id="cb71-44"><a href="#cb71-44" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"username"</span>: <span class="st">"al"</span>, <span class="st">"age"</span>: <span class="dv">30</span>},</span>
<span id="cb71-45"><a href="#cb71-45" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"username"</span>: <span class="st">"charlie"</span>, <span class="st">"age"</span>: <span class="st">"twenty"</span>}</span>
<span id="cb71-46"><a href="#cb71-46" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb71-47"><a href="#cb71-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-48"><a href="#cb71-48" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> case <span class="kw">in</span> test_cases:</span>
<span id="cb71-49"><a href="#cb71-49" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb71-50"><a href="#cb71-50" aria-hidden="true" tabindex="-1"></a>        register_user(case[<span class="st">"username"</span>], case[<span class="st">"age"</span>])</span>
<span id="cb71-51"><a href="#cb71-51" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> UsernameTooShortError <span class="im">as</span> e:</span>
<span id="cb71-52"><a href="#cb71-52" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"註冊失敗: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb71-53"><a href="#cb71-53" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> InvalidAgeError <span class="im">as</span> e:</span>
<span id="cb71-54"><a href="#cb71-54" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"註冊失敗: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb71-55"><a href="#cb71-55" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">TypeError</span> <span class="im">as</span> e:</span>
<span id="cb71-56"><a href="#cb71-56" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"註冊失敗: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb71-57"><a href="#cb71-57" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb71-58"><a href="#cb71-58" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"未知錯誤: </span><span class="sc">{</span><span class="bu">type</span>(e)<span class="sc">.</span><span class="va">__name__</span><span class="sc">}</span><span class="ss"> - </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb71-59"><a href="#cb71-59" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"-"</span> <span class="op">*</span> <span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>用戶 alice（25歲）註冊成功
------------------------------
註冊失敗: 年齡必須在0到120之間: 200 不是有效年齡
------------------------------
註冊失敗: 用戶名 'al' 太短，最小長度應為 3
------------------------------
註冊失敗: 年齡必須是整數
------------------------------</code></pre>
</section>
<section id="c自定義異常" class="level4">
<h4 class="anchored" data-anchor-id="c自定義異常">C#自定義異常</h4>
<div class="sourceCode" id="cb73"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 定義自定義異常</span></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> InvalidAgeException <span class="op">:</span> Exception</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">int</span> Age <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="fu">InvalidAgeException</span><span class="op">(</span><span class="dt">int</span> age<span class="op">,</span> <span class="dt">string</span> message <span class="op">=</span> <span class="st">"年齡無效"</span><span class="op">)</span> </span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>            <span class="op">:</span> <span class="kw">base</span><span class="op">(</span>$<span class="st">"{message}: {age} 不是有效年齡"</span><span class="op">)</span></span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a>            Age <span class="op">=</span> age<span class="op">;</span></span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-17"><a href="#cb73-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> UsernameTooShortException <span class="op">:</span> Exception</span>
<span id="cb73-18"><a href="#cb73-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb73-19"><a href="#cb73-19" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">string</span> Username <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb73-20"><a href="#cb73-20" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">int</span> MinLength <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb73-21"><a href="#cb73-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-22"><a href="#cb73-22" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="fu">UsernameTooShortException</span><span class="op">(</span><span class="dt">string</span> username<span class="op">,</span> <span class="dt">int</span> minLength <span class="op">=</span> <span class="dv">3</span><span class="op">)</span></span>
<span id="cb73-23"><a href="#cb73-23" aria-hidden="true" tabindex="-1"></a>            <span class="op">:</span> <span class="kw">base</span><span class="op">(</span>$<span class="st">"用戶名 '{username}' 太短，最小長度應為 {minLength}"</span><span class="op">)</span></span>
<span id="cb73-24"><a href="#cb73-24" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb73-25"><a href="#cb73-25" aria-hidden="true" tabindex="-1"></a>            Username <span class="op">=</span> username<span class="op">;</span></span>
<span id="cb73-26"><a href="#cb73-26" aria-hidden="true" tabindex="-1"></a>            MinLength <span class="op">=</span> minLength<span class="op">;</span></span>
<span id="cb73-27"><a href="#cb73-27" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb73-28"><a href="#cb73-28" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb73-29"><a href="#cb73-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-30"><a href="#cb73-30" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 使用自定義異常</span></span>
<span id="cb73-31"><a href="#cb73-31" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">bool</span> <span class="fu">ValidateAge</span><span class="op">(</span><span class="dt">int</span> age<span class="op">)</span></span>
<span id="cb73-32"><a href="#cb73-32" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb73-33"><a href="#cb73-33" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>age <span class="op">&lt;</span> <span class="dv">0</span> <span class="op">||</span> age <span class="op">&gt;</span> <span class="dv">120</span><span class="op">)</span></span>
<span id="cb73-34"><a href="#cb73-34" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb73-35"><a href="#cb73-35" aria-hidden="true" tabindex="-1"></a>            <span class="kw">throw</span> <span class="kw">new</span> <span class="fu">InvalidAgeException</span><span class="op">(</span>age<span class="op">,</span> <span class="st">"年齡必須在0到120之間"</span><span class="op">);</span></span>
<span id="cb73-36"><a href="#cb73-36" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb73-37"><a href="#cb73-37" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb73-38"><a href="#cb73-38" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb73-39"><a href="#cb73-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-40"><a href="#cb73-40" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">RegisterUser</span><span class="op">(</span><span class="dt">string</span> username<span class="op">,</span> <span class="dt">int</span> age<span class="op">)</span></span>
<span id="cb73-41"><a href="#cb73-41" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb73-42"><a href="#cb73-42" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 驗證用戶名</span></span>
<span id="cb73-43"><a href="#cb73-43" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>username<span class="op">.</span><span class="fu">Length</span> <span class="op">&lt;</span> <span class="dv">3</span><span class="op">)</span></span>
<span id="cb73-44"><a href="#cb73-44" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb73-45"><a href="#cb73-45" aria-hidden="true" tabindex="-1"></a>            <span class="kw">throw</span> <span class="kw">new</span> <span class="fu">UsernameTooShortException</span><span class="op">(</span>username<span class="op">);</span></span>
<span id="cb73-46"><a href="#cb73-46" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb73-47"><a href="#cb73-47" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb73-48"><a href="#cb73-48" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 驗證年齡</span></span>
<span id="cb73-49"><a href="#cb73-49" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ValidateAge</span><span class="op">(</span>age<span class="op">);</span></span>
<span id="cb73-50"><a href="#cb73-50" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb73-51"><a href="#cb73-51" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 如果所有檢查都通過</span></span>
<span id="cb73-52"><a href="#cb73-52" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"用戶 {username}（{age}歲）註冊成功"</span><span class="op">);</span></span>
<span id="cb73-53"><a href="#cb73-53" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb73-54"><a href="#cb73-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-55"><a href="#cb73-55" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb73-56"><a href="#cb73-56" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb73-57"><a href="#cb73-57" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 準備測試案例</span></span>
<span id="cb73-58"><a href="#cb73-58" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> testCases <span class="op">=</span> <span class="kw">new</span><span class="op">[]</span></span>
<span id="cb73-59"><a href="#cb73-59" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb73-60"><a href="#cb73-60" aria-hidden="true" tabindex="-1"></a>            <span class="kw">new</span> <span class="op">{</span> Username <span class="op">=</span> <span class="st">"alice"</span><span class="op">,</span> Age <span class="op">=</span> <span class="dv">25</span> <span class="op">},</span></span>
<span id="cb73-61"><a href="#cb73-61" aria-hidden="true" tabindex="-1"></a>            <span class="kw">new</span> <span class="op">{</span> Username <span class="op">=</span> <span class="st">"bob"</span><span class="op">,</span> Age <span class="op">=</span> <span class="dv">200</span> <span class="op">},</span></span>
<span id="cb73-62"><a href="#cb73-62" aria-hidden="true" tabindex="-1"></a>            <span class="kw">new</span> <span class="op">{</span> Username <span class="op">=</span> <span class="st">"al"</span><span class="op">,</span> Age <span class="op">=</span> <span class="dv">30</span> <span class="op">},</span></span>
<span id="cb73-63"><a href="#cb73-63" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb73-64"><a href="#cb73-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-65"><a href="#cb73-65" aria-hidden="true" tabindex="-1"></a>        <span class="kw">foreach</span> <span class="op">(</span><span class="dt">var</span> testCase <span class="kw">in</span> testCases<span class="op">)</span></span>
<span id="cb73-66"><a href="#cb73-66" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb73-67"><a href="#cb73-67" aria-hidden="true" tabindex="-1"></a>            <span class="kw">try</span></span>
<span id="cb73-68"><a href="#cb73-68" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb73-69"><a href="#cb73-69" aria-hidden="true" tabindex="-1"></a>                <span class="fu">RegisterUser</span><span class="op">(</span>testCase<span class="op">.</span><span class="fu">Username</span><span class="op">,</span> testCase<span class="op">.</span><span class="fu">Age</span><span class="op">);</span></span>
<span id="cb73-70"><a href="#cb73-70" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb73-71"><a href="#cb73-71" aria-hidden="true" tabindex="-1"></a>            <span class="kw">catch</span> <span class="op">(</span>UsernameTooShortException e<span class="op">)</span></span>
<span id="cb73-72"><a href="#cb73-72" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb73-73"><a href="#cb73-73" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"註冊失敗: {e.Message}"</span><span class="op">);</span></span>
<span id="cb73-74"><a href="#cb73-74" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb73-75"><a href="#cb73-75" aria-hidden="true" tabindex="-1"></a>            <span class="kw">catch</span> <span class="op">(</span>InvalidAgeException e<span class="op">)</span></span>
<span id="cb73-76"><a href="#cb73-76" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb73-77"><a href="#cb73-77" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"註冊失敗: {e.Message}"</span><span class="op">);</span></span>
<span id="cb73-78"><a href="#cb73-78" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb73-79"><a href="#cb73-79" aria-hidden="true" tabindex="-1"></a>            <span class="kw">catch</span> <span class="op">(</span>Exception e<span class="op">)</span></span>
<span id="cb73-80"><a href="#cb73-80" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb73-81"><a href="#cb73-81" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"未知錯誤: {e.GetType().Name} - {e.Message}"</span><span class="op">);</span></span>
<span id="cb73-82"><a href="#cb73-82" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb73-83"><a href="#cb73-83" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="kw">new</span> <span class="dt">string</span><span class="op">(</span><span class="ch">'-'</span><span class="op">,</span> <span class="dv">30</span><span class="op">));</span></span>
<span id="cb73-84"><a href="#cb73-84" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb73-85"><a href="#cb73-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-86"><a href="#cb73-86" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 測試類型轉換異常</span></span>
<span id="cb73-87"><a href="#cb73-87" aria-hidden="true" tabindex="-1"></a>        <span class="kw">try</span></span>
<span id="cb73-88"><a href="#cb73-88" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb73-89"><a href="#cb73-89" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"請輸入年齡: "</span><span class="op">);</span></span>
<span id="cb73-90"><a href="#cb73-90" aria-hidden="true" tabindex="-1"></a>            <span class="dt">string</span> input <span class="op">=</span> <span class="st">"twenty"</span><span class="op">;</span> <span class="co">// 模擬用戶輸入</span></span>
<span id="cb73-91"><a href="#cb73-91" aria-hidden="true" tabindex="-1"></a>            <span class="dt">int</span> age <span class="op">=</span> <span class="dt">int</span><span class="op">.</span><span class="fu">Parse</span><span class="op">(</span>input<span class="op">);</span></span>
<span id="cb73-92"><a href="#cb73-92" aria-hidden="true" tabindex="-1"></a>            <span class="fu">RegisterUser</span><span class="op">(</span><span class="st">"charlie"</span><span class="op">,</span> age<span class="op">);</span></span>
<span id="cb73-93"><a href="#cb73-93" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb73-94"><a href="#cb73-94" aria-hidden="true" tabindex="-1"></a>        <span class="kw">catch</span> <span class="op">(</span>FormatException e<span class="op">)</span></span>
<span id="cb73-95"><a href="#cb73-95" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb73-96"><a href="#cb73-96" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"註冊失敗: 年齡必須是整數 - {e.Message}"</span><span class="op">);</span></span>
<span id="cb73-97"><a href="#cb73-97" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb73-98"><a href="#cb73-98" aria-hidden="true" tabindex="-1"></a>        <span class="kw">catch</span> <span class="op">(</span>Exception e<span class="op">)</span></span>
<span id="cb73-99"><a href="#cb73-99" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb73-100"><a href="#cb73-100" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"未知錯誤: {e.GetType().Name} - {e.Message}"</span><span class="op">);</span></span>
<span id="cb73-101"><a href="#cb73-101" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb73-102"><a href="#cb73-102" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb73-103"><a href="#cb73-103" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>用戶 alice（25歲）註冊成功
------------------------------
註冊失敗: 年齡必須在0到120之間: 200 不是有效年齡
------------------------------
註冊失敗: 用戶名 'al' 太短，最小長度應為 3
------------------------------
註冊失敗: 年齡必須是整數 - Input string was not in a correct format.</code></pre>
</section>
</section>
<section id="異常處理差異總結" class="level3">
<h3 class="anchored" data-anchor-id="異常處理差異總結">異常處理差異總結</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 38%">
<col style="width: 41%">
</colgroup>
<thead>
<tr class="header">
<th>特性</th>
<th>Python</th>
<th>C#</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>異常結構</td>
<td>try-except-else-finally</td>
<td>try-catch-finally</td>
</tr>
<tr class="even">
<td>自定義異常</td>
<td>繼承自 <code>Exception</code> 類</td>
<td>繼承自 <code>Exception</code> 類</td>
</tr>
<tr class="odd">
<td>捕獲多個異常</td>
<td>使用多個 <code>except</code> 子句</td>
<td>使用多個 <code>catch</code> 子句</td>
</tr>
<tr class="even">
<td>處理所有異常</td>
<td><code>except Exception as e:</code></td>
<td><code>catch (Exception ex)</code></td>
</tr>
<tr class="odd">
<td>條件異常處理</td>
<td>需要在 <code>except</code> 塊中手動檢查條件</td>
<td>支持 <code>catch (ExceptionType ex) when (condition)</code></td>
</tr>
<tr class="even">
<td>重新拋出異常</td>
<td><code>raise</code> 或 <code>raise e</code></td>
<td><code>throw</code> 或 <code>throw ex</code></td>
</tr>
<tr class="odd">
<td>無法恢復的異常</td>
<td>通常使用 <code>SystemExit</code>, <code>KeyboardInterrupt</code></td>
<td>通常使用 <code>SystemException</code> 的子類</td>
</tr>
<tr class="even">
<td>方法中的異常聲明</td>
<td>不需要聲明方法可能引發的異常</td>
<td>通常不需要聲明，但可以使用文檔注釋</td>
</tr>
<tr class="odd">
<td>資源管理</td>
<td>使用 <code>with</code> 語句 (上下文管理器)</td>
<td>使用 <code>using</code> 語句</td>
</tr>
<tr class="even">
<td>異常傳播</td>
<td>異常會自動向上傳播直到被處理</td>
<td>異常會自動向上傳播直到被處理</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="文件操作" class="level2">
<h2 class="anchored" data-anchor-id="文件操作">文件操作</h2>
<section id="基本文件讀寫" class="level3">
<h3 class="anchored" data-anchor-id="基本文件讀寫">基本文件讀寫</h3>
<section id="python文件讀寫" class="level4">
<h4 class="anchored" data-anchor-id="python文件讀寫">Python文件讀寫</h4>
<div class="sourceCode" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 寫入文件</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用 with 語句（上下文管理器）自動處理文件關閉</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"example.txt"</span>, <span class="st">"w"</span>, encoding<span class="op">=</span><span class="st">"utf-8"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span>.write(<span class="st">"這是第一行</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span>.write(<span class="st">"這是第二行</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span>.write(<span class="st">"這是第三行，包含特殊字符：你好，世界！</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"文件寫入完成"</span>)</span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 讀取整個文件內容</span></span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"example.txt"</span>, <span class="st">"r"</span>, encoding<span class="op">=</span><span class="st">"utf-8"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>    content <span class="op">=</span> <span class="bu">file</span>.read()</span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"--- 整個文件內容 ---"</span>)</span>
<span id="cb75-14"><a href="#cb75-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(content)</span>
<span id="cb75-15"><a href="#cb75-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-16"><a href="#cb75-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 逐行讀取</span></span>
<span id="cb75-17"><a href="#cb75-17" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"example.txt"</span>, <span class="st">"r"</span>, encoding<span class="op">=</span><span class="st">"utf-8"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb75-18"><a href="#cb75-18" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"--- 逐行讀取 ---"</span>)</span>
<span id="cb75-19"><a href="#cb75-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> line <span class="kw">in</span> <span class="bu">file</span>:</span>
<span id="cb75-20"><a href="#cb75-20" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"行: </span><span class="sc">{</span>line<span class="sc">.</span>strip()<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb75-21"><a href="#cb75-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-22"><a href="#cb75-22" aria-hidden="true" tabindex="-1"></a><span class="co"># 讀取所有行到列表</span></span>
<span id="cb75-23"><a href="#cb75-23" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"example.txt"</span>, <span class="st">"r"</span>, encoding<span class="op">=</span><span class="st">"utf-8"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb75-24"><a href="#cb75-24" aria-hidden="true" tabindex="-1"></a>    lines <span class="op">=</span> <span class="bu">file</span>.readlines()</span>
<span id="cb75-25"><a href="#cb75-25" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"--- 行列表 ---"</span>)</span>
<span id="cb75-26"><a href="#cb75-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, line <span class="kw">in</span> <span class="bu">enumerate</span>(lines):</span>
<span id="cb75-27"><a href="#cb75-27" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"第</span><span class="sc">{</span>i<span class="op">+</span><span class="dv">1</span><span class="sc">}</span><span class="ss">行: </span><span class="sc">{</span>line<span class="sc">.</span>strip()<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb75-28"><a href="#cb75-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-29"><a href="#cb75-29" aria-hidden="true" tabindex="-1"></a><span class="co"># 追加內容到文件</span></span>
<span id="cb75-30"><a href="#cb75-30" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"example.txt"</span>, <span class="st">"a"</span>, encoding<span class="op">=</span><span class="st">"utf-8"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb75-31"><a href="#cb75-31" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span>.write(<span class="st">"這是追加的第四行</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb75-32"><a href="#cb75-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-33"><a href="#cb75-33" aria-hidden="true" tabindex="-1"></a><span class="co"># 再次讀取確認追加成功</span></span>
<span id="cb75-34"><a href="#cb75-34" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"example.txt"</span>, <span class="st">"r"</span>, encoding<span class="op">=</span><span class="st">"utf-8"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb75-35"><a href="#cb75-35" aria-hidden="true" tabindex="-1"></a>    content <span class="op">=</span> <span class="bu">file</span>.read()</span>
<span id="cb75-36"><a href="#cb75-36" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"--- 追加後的內容 ---"</span>)</span>
<span id="cb75-37"><a href="#cb75-37" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(content)</span>
<span id="cb75-38"><a href="#cb75-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-39"><a href="#cb75-39" aria-hidden="true" tabindex="-1"></a><span class="co"># 一次寫入多行</span></span>
<span id="cb75-40"><a href="#cb75-40" aria-hidden="true" tabindex="-1"></a>lines_to_write <span class="op">=</span> [</span>
<span id="cb75-41"><a href="#cb75-41" aria-hidden="true" tabindex="-1"></a>    <span class="st">"這是列表的第一行"</span>,</span>
<span id="cb75-42"><a href="#cb75-42" aria-hidden="true" tabindex="-1"></a>    <span class="st">"這是列表的第二行"</span>,</span>
<span id="cb75-43"><a href="#cb75-43" aria-hidden="true" tabindex="-1"></a>    <span class="st">"這是列表的第三行"</span></span>
<span id="cb75-44"><a href="#cb75-44" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb75-45"><a href="#cb75-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-46"><a href="#cb75-46" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"multiline.txt"</span>, <span class="st">"w"</span>, encoding<span class="op">=</span><span class="st">"utf-8"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb75-47"><a href="#cb75-47" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span>.writelines(line <span class="op">+</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span> <span class="cf">for</span> line <span class="kw">in</span> lines_to_write)</span>
<span id="cb75-48"><a href="#cb75-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-49"><a href="#cb75-49" aria-hidden="true" tabindex="-1"></a><span class="co"># 讀取新文件內容</span></span>
<span id="cb75-50"><a href="#cb75-50" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"multiline.txt"</span>, <span class="st">"r"</span>, encoding<span class="op">=</span><span class="st">"utf-8"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb75-51"><a href="#cb75-51" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"--- multiline.txt內容 ---"</span>)</span>
<span id="cb75-52"><a href="#cb75-52" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="bu">file</span>.read())</span>
<span id="cb75-53"><a href="#cb75-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-54"><a href="#cb75-54" aria-hidden="true" tabindex="-1"></a><span class="co"># 讀取指定字節數</span></span>
<span id="cb75-55"><a href="#cb75-55" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"example.txt"</span>, <span class="st">"r"</span>, encoding<span class="op">=</span><span class="st">"utf-8"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb75-56"><a href="#cb75-56" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"--- 讀取前10個字節 ---"</span>)</span>
<span id="cb75-57"><a href="#cb75-57" aria-hidden="true" tabindex="-1"></a>    chunk <span class="op">=</span> <span class="bu">file</span>.read(<span class="dv">10</span>)</span>
<span id="cb75-58"><a href="#cb75-58" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(chunk)</span>
<span id="cb75-59"><a href="#cb75-59" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"--- 讀取下10個字節 ---"</span>)</span>
<span id="cb75-60"><a href="#cb75-60" aria-hidden="true" tabindex="-1"></a>    chunk <span class="op">=</span> <span class="bu">file</span>.read(<span class="dv">10</span>)</span>
<span id="cb75-61"><a href="#cb75-61" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(chunk)</span>
<span id="cb75-62"><a href="#cb75-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-63"><a href="#cb75-63" aria-hidden="true" tabindex="-1"></a><span class="co"># 文件指針操作</span></span>
<span id="cb75-64"><a href="#cb75-64" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"example.txt"</span>, <span class="st">"r"</span>, encoding<span class="op">=</span><span class="st">"utf-8"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb75-65"><a href="#cb75-65" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"--- 文件指針操作 ---"</span>)</span>
<span id="cb75-66"><a href="#cb75-66" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"當前位置: </span><span class="sc">{</span><span class="bu">file</span><span class="sc">.</span>tell()<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb75-67"><a href="#cb75-67" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span>.read(<span class="dv">5</span>)</span>
<span id="cb75-68"><a href="#cb75-68" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"讀取5個字符後的位置: </span><span class="sc">{</span><span class="bu">file</span><span class="sc">.</span>tell()<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb75-69"><a href="#cb75-69" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span>.seek(<span class="dv">0</span>)  <span class="co"># 回到文件開頭</span></span>
<span id="cb75-70"><a href="#cb75-70" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"回到文件開頭後的位置: </span><span class="sc">{</span><span class="bu">file</span><span class="sc">.</span>tell()<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb75-71"><a href="#cb75-71" aria-hidden="true" tabindex="-1"></a>    first_line <span class="op">=</span> <span class="bu">file</span>.readline()</span>
<span id="cb75-72"><a href="#cb75-72" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"第一行: </span><span class="sc">{</span>first_line<span class="sc">.</span>strip()<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>文件寫入完成
--- 整個文件內容 ---
這是第一行
這是第二行
這是第三行，包含特殊字符：你好，世界！

--- 逐行讀取 ---
行: 這是第一行
行: 這是第二行
行: 這是第三行，包含特殊字符：你好，世界！
--- 行列表 ---
第1行: 這是第一行
第2行: 這是第二行
第3行: 這是第三行，包含特殊字符：你好，世界！
--- 追加後的內容 ---
這是第一行
這是第二行
這是第三行，包含特殊字符：你好，世界！
這是追加的第四行

--- multiline.txt內容 ---
這是列表的第一行
這是列表的第二行
這是列表的第三行

--- 讀取前10個字節 ---
這是第一行

--- 讀取下10個字節 ---
這是第二行

--- 文件指針操作 ---
當前位置: 0
讀取5個字符後的位置: 5
回到文件開頭後的位置: 0
第一行: 這是第一行</code></pre>
</section>
<section id="c文件讀寫" class="level4">
<h4 class="anchored" data-anchor-id="c文件讀寫">C#文件讀寫</h4>
<div class="sourceCode" id="cb77"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">IO</span><span class="op">;</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Text</span><span class="op">;</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Collections</span><span class="op">.</span><span class="fu">Generic</span><span class="op">;</span></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 寫入文件</span></span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a>        <span class="kw">using</span> <span class="op">(</span>StreamWriter writer <span class="op">=</span> <span class="kw">new</span> <span class="fu">StreamWriter</span><span class="op">(</span><span class="st">"example.txt"</span><span class="op">,</span> <span class="kw">false</span><span class="op">,</span> Encoding<span class="op">.</span><span class="fu">UTF8</span><span class="op">))</span></span>
<span id="cb77-12"><a href="#cb77-12" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb77-13"><a href="#cb77-13" aria-hidden="true" tabindex="-1"></a>            writer<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"這是第一行"</span><span class="op">);</span></span>
<span id="cb77-14"><a href="#cb77-14" aria-hidden="true" tabindex="-1"></a>            writer<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"這是第二行"</span><span class="op">);</span></span>
<span id="cb77-15"><a href="#cb77-15" aria-hidden="true" tabindex="-1"></a>            writer<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"這是第三行，包含特殊字符：你好，世界！"</span><span class="op">);</span></span>
<span id="cb77-16"><a href="#cb77-16" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb77-17"><a href="#cb77-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-18"><a href="#cb77-18" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"文件寫入完成"</span><span class="op">);</span></span>
<span id="cb77-19"><a href="#cb77-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-20"><a href="#cb77-20" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 讀取整個文件內容</span></span>
<span id="cb77-21"><a href="#cb77-21" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> content <span class="op">=</span> File<span class="op">.</span><span class="fu">ReadAllText</span><span class="op">(</span><span class="st">"example.txt"</span><span class="op">,</span> Encoding<span class="op">.</span><span class="fu">UTF8</span><span class="op">);</span></span>
<span id="cb77-22"><a href="#cb77-22" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"--- 整個文件內容 ---"</span><span class="op">);</span></span>
<span id="cb77-23"><a href="#cb77-23" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>content<span class="op">);</span></span>
<span id="cb77-24"><a href="#cb77-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-25"><a href="#cb77-25" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 逐行讀取</span></span>
<span id="cb77-26"><a href="#cb77-26" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"--- 逐行讀取 ---"</span><span class="op">);</span></span>
<span id="cb77-27"><a href="#cb77-27" aria-hidden="true" tabindex="-1"></a>        <span class="kw">using</span> <span class="op">(</span>StreamReader reader <span class="op">=</span> <span class="kw">new</span> <span class="fu">StreamReader</span><span class="op">(</span><span class="st">"example.txt"</span><span class="op">,</span> Encoding<span class="op">.</span><span class="fu">UTF8</span><span class="op">))</span></span>
<span id="cb77-28"><a href="#cb77-28" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb77-29"><a href="#cb77-29" aria-hidden="true" tabindex="-1"></a>            <span class="dt">string</span> line<span class="op">;</span></span>
<span id="cb77-30"><a href="#cb77-30" aria-hidden="true" tabindex="-1"></a>            <span class="kw">while</span> <span class="op">((</span>line <span class="op">=</span> reader<span class="op">.</span><span class="fu">ReadLine</span><span class="op">())</span> <span class="op">!=</span> <span class="kw">null</span><span class="op">)</span></span>
<span id="cb77-31"><a href="#cb77-31" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb77-32"><a href="#cb77-32" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"行: {line}"</span><span class="op">);</span></span>
<span id="cb77-33"><a href="#cb77-33" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb77-34"><a href="#cb77-34" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb77-35"><a href="#cb77-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-36"><a href="#cb77-36" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 讀取所有行到數組</span></span>
<span id="cb77-37"><a href="#cb77-37" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span><span class="op">[]</span> lines <span class="op">=</span> File<span class="op">.</span><span class="fu">ReadAllLines</span><span class="op">(</span><span class="st">"example.txt"</span><span class="op">,</span> Encoding<span class="op">.</span><span class="fu">UTF8</span><span class="op">);</span></span>
<span id="cb77-38"><a href="#cb77-38" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"--- 行數組 ---"</span><span class="op">);</span></span>
<span id="cb77-39"><a href="#cb77-39" aria-hidden="true" tabindex="-1"></a>        <span class="kw">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> lines<span class="op">.</span><span class="fu">Length</span><span class="op">;</span> i<span class="op">++)</span></span>
<span id="cb77-40"><a href="#cb77-40" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb77-41"><a href="#cb77-41" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"第{i+1}行: {lines[i]}"</span><span class="op">);</span></span>
<span id="cb77-42"><a href="#cb77-42" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb77-43"><a href="#cb77-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-44"><a href="#cb77-44" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 追加內容到文件</span></span>
<span id="cb77-45"><a href="#cb77-45" aria-hidden="true" tabindex="-1"></a>        <span class="kw">using</span> <span class="op">(</span>StreamWriter writer <span class="op">=</span> <span class="kw">new</span> <span class="fu">StreamWriter</span><span class="op">(</span><span class="st">"example.txt"</span><span class="op">,</span> <span class="kw">true</span><span class="op">,</span> Encoding<span class="op">.</span><span class="fu">UTF8</span><span class="op">))</span></span>
<span id="cb77-46"><a href="#cb77-46" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb77-47"><a href="#cb77-47" aria-hidden="true" tabindex="-1"></a>            writer<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"這是追加的第四行"</span><span class="op">);</span></span>
<span id="cb77-48"><a href="#cb77-48" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb77-49"><a href="#cb77-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-50"><a href="#cb77-50" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 再次讀取確認追加成功</span></span>
<span id="cb77-51"><a href="#cb77-51" aria-hidden="true" tabindex="-1"></a>        content <span class="op">=</span> File<span class="op">.</span><span class="fu">ReadAllText</span><span class="op">(</span><span class="st">"example.txt"</span><span class="op">,</span> Encoding<span class="op">.</span><span class="fu">UTF8</span><span class="op">);</span></span>
<span id="cb77-52"><a href="#cb77-52" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"--- 追加後的內容 ---"</span><span class="op">);</span></span>
<span id="cb77-53"><a href="#cb77-53" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>content<span class="op">);</span></span>
<span id="cb77-54"><a href="#cb77-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-55"><a href="#cb77-55" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 一次寫入多行</span></span>
<span id="cb77-56"><a href="#cb77-56" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> linesToWrite <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span></span>
<span id="cb77-57"><a href="#cb77-57" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb77-58"><a href="#cb77-58" aria-hidden="true" tabindex="-1"></a>            <span class="st">"這是列表的第一行"</span><span class="op">,</span></span>
<span id="cb77-59"><a href="#cb77-59" aria-hidden="true" tabindex="-1"></a>            <span class="st">"這是列表的第二行"</span><span class="op">,</span></span>
<span id="cb77-60"><a href="#cb77-60" aria-hidden="true" tabindex="-1"></a>            <span class="st">"這是列表的第三行"</span></span>
<span id="cb77-61"><a href="#cb77-61" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb77-62"><a href="#cb77-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-63"><a href="#cb77-63" aria-hidden="true" tabindex="-1"></a>        File<span class="op">.</span><span class="fu">WriteAllLines</span><span class="op">(</span><span class="st">"multiline.txt"</span><span class="op">,</span> linesToWrite<span class="op">,</span> Encoding<span class="op">.</span><span class="fu">UTF8</span><span class="op">);</span></span>
<span id="cb77-64"><a href="#cb77-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-65"><a href="#cb77-65" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 讀取新文件內容</span></span>
<span id="cb77-66"><a href="#cb77-66" aria-hidden="true" tabindex="-1"></a>        content <span class="op">=</span> File<span class="op">.</span><span class="fu">ReadAllText</span><span class="op">(</span><span class="st">"multiline.txt"</span><span class="op">,</span> Encoding<span class="op">.</span><span class="fu">UTF8</span><span class="op">);</span></span>
<span id="cb77-67"><a href="#cb77-67" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"--- multiline.txt內容 ---"</span><span class="op">);</span></span>
<span id="cb77-68"><a href="#cb77-68" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>content<span class="op">);</span></span>
<span id="cb77-69"><a href="#cb77-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-70"><a href="#cb77-70" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 讀取指定字節數</span></span>
<span id="cb77-71"><a href="#cb77-71" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"--- 讀取指定字節數 ---"</span><span class="op">);</span></span>
<span id="cb77-72"><a href="#cb77-72" aria-hidden="true" tabindex="-1"></a>        <span class="kw">using</span> <span class="op">(</span>FileStream fs <span class="op">=</span> <span class="kw">new</span> <span class="fu">FileStream</span><span class="op">(</span><span class="st">"example.txt"</span><span class="op">,</span> FileMode<span class="op">.</span><span class="fu">Open</span><span class="op">,</span> FileAccess<span class="op">.</span><span class="fu">Read</span><span class="op">))</span></span>
<span id="cb77-73"><a href="#cb77-73" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb77-74"><a href="#cb77-74" aria-hidden="true" tabindex="-1"></a>            <span class="dt">byte</span><span class="op">[]</span> buffer <span class="op">=</span> <span class="kw">new</span> <span class="dt">byte</span><span class="op">[</span><span class="dv">10</span><span class="op">];</span></span>
<span id="cb77-75"><a href="#cb77-75" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"--- 讀取前10個字節 ---"</span><span class="op">);</span></span>
<span id="cb77-76"><a href="#cb77-76" aria-hidden="true" tabindex="-1"></a>            <span class="dt">int</span> bytesRead <span class="op">=</span> fs<span class="op">.</span><span class="fu">Read</span><span class="op">(</span>buffer<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> buffer<span class="op">.</span><span class="fu">Length</span><span class="op">);</span></span>
<span id="cb77-77"><a href="#cb77-77" aria-hidden="true" tabindex="-1"></a>            <span class="dt">string</span> chunk <span class="op">=</span> Encoding<span class="op">.</span><span class="fu">UTF8</span><span class="op">.</span><span class="fu">GetString</span><span class="op">(</span>buffer<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> bytesRead<span class="op">);</span></span>
<span id="cb77-78"><a href="#cb77-78" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>chunk<span class="op">);</span></span>
<span id="cb77-79"><a href="#cb77-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-80"><a href="#cb77-80" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"--- 讀取下10個字節 ---"</span><span class="op">);</span></span>
<span id="cb77-81"><a href="#cb77-81" aria-hidden="true" tabindex="-1"></a>            bytesRead <span class="op">=</span> fs<span class="op">.</span><span class="fu">Read</span><span class="op">(</span>buffer<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> buffer<span class="op">.</span><span class="fu">Length</span><span class="op">);</span></span>
<span id="cb77-82"><a href="#cb77-82" aria-hidden="true" tabindex="-1"></a>            chunk <span class="op">=</span> Encoding<span class="op">.</span><span class="fu">UTF8</span><span class="op">.</span><span class="fu">GetString</span><span class="op">(</span>buffer<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> bytesRead<span class="op">);</span></span>
<span id="cb77-83"><a href="#cb77-83" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>chunk<span class="op">);</span></span>
<span id="cb77-84"><a href="#cb77-84" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb77-85"><a href="#cb77-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-86"><a href="#cb77-86" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 文件指針操作</span></span>
<span id="cb77-87"><a href="#cb77-87" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"--- 文件指針操作 ---"</span><span class="op">);</span></span>
<span id="cb77-88"><a href="#cb77-88" aria-hidden="true" tabindex="-1"></a>        <span class="kw">using</span> <span class="op">(</span>FileStream fs <span class="op">=</span> <span class="kw">new</span> <span class="fu">FileStream</span><span class="op">(</span><span class="st">"example.txt"</span><span class="op">,</span> FileMode<span class="op">.</span><span class="fu">Open</span><span class="op">,</span> FileAccess<span class="op">.</span><span class="fu">Read</span><span class="op">))</span></span>
<span id="cb77-89"><a href="#cb77-89" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb77-90"><a href="#cb77-90" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"當前位置: {fs.Position}"</span><span class="op">);</span></span>
<span id="cb77-91"><a href="#cb77-91" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb77-92"><a href="#cb77-92" aria-hidden="true" tabindex="-1"></a>            <span class="dt">byte</span><span class="op">[]</span> buffer <span class="op">=</span> <span class="kw">new</span> <span class="dt">byte</span><span class="op">[</span><span class="dv">5</span><span class="op">];</span></span>
<span id="cb77-93"><a href="#cb77-93" aria-hidden="true" tabindex="-1"></a>            fs<span class="op">.</span><span class="fu">Read</span><span class="op">(</span>buffer<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> buffer<span class="op">.</span><span class="fu">Length</span><span class="op">);</span></span>
<span id="cb77-94"><a href="#cb77-94" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"讀取5個字節後的位置: {fs.Position}"</span><span class="op">);</span></span>
<span id="cb77-95"><a href="#cb77-95" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb77-96"><a href="#cb77-96" aria-hidden="true" tabindex="-1"></a>            fs<span class="op">.</span><span class="fu">Seek</span><span class="op">(</span><span class="dv">0</span><span class="op">,</span> SeekOrigin<span class="op">.</span><span class="fu">Begin</span><span class="op">);</span>  <span class="co">// 回到文件開頭</span></span>
<span id="cb77-97"><a href="#cb77-97" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"回到文件開頭後的位置: {fs.Position}"</span><span class="op">);</span></span>
<span id="cb77-98"><a href="#cb77-98" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb77-99"><a href="#cb77-99" aria-hidden="true" tabindex="-1"></a>            <span class="kw">using</span> <span class="op">(</span>StreamReader reader <span class="op">=</span> <span class="kw">new</span> <span class="fu">StreamReader</span><span class="op">(</span>fs<span class="op">,</span> Encoding<span class="op">.</span><span class="fu">UTF8</span><span class="op">,</span> <span class="kw">false</span><span class="op">,</span> <span class="dv">1024</span><span class="op">,</span> <span class="kw">true</span><span class="op">))</span></span>
<span id="cb77-100"><a href="#cb77-100" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb77-101"><a href="#cb77-101" aria-hidden="true" tabindex="-1"></a>                <span class="dt">string</span> firstLine <span class="op">=</span> reader<span class="op">.</span><span class="fu">ReadLine</span><span class="op">();</span></span>
<span id="cb77-102"><a href="#cb77-102" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"第一行: {firstLine}"</span><span class="op">);</span></span>
<span id="cb77-103"><a href="#cb77-103" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb77-104"><a href="#cb77-104" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb77-105"><a href="#cb77-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-106"><a href="#cb77-106" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用File靜態方法（更簡潔）</span></span>
<span id="cb77-107"><a href="#cb77-107" aria-hidden="true" tabindex="-1"></a>        File<span class="op">.</span><span class="fu">WriteAllText</span><span class="op">(</span><span class="st">"simple.txt"</span><span class="op">,</span> <span class="st">"使用File類直接寫入文件內容"</span><span class="op">,</span> Encoding<span class="op">.</span><span class="fu">UTF8</span><span class="op">);</span></span>
<span id="cb77-108"><a href="#cb77-108" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> simpleContent <span class="op">=</span> File<span class="op">.</span><span class="fu">ReadAllText</span><span class="op">(</span><span class="st">"simple.txt"</span><span class="op">,</span> Encoding<span class="op">.</span><span class="fu">UTF8</span><span class="op">);</span></span>
<span id="cb77-109"><a href="#cb77-109" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"簡單文件內容: {simpleContent}"</span><span class="op">);</span></span>
<span id="cb77-110"><a href="#cb77-110" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb77-111"><a href="#cb77-111" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>文件寫入完成
--- 整個文件內容 ---
這是第一行
這是第二行
這是第三行，包含特殊字符：你好，世界！

--- 逐行讀取 ---
行: 這是第一行
行: 這是第二行
行: 這是第三行，包含特殊字符：你好，世界！
--- 行數組 ---
第1行: 這是第一行
第2行: 這是第二行
第3行: 這是第三行，包含特殊字符：你好，世界！
--- 追加後的內容 ---
這是第一行
這是第二行
這是第三行，包含特殊字符：你好，世界！
這是追加的第四行

--- multiline.txt內容 ---
這是列表的第一行
這是列表的第二行
這是列表的第三行

--- 讀取指定字節數 ---
--- 讀取前10個字節 ---
這是第一行
--- 讀取下10個字節 ---
這是第二行

--- 文件指針操作 ---
當前位置: 0
讀取5個字節後的位置: 5
回到文件開頭後的位置: 0
第一行: 這是第一行
簡單文件內容: 使用File類直接寫入文件內容</code></pre>
</section>
</section>
<section id="二進制文件操作" class="level3">
<h3 class="anchored" data-anchor-id="二進制文件操作">二進制文件操作</h3>
<section id="python二進制文件操作" class="level4">
<h4 class="anchored" data-anchor-id="python二進制文件操作">Python二進制文件操作</h4>
<div class="sourceCode" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> struct</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 寫入二進制文件</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"binary.dat"</span>, <span class="st">"wb"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 寫入一些整數和浮點數</span></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 格式字符串 'i' 表示整數，'f' 表示浮點數</span></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>    values <span class="op">=</span> [<span class="dv">42</span>, <span class="dv">73</span>, <span class="fl">3.14</span>, <span class="fl">2.71</span>]</span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> value <span class="kw">in</span> values:</span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">isinstance</span>(value, <span class="bu">int</span>):</span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a>            <span class="co"># 將整數打包為二進制並寫入</span></span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a>            <span class="bu">file</span>.write(struct.pack(<span class="st">'i'</span>, value))</span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> <span class="bu">isinstance</span>(value, <span class="bu">float</span>):</span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a>            <span class="co"># 將浮點數打包為二進制並寫入</span></span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a>            <span class="bu">file</span>.write(struct.pack(<span class="st">'f'</span>, value))</span>
<span id="cb79-15"><a href="#cb79-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb79-16"><a href="#cb79-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 寫入一段字節</span></span>
<span id="cb79-17"><a href="#cb79-17" aria-hidden="true" tabindex="-1"></a>    byte_data <span class="op">=</span> <span class="bu">bytes</span>([<span class="dv">65</span>, <span class="dv">66</span>, <span class="dv">67</span>, <span class="dv">68</span>, <span class="dv">69</span>])  <span class="co"># ABCDE的ASCII碼</span></span>
<span id="cb79-18"><a href="#cb79-18" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span>.write(byte_data)</span>
<span id="cb79-19"><a href="#cb79-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-20"><a href="#cb79-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"二進制文件寫入完成"</span>)</span>
<span id="cb79-21"><a href="#cb79-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-22"><a href="#cb79-22" aria-hidden="true" tabindex="-1"></a><span class="co"># 讀取二進制文件</span></span>
<span id="cb79-23"><a href="#cb79-23" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"binary.dat"</span>, <span class="st">"rb"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb79-24"><a href="#cb79-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 讀取之前寫入的整數和浮點數</span></span>
<span id="cb79-25"><a href="#cb79-25" aria-hidden="true" tabindex="-1"></a>    int1 <span class="op">=</span> struct.unpack(<span class="st">'i'</span>, <span class="bu">file</span>.read(<span class="dv">4</span>))[<span class="dv">0</span>]  <span class="co"># 讀取4字節並解包為整數</span></span>
<span id="cb79-26"><a href="#cb79-26" aria-hidden="true" tabindex="-1"></a>    int2 <span class="op">=</span> struct.unpack(<span class="st">'i'</span>, <span class="bu">file</span>.read(<span class="dv">4</span>))[<span class="dv">0</span>]</span>
<span id="cb79-27"><a href="#cb79-27" aria-hidden="true" tabindex="-1"></a>    float1 <span class="op">=</span> struct.unpack(<span class="st">'f'</span>, <span class="bu">file</span>.read(<span class="dv">4</span>))[<span class="dv">0</span>]</span>
<span id="cb79-28"><a href="#cb79-28" aria-hidden="true" tabindex="-1"></a>    float2 <span class="op">=</span> struct.unpack(<span class="st">'f'</span>, <span class="bu">file</span>.read(<span class="dv">4</span>))[<span class="dv">0</span>]</span>
<span id="cb79-29"><a href="#cb79-29" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb79-30"><a href="#cb79-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 讀取剩餘的字節</span></span>
<span id="cb79-31"><a href="#cb79-31" aria-hidden="true" tabindex="-1"></a>    remaining_bytes <span class="op">=</span> <span class="bu">file</span>.read()</span>
<span id="cb79-32"><a href="#cb79-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb79-33"><a href="#cb79-33" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"讀取的整數: </span><span class="sc">{</span>int1<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>int2<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb79-34"><a href="#cb79-34" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"讀取的浮點數: </span><span class="sc">{</span>float1<span class="sc">:.2f}</span><span class="ss">, </span><span class="sc">{</span>float2<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb79-35"><a href="#cb79-35" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"讀取的字節: </span><span class="sc">{</span>remaining_bytes<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb79-36"><a href="#cb79-36" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"字節轉換為ASCII: </span><span class="sc">{</span>remaining_bytes<span class="sc">.</span>decode(<span class="st">'ascii'</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb79-37"><a href="#cb79-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-38"><a href="#cb79-38" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用bytearray進行讀寫</span></span>
<span id="cb79-39"><a href="#cb79-39" aria-hidden="true" tabindex="-1"></a>byte_arr <span class="op">=</span> <span class="bu">bytearray</span>([<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>])</span>
<span id="cb79-40"><a href="#cb79-40" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"bytearray.dat"</span>, <span class="st">"wb"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb79-41"><a href="#cb79-41" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span>.write(byte_arr)</span>
<span id="cb79-42"><a href="#cb79-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-43"><a href="#cb79-43" aria-hidden="true" tabindex="-1"></a><span class="co"># 讀取並修改bytearray</span></span>
<span id="cb79-44"><a href="#cb79-44" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"bytearray.dat"</span>, <span class="st">"rb"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb79-45"><a href="#cb79-45" aria-hidden="true" tabindex="-1"></a>    read_bytes <span class="op">=</span> <span class="bu">bytearray</span>(<span class="bu">file</span>.read())</span>
<span id="cb79-46"><a href="#cb79-46" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"原始bytearray: </span><span class="sc">{</span>read_bytes<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb79-47"><a href="#cb79-47" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb79-48"><a href="#cb79-48" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 修改bytearray</span></span>
<span id="cb79-49"><a href="#cb79-49" aria-hidden="true" tabindex="-1"></a>    read_bytes[<span class="dv">0</span>] <span class="op">=</span> <span class="dv">99</span></span>
<span id="cb79-50"><a href="#cb79-50" aria-hidden="true" tabindex="-1"></a>    read_bytes[<span class="dv">1</span>] <span class="op">=</span> <span class="dv">88</span></span>
<span id="cb79-51"><a href="#cb79-51" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb79-52"><a href="#cb79-52" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"修改後bytearray: </span><span class="sc">{</span>read_bytes<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb79-53"><a href="#cb79-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-54"><a href="#cb79-54" aria-hidden="true" tabindex="-1"></a><span class="co"># 將修改後的bytearray寫回文件</span></span>
<span id="cb79-55"><a href="#cb79-55" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"bytearray_modified.dat"</span>, <span class="st">"wb"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb79-56"><a href="#cb79-56" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span>.write(read_bytes)</span>
<span id="cb79-57"><a href="#cb79-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-58"><a href="#cb79-58" aria-hidden="true" tabindex="-1"></a><span class="co"># 讀取位置和跳過</span></span>
<span id="cb79-59"><a href="#cb79-59" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"binary.dat"</span>, <span class="st">"rb"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb79-60"><a href="#cb79-60" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 跳過前8個字節（兩個整數）</span></span>
<span id="cb79-61"><a href="#cb79-61" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span>.seek(<span class="dv">8</span>)</span>
<span id="cb79-62"><a href="#cb79-62" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb79-63"><a href="#cb79-63" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 讀取兩個浮點數</span></span>
<span id="cb79-64"><a href="#cb79-64" aria-hidden="true" tabindex="-1"></a>    float1 <span class="op">=</span> struct.unpack(<span class="st">'f'</span>, <span class="bu">file</span>.read(<span class="dv">4</span>))[<span class="dv">0</span>]</span>
<span id="cb79-65"><a href="#cb79-65" aria-hidden="true" tabindex="-1"></a>    float2 <span class="op">=</span> struct.unpack(<span class="st">'f'</span>, <span class="bu">file</span>.read(<span class="dv">4</span>))[<span class="dv">0</span>]</span>
<span id="cb79-66"><a href="#cb79-66" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb79-67"><a href="#cb79-67" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"直接讀取的浮點數: </span><span class="sc">{</span>float1<span class="sc">:.2f}</span><span class="ss">, </span><span class="sc">{</span>float2<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb79-68"><a href="#cb79-68" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb79-69"><a href="#cb79-69" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 讀取特定位置的數據</span></span>
<span id="cb79-70"><a href="#cb79-70" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span>.seek(<span class="dv">0</span>)  <span class="co"># 回到文件開頭</span></span>
<span id="cb79-71"><a href="#cb79-71" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span>.seek(<span class="dv">4</span>)  <span class="co"># 跳到第二個整數</span></span>
<span id="cb79-72"><a href="#cb79-72" aria-hidden="true" tabindex="-1"></a>    int2 <span class="op">=</span> struct.unpack(<span class="st">'i'</span>, <span class="bu">file</span>.read(<span class="dv">4</span>))[<span class="dv">0</span>]</span>
<span id="cb79-73"><a href="#cb79-73" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"第二個整數: </span><span class="sc">{</span>int2<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>二進制文件寫入完成
讀取的整數: 42, 73
讀取的浮點數: 3.14, 2.71
讀取的字節: b'ABCDE'
字節轉換為ASCII: ABCDE
原始bytearray: bytearray(b'\n\x14\x1e(2')
修改後bytearray: bytearray(b'c\\\x1e(2')
直接讀取的浮點數: 3.14, 2.71
第二個整數: 73</code></pre>
</section>
<section id="c二進制文件操作" class="level4">
<h4 class="anchored" data-anchor-id="c二進制文件操作">C#二進制文件操作</h4>
<div class="sourceCode" id="cb81"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">IO</span><span class="op">;</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Text</span><span class="op">;</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 寫入二進制文件</span></span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">using</span> <span class="op">(</span>BinaryWriter writer <span class="op">=</span> <span class="kw">new</span> <span class="fu">BinaryWriter</span><span class="op">(</span>File<span class="op">.</span><span class="fu">Open</span><span class="op">(</span><span class="st">"binary.dat"</span><span class="op">,</span> FileMode<span class="op">.</span><span class="fu">Create</span><span class="op">)))</span></span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb81-12"><a href="#cb81-12" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 寫入一些整數和浮點數</span></span>
<span id="cb81-13"><a href="#cb81-13" aria-hidden="true" tabindex="-1"></a>            writer<span class="op">.</span><span class="fu">Write</span><span class="op">(</span><span class="dv">42</span><span class="op">);</span>    <span class="co">// 整數</span></span>
<span id="cb81-14"><a href="#cb81-14" aria-hidden="true" tabindex="-1"></a>            writer<span class="op">.</span><span class="fu">Write</span><span class="op">(</span><span class="dv">73</span><span class="op">);</span>    <span class="co">// 整數</span></span>
<span id="cb81-15"><a href="#cb81-15" aria-hidden="true" tabindex="-1"></a>            writer<span class="op">.</span><span class="fu">Write</span><span class="op">(</span><span class="fl">3.14f</span><span class="op">);</span> <span class="co">// 浮點數</span></span>
<span id="cb81-16"><a href="#cb81-16" aria-hidden="true" tabindex="-1"></a>            writer<span class="op">.</span><span class="fu">Write</span><span class="op">(</span><span class="fl">2.71f</span><span class="op">);</span> <span class="co">// 浮點數</span></span>
<span id="cb81-17"><a href="#cb81-17" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb81-18"><a href="#cb81-18" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 寫入一段字節</span></span>
<span id="cb81-19"><a href="#cb81-19" aria-hidden="true" tabindex="-1"></a>            <span class="dt">byte</span><span class="op">[]</span> byteData <span class="op">=</span> <span class="kw">new</span> <span class="dt">byte</span><span class="op">[]</span> <span class="op">{</span> <span class="dv">65</span><span class="op">,</span> <span class="dv">66</span><span class="op">,</span> <span class="dv">67</span><span class="op">,</span> <span class="dv">68</span><span class="op">,</span> <span class="dv">69</span> <span class="op">};</span>  <span class="co">// ABCDE的ASCII碼</span></span>
<span id="cb81-20"><a href="#cb81-20" aria-hidden="true" tabindex="-1"></a>            writer<span class="op">.</span><span class="fu">Write</span><span class="op">(</span>byteData<span class="op">);</span></span>
<span id="cb81-21"><a href="#cb81-21" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb81-22"><a href="#cb81-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-23"><a href="#cb81-23" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"二進制文件寫入完成"</span><span class="op">);</span></span>
<span id="cb81-24"><a href="#cb81-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-25"><a href="#cb81-25" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 讀取二進制文件</span></span>
<span id="cb81-26"><a href="#cb81-26" aria-hidden="true" tabindex="-1"></a>        <span class="kw">using</span> <span class="op">(</span>BinaryReader reader <span class="op">=</span> <span class="kw">new</span> <span class="fu">BinaryReader</span><span class="op">(</span>File<span class="op">.</span><span class="fu">Open</span><span class="op">(</span><span class="st">"binary.dat"</span><span class="op">,</span> FileMode<span class="op">.</span><span class="fu">Open</span><span class="op">)))</span></span>
<span id="cb81-27"><a href="#cb81-27" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb81-28"><a href="#cb81-28" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 讀取之前寫入的整數和浮點數</span></span>
<span id="cb81-29"><a href="#cb81-29" aria-hidden="true" tabindex="-1"></a>            <span class="dt">int</span> int1 <span class="op">=</span> reader<span class="op">.</span><span class="fu">ReadInt32</span><span class="op">();</span></span>
<span id="cb81-30"><a href="#cb81-30" aria-hidden="true" tabindex="-1"></a>            <span class="dt">int</span> int2 <span class="op">=</span> reader<span class="op">.</span><span class="fu">ReadInt32</span><span class="op">();</span></span>
<span id="cb81-31"><a href="#cb81-31" aria-hidden="true" tabindex="-1"></a>            <span class="dt">float</span> float1 <span class="op">=</span> reader<span class="op">.</span><span class="fu">ReadSingle</span><span class="op">();</span></span>
<span id="cb81-32"><a href="#cb81-32" aria-hidden="true" tabindex="-1"></a>            <span class="dt">float</span> float2 <span class="op">=</span> reader<span class="op">.</span><span class="fu">ReadSingle</span><span class="op">();</span></span>
<span id="cb81-33"><a href="#cb81-33" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb81-34"><a href="#cb81-34" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 讀取剩餘的字節</span></span>
<span id="cb81-35"><a href="#cb81-35" aria-hidden="true" tabindex="-1"></a>            <span class="dt">byte</span><span class="op">[]</span> remainingBytes <span class="op">=</span> reader<span class="op">.</span><span class="fu">ReadBytes</span><span class="op">(</span><span class="dv">5</span><span class="op">);</span></span>
<span id="cb81-36"><a href="#cb81-36" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb81-37"><a href="#cb81-37" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"讀取的整數: {int1}, {int2}"</span><span class="op">);</span></span>
<span id="cb81-38"><a href="#cb81-38" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"讀取的浮點數: {float1:F2}, {float2:F2}"</span><span class="op">);</span></span>
<span id="cb81-39"><a href="#cb81-39" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"讀取的字節: {BitConverter.ToString(remainingBytes)}"</span><span class="op">);</span></span>
<span id="cb81-40"><a href="#cb81-40" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"字節轉換為ASCII: {Encoding.ASCII.GetString(remainingBytes)}"</span><span class="op">);</span></span>
<span id="cb81-41"><a href="#cb81-41" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb81-42"><a href="#cb81-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-43"><a href="#cb81-43" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用byte數組進行讀寫</span></span>
<span id="cb81-44"><a href="#cb81-44" aria-hidden="true" tabindex="-1"></a>        <span class="dt">byte</span><span class="op">[]</span> byteArr <span class="op">=</span> <span class="kw">new</span> <span class="dt">byte</span><span class="op">[]</span> <span class="op">{</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">20</span><span class="op">,</span> <span class="dv">30</span><span class="op">,</span> <span class="dv">40</span><span class="op">,</span> <span class="dv">50</span> <span class="op">};</span></span>
<span id="cb81-45"><a href="#cb81-45" aria-hidden="true" tabindex="-1"></a>        File<span class="op">.</span><span class="fu">WriteAllBytes</span><span class="op">(</span><span class="st">"bytearray.dat"</span><span class="op">,</span> byteArr<span class="op">);</span></span>
<span id="cb81-46"><a href="#cb81-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-47"><a href="#cb81-47" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 讀取並修改byte數組</span></span>
<span id="cb81-48"><a href="#cb81-48" aria-hidden="true" tabindex="-1"></a>        <span class="dt">byte</span><span class="op">[]</span> readBytes <span class="op">=</span> File<span class="op">.</span><span class="fu">ReadAllBytes</span><span class="op">(</span><span class="st">"bytearray.dat"</span><span class="op">);</span></span>
<span id="cb81-49"><a href="#cb81-49" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"原始byte數組: {BitConverter.ToString(readBytes)}"</span><span class="op">);</span></span>
<span id="cb81-50"><a href="#cb81-50" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb81-51"><a href="#cb81-51" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 修改byte數組</span></span>
<span id="cb81-52"><a href="#cb81-52" aria-hidden="true" tabindex="-1"></a>        readBytes<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">=</span> <span class="dv">99</span><span class="op">;</span></span>
<span id="cb81-53"><a href="#cb81-53" aria-hidden="true" tabindex="-1"></a>        readBytes<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">=</span> <span class="dv">88</span><span class="op">;</span></span>
<span id="cb81-54"><a href="#cb81-54" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb81-55"><a href="#cb81-55" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"修改後byte數組: {BitConverter.ToString(readBytes)}"</span><span class="op">);</span></span>
<span id="cb81-56"><a href="#cb81-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-57"><a href="#cb81-57" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 將修改後的byte數組寫回文件</span></span>
<span id="cb81-58"><a href="#cb81-58" aria-hidden="true" tabindex="-1"></a>        File<span class="op">.</span><span class="fu">WriteAllBytes</span><span class="op">(</span><span class="st">"bytearray_modified.dat"</span><span class="op">,</span> readBytes<span class="op">);</span></span>
<span id="cb81-59"><a href="#cb81-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-60"><a href="#cb81-60" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 讀取位置和跳過</span></span>
<span id="cb81-61"><a href="#cb81-61" aria-hidden="true" tabindex="-1"></a>        <span class="kw">using</span> <span class="op">(</span>BinaryReader reader <span class="op">=</span> <span class="kw">new</span> <span class="fu">BinaryReader</span><span class="op">(</span>File<span class="op">.</span><span class="fu">Open</span><span class="op">(</span><span class="st">"binary.dat"</span><span class="op">,</span> FileMode<span class="op">.</span><span class="fu">Open</span><span class="op">)))</span></span>
<span id="cb81-62"><a href="#cb81-62" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb81-63"><a href="#cb81-63" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 跳過前8個字節（兩個整數）</span></span>
<span id="cb81-64"><a href="#cb81-64" aria-hidden="true" tabindex="-1"></a>            reader<span class="op">.</span><span class="fu">BaseStream</span><span class="op">.</span><span class="fu">Seek</span><span class="op">(</span><span class="dv">8</span><span class="op">,</span> SeekOrigin<span class="op">.</span><span class="fu">Begin</span><span class="op">);</span></span>
<span id="cb81-65"><a href="#cb81-65" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb81-66"><a href="#cb81-66" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 讀取兩個浮點數</span></span>
<span id="cb81-67"><a href="#cb81-67" aria-hidden="true" tabindex="-1"></a>            <span class="dt">float</span> float1 <span class="op">=</span> reader<span class="op">.</span><span class="fu">ReadSingle</span><span class="op">();</span></span>
<span id="cb81-68"><a href="#cb81-68" aria-hidden="true" tabindex="-1"></a>            <span class="dt">float</span> float2 <span class="op">=</span> reader<span class="op">.</span><span class="fu">ReadSingle</span><span class="op">();</span></span>
<span id="cb81-69"><a href="#cb81-69" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb81-70"><a href="#cb81-70" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"直接讀取的浮點數: {float1:F2}, {float2:F2}"</span><span class="op">);</span></span>
<span id="cb81-71"><a href="#cb81-71" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb81-72"><a href="#cb81-72" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 讀取特定位置的數據</span></span>
<span id="cb81-73"><a href="#cb81-73" aria-hidden="true" tabindex="-1"></a>            reader<span class="op">.</span><span class="fu">BaseStream</span><span class="op">.</span><span class="fu">Seek</span><span class="op">(</span><span class="dv">4</span><span class="op">,</span> SeekOrigin<span class="op">.</span><span class="fu">Begin</span><span class="op">);</span>  <span class="co">// 跳到第二個整數</span></span>
<span id="cb81-74"><a href="#cb81-74" aria-hidden="true" tabindex="-1"></a>            <span class="dt">int</span> int2 <span class="op">=</span> reader<span class="op">.</span><span class="fu">ReadInt32</span><span class="op">();</span></span>
<span id="cb81-75"><a href="#cb81-75" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"第二個整數: {int2}"</span><span class="op">);</span></span>
<span id="cb81-76"><a href="#cb81-76" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb81-77"><a href="#cb81-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-78"><a href="#cb81-78" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用MemoryStream進行內存中的二進制操作</span></span>
<span id="cb81-79"><a href="#cb81-79" aria-hidden="true" tabindex="-1"></a>        <span class="kw">using</span> <span class="op">(</span>MemoryStream ms <span class="op">=</span> <span class="kw">new</span> <span class="fu">MemoryStream</span><span class="op">())</span></span>
<span id="cb81-80"><a href="#cb81-80" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb81-81"><a href="#cb81-81" aria-hidden="true" tabindex="-1"></a>            <span class="kw">using</span> <span class="op">(</span>BinaryWriter writer <span class="op">=</span> <span class="kw">new</span> <span class="fu">BinaryWriter</span><span class="op">(</span>ms<span class="op">))</span></span>
<span id="cb81-82"><a href="#cb81-82" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb81-83"><a href="#cb81-83" aria-hidden="true" tabindex="-1"></a>                writer<span class="op">.</span><span class="fu">Write</span><span class="op">(</span><span class="dv">123</span><span class="op">);</span></span>
<span id="cb81-84"><a href="#cb81-84" aria-hidden="true" tabindex="-1"></a>                writer<span class="op">.</span><span class="fu">Write</span><span class="op">(</span><span class="st">"Hello"</span><span class="op">);</span></span>
<span id="cb81-85"><a href="#cb81-85" aria-hidden="true" tabindex="-1"></a>                writer<span class="op">.</span><span class="fu">Write</span><span class="op">(</span><span class="fl">99.9</span><span class="op">);</span></span>
<span id="cb81-86"><a href="#cb81-86" aria-hidden="true" tabindex="-1"></a>                </span>
<span id="cb81-87"><a href="#cb81-87" aria-hidden="true" tabindex="-1"></a>                <span class="co">// 獲取當前位置</span></span>
<span id="cb81-88"><a href="#cb81-88" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"寫入後的位置: {ms.Position}"</span><span class="op">);</span></span>
<span id="cb81-89"><a href="#cb81-89" aria-hidden="true" tabindex="-1"></a>                </span>
<span id="cb81-90"><a href="#cb81-90" aria-hidden="true" tabindex="-1"></a>                <span class="co">// 回到開始並讀取</span></span>
<span id="cb81-91"><a href="#cb81-91" aria-hidden="true" tabindex="-1"></a>                ms<span class="op">.</span><span class="fu">Position</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb81-92"><a href="#cb81-92" aria-hidden="true" tabindex="-1"></a>                <span class="kw">using</span> <span class="op">(</span>BinaryReader reader <span class="op">=</span> <span class="kw">new</span> <span class="fu">BinaryReader</span><span class="op">(</span>ms<span class="op">))</span></span>
<span id="cb81-93"><a href="#cb81-93" aria-hidden="true" tabindex="-1"></a>                <span class="op">{</span></span>
<span id="cb81-94"><a href="#cb81-94" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">int</span> value1 <span class="op">=</span> reader<span class="op">.</span><span class="fu">ReadInt32</span><span class="op">();</span></span>
<span id="cb81-95"><a href="#cb81-95" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">string</span> value2 <span class="op">=</span> reader<span class="op">.</span><span class="fu">ReadString</span><span class="op">();</span></span>
<span id="cb81-96"><a href="#cb81-96" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">double</span> value3 <span class="op">=</span> reader<span class="op">.</span><span class="fu">ReadDouble</span><span class="op">();</span></span>
<span id="cb81-97"><a href="#cb81-97" aria-hidden="true" tabindex="-1"></a>                    </span>
<span id="cb81-98"><a href="#cb81-98" aria-hidden="true" tabindex="-1"></a>                    Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"從MemoryStream讀取: {value1}, {value2}, {value3:F1}"</span><span class="op">);</span></span>
<span id="cb81-99"><a href="#cb81-99" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb81-100"><a href="#cb81-100" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb81-101"><a href="#cb81-101" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb81-102"><a href="#cb81-102" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb81-103"><a href="#cb81-103" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>二進制文件寫入完成
讀取的整數: 42, 73
讀取的浮點數: 3.14, 2.71
讀取的字節: 41-42-43-44-45
字節轉換為ASCII: ABCDE
原始byte數組: 0A-14-1E-28-32
修改後byte數組: 63-58-1E-28-32
直接讀取的浮點數: 3.14, 2.71
第二個整數: 73
寫入後的位置: 24
從MemoryStream讀取: 123, Hello, 99.9</code></pre>
</section>
</section>
<section id="文件系統操作" class="level3">
<h3 class="anchored" data-anchor-id="文件系統操作">文件系統操作</h3>
<section id="python文件系統操作" class="level4">
<h4 class="anchored" data-anchor-id="python文件系統操作">Python文件系統操作</h4>
<div class="sourceCode" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> shutil</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> glob</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> datetime</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 獲取當前工作目錄</span></span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>current_dir <span class="op">=</span> os.getcwd()</span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"當前工作目錄: </span><span class="sc">{</span>current_dir<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 創建目錄</span></span>
<span id="cb83-11"><a href="#cb83-11" aria-hidden="true" tabindex="-1"></a>os.makedirs(<span class="st">"test_dir/nested_dir"</span>, exist_ok<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb83-12"><a href="#cb83-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"創建目錄 'test_dir/nested_dir'"</span>)</span>
<span id="cb83-13"><a href="#cb83-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-14"><a href="#cb83-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 列出目錄內容</span></span>
<span id="cb83-15"><a href="#cb83-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"當前目錄內容: </span><span class="sc">{</span>os<span class="sc">.</span>listdir(<span class="st">'.'</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb83-16"><a href="#cb83-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-17"><a href="#cb83-17" aria-hidden="true" tabindex="-1"></a><span class="co"># 寫入測試文件</span></span>
<span id="cb83-18"><a href="#cb83-18" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"test_dir/file1.txt"</span>, <span class="st">"w"</span>) <span class="im">as</span> f:</span>
<span id="cb83-19"><a href="#cb83-19" aria-hidden="true" tabindex="-1"></a>    f.write(<span class="st">"這是測試文件1"</span>)</span>
<span id="cb83-20"><a href="#cb83-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-21"><a href="#cb83-21" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"test_dir/file2.txt"</span>, <span class="st">"w"</span>) <span class="im">as</span> f:</span>
<span id="cb83-22"><a href="#cb83-22" aria-hidden="true" tabindex="-1"></a>    f.write(<span class="st">"這是測試文件2"</span>)</span>
<span id="cb83-23"><a href="#cb83-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-24"><a href="#cb83-24" aria-hidden="true" tabindex="-1"></a><span class="co"># 檢查文件是否存在</span></span>
<span id="cb83-25"><a href="#cb83-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"file1.txt存在? </span><span class="sc">{</span>os<span class="sc">.</span>path<span class="sc">.</span>exists(<span class="st">'test_dir/file1.txt'</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb83-26"><a href="#cb83-26" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"nonexistent.txt存在? </span><span class="sc">{</span>os<span class="sc">.</span>path<span class="sc">.</span>exists(<span class="st">'nonexistent.txt'</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb83-27"><a href="#cb83-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-28"><a href="#cb83-28" aria-hidden="true" tabindex="-1"></a><span class="co"># 獲取文件信息</span></span>
<span id="cb83-29"><a href="#cb83-29" aria-hidden="true" tabindex="-1"></a>file_stat <span class="op">=</span> os.stat(<span class="st">"test_dir/file1.txt"</span>)</span>
<span id="cb83-30"><a href="#cb83-30" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"file1.txt大小: </span><span class="sc">{</span>file_stat<span class="sc">.</span>st_size<span class="sc">}</span><span class="ss"> 字節"</span>)</span>
<span id="cb83-31"><a href="#cb83-31" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"file1.txt修改時間: </span><span class="sc">{</span>datetime<span class="sc">.</span>fromtimestamp(file_stat.st_mtime)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb83-32"><a href="#cb83-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-33"><a href="#cb83-33" aria-hidden="true" tabindex="-1"></a><span class="co"># 重命名文件</span></span>
<span id="cb83-34"><a href="#cb83-34" aria-hidden="true" tabindex="-1"></a>os.rename(<span class="st">"test_dir/file2.txt"</span>, <span class="st">"test_dir/renamed_file2.txt"</span>)</span>
<span id="cb83-35"><a href="#cb83-35" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"file2.txt 重命名為 renamed_file2.txt"</span>)</span>
<span id="cb83-36"><a href="#cb83-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-37"><a href="#cb83-37" aria-hidden="true" tabindex="-1"></a><span class="co"># 複製文件</span></span>
<span id="cb83-38"><a href="#cb83-38" aria-hidden="true" tabindex="-1"></a>shutil.copy(<span class="st">"test_dir/file1.txt"</span>, <span class="st">"test_dir/file1_copy.txt"</span>)</span>
<span id="cb83-39"><a href="#cb83-39" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"複製 file1.txt 到 file1_copy.txt"</span>)</span>
<span id="cb83-40"><a href="#cb83-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-41"><a href="#cb83-41" aria-hidden="true" tabindex="-1"></a><span class="co"># 移動文件</span></span>
<span id="cb83-42"><a href="#cb83-42" aria-hidden="true" tabindex="-1"></a>shutil.move(<span class="st">"test_dir/renamed_file2.txt"</span>, <span class="st">"test_dir/nested_dir/moved_file2.txt"</span>)</span>
<span id="cb83-43"><a href="#cb83-43" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"移動 renamed_file2.txt 到 nested_dir/moved_file2.txt"</span>)</span>
<span id="cb83-44"><a href="#cb83-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-45"><a href="#cb83-45" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用通配符搜索文件</span></span>
<span id="cb83-46"><a href="#cb83-46" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"test_dir中的所有.txt文件: </span><span class="sc">{</span>glob<span class="sc">.</span>glob(<span class="st">'test_dir/*.txt'</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb83-47"><a href="#cb83-47" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"所有子目錄中的文件: </span><span class="sc">{</span>glob<span class="sc">.</span>glob(<span class="st">'test_dir/**/*'</span>, recursive<span class="op">=</span><span class="va">True</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb83-48"><a href="#cb83-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-49"><a href="#cb83-49" aria-hidden="true" tabindex="-1"></a><span class="co"># 路徑操作</span></span>
<span id="cb83-50"><a href="#cb83-50" aria-hidden="true" tabindex="-1"></a>file_path <span class="op">=</span> <span class="st">"test_dir/nested_dir/moved_file2.txt"</span></span>
<span id="cb83-51"><a href="#cb83-51" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"文件名: </span><span class="sc">{</span>os<span class="sc">.</span>path<span class="sc">.</span>basename(file_path)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb83-52"><a href="#cb83-52" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"目錄名: </span><span class="sc">{</span>os<span class="sc">.</span>path<span class="sc">.</span>dirname(file_path)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb83-53"><a href="#cb83-53" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"絕對路徑: </span><span class="sc">{</span>os<span class="sc">.</span>path<span class="sc">.</span>abspath(file_path)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb83-54"><a href="#cb83-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-55"><a href="#cb83-55" aria-hidden="true" tabindex="-1"></a><span class="co"># 拆分路徑</span></span>
<span id="cb83-56"><a href="#cb83-56" aria-hidden="true" tabindex="-1"></a>dir_name, file_name <span class="op">=</span> os.path.split(file_path)</span>
<span id="cb83-57"><a href="#cb83-57" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"目錄名: </span><span class="sc">{</span>dir_name<span class="sc">}</span><span class="ss">, 文件名: </span><span class="sc">{</span>file_name<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb83-58"><a href="#cb83-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-59"><a href="#cb83-59" aria-hidden="true" tabindex="-1"></a><span class="co"># 拆分文件名和擴展名</span></span>
<span id="cb83-60"><a href="#cb83-60" aria-hidden="true" tabindex="-1"></a>name, ext <span class="op">=</span> os.path.splitext(file_name)</span>
<span id="cb83-61"><a href="#cb83-61" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"文件名: </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">, 擴展名: </span><span class="sc">{</span>ext<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb83-62"><a href="#cb83-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-63"><a href="#cb83-63" aria-hidden="true" tabindex="-1"></a><span class="co"># 連接路徑</span></span>
<span id="cb83-64"><a href="#cb83-64" aria-hidden="true" tabindex="-1"></a>new_path <span class="op">=</span> os.path.join(<span class="st">"parent_dir"</span>, <span class="st">"child_dir"</span>, <span class="st">"file.txt"</span>)</span>
<span id="cb83-65"><a href="#cb83-65" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"連接路徑: </span><span class="sc">{</span>new_path<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb83-66"><a href="#cb83-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-67"><a href="#cb83-67" aria-hidden="true" tabindex="-1"></a><span class="co"># 創建臨時文件和目錄</span></span>
<span id="cb83-68"><a href="#cb83-68" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> tempfile</span>
<span id="cb83-69"><a href="#cb83-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-70"><a href="#cb83-70" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> tempfile.NamedTemporaryFile(delete<span class="op">=</span><span class="va">False</span>) <span class="im">as</span> temp_file:</span>
<span id="cb83-71"><a href="#cb83-71" aria-hidden="true" tabindex="-1"></a>    temp_file.write(<span class="st">b"</span><span class="er">這是臨時文件內容</span><span class="st">"</span>)</span>
<span id="cb83-72"><a href="#cb83-72" aria-hidden="true" tabindex="-1"></a>    temp_file_path <span class="op">=</span> temp_file.name</span>
<span id="cb83-73"><a href="#cb83-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-74"><a href="#cb83-74" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"創建臨時文件: </span><span class="sc">{</span>temp_file_path<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb83-75"><a href="#cb83-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-76"><a href="#cb83-76" aria-hidden="true" tabindex="-1"></a>temp_dir <span class="op">=</span> tempfile.mkdtemp()</span>
<span id="cb83-77"><a href="#cb83-77" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"創建臨時目錄: </span><span class="sc">{</span>temp_dir<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb83-78"><a href="#cb83-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-79"><a href="#cb83-79" aria-hidden="true" tabindex="-1"></a><span class="co"># 刪除文件和目錄</span></span>
<span id="cb83-80"><a href="#cb83-80" aria-hidden="true" tabindex="-1"></a>os.remove(temp_file_path)</span>
<span id="cb83-81"><a href="#cb83-81" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"刪除臨時文件"</span>)</span>
<span id="cb83-82"><a href="#cb83-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-83"><a href="#cb83-83" aria-hidden="true" tabindex="-1"></a>os.rmdir(temp_dir)</span>
<span id="cb83-84"><a href="#cb83-84" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"刪除臨時目錄"</span>)</span>
<span id="cb83-85"><a href="#cb83-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-86"><a href="#cb83-86" aria-hidden="true" tabindex="-1"></a><span class="co"># 遞歸刪除目錄</span></span>
<span id="cb83-87"><a href="#cb83-87" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb83-88"><a href="#cb83-88" aria-hidden="true" tabindex="-1"></a>    shutil.rmtree(<span class="st">"test_dir"</span>)</span>
<span id="cb83-89"><a href="#cb83-89" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"刪除 test_dir 及其所有內容"</span>)</span>
<span id="cb83-90"><a href="#cb83-90" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb83-91"><a href="#cb83-91" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"刪除目錄時出錯: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>當前工作目錄: /當前工作路徑
創建目錄 'test_dir/nested_dir'
當前目錄內容: ['example.txt', 'multiline.txt', 'binary.dat', 'bytearray.dat', 'bytearray_modified.dat', 'test_dir']
file1.txt存在? True
nonexistent.txt存在? False
file1.txt大小: 12 字節
file1.txt修改時間: 2023-08-30 15:45:23.456789
file2.txt 重命名為 renamed_file2.txt
複製 file1.txt 到 file1_copy.txt
移動 renamed_file2.txt 到 nested_dir/moved_file2.txt
test_dir中的所有.txt文件: ['test_dir/file1.txt', 'test_dir/file1_copy.txt']
所有子目錄中的文件: ['test_dir/file1.txt', 'test_dir/file1_copy.txt', 'test_dir/nested_dir', 'test_dir/nested_dir/moved_file2.txt']
文件名: moved_file2.txt
目錄名: test_dir/nested_dir
絕對路徑: /當前工作路徑/test_dir/nested_dir/moved_file2.txt
目錄名: test_dir/nested_dir, 文件名: moved_file2.txt
文件名: moved_file2, 擴展名: .txt
連接路徑: parent_dir/child_dir/file.txt
創建臨時文件: /tmp/tmpabc123def
創建臨時目錄: /tmp/tmpdirectoryxyz
刪除臨時文件
刪除臨時目錄
刪除 test_dir 及其所有內容</code></pre>
</section>
<section id="c文件系統操作" class="level4">
<h4 class="anchored" data-anchor-id="c文件系統操作">C#文件系統操作</h4>
<div class="sourceCode" id="cb85"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">IO</span><span class="op">;</span></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Linq</span><span class="op">;</span></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 獲取當前工作目錄</span></span>
<span id="cb85-10"><a href="#cb85-10" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> currentDir <span class="op">=</span> Directory<span class="op">.</span><span class="fu">GetCurrentDirectory</span><span class="op">();</span></span>
<span id="cb85-11"><a href="#cb85-11" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"當前工作目錄: {currentDir}"</span><span class="op">);</span></span>
<span id="cb85-12"><a href="#cb85-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-13"><a href="#cb85-13" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 創建目錄</span></span>
<span id="cb85-14"><a href="#cb85-14" aria-hidden="true" tabindex="-1"></a>        Directory<span class="op">.</span><span class="fu">CreateDirectory</span><span class="op">(</span>Path<span class="op">.</span><span class="fu">Combine</span><span class="op">(</span><span class="st">"test_dir"</span><span class="op">,</span> <span class="st">"nested_dir"</span><span class="op">));</span></span>
<span id="cb85-15"><a href="#cb85-15" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"創建目錄 'test_dir/nested_dir'"</span><span class="op">);</span></span>
<span id="cb85-16"><a href="#cb85-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-17"><a href="#cb85-17" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 列出目錄內容</span></span>
<span id="cb85-18"><a href="#cb85-18" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"當前目錄內容: {string.Join("</span><span class="op">,</span> <span class="st">", Directory.GetFileSystemEntries("</span><span class="op">.</span><span class="st">"))}"</span><span class="op">);</span></span>
<span id="cb85-19"><a href="#cb85-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-20"><a href="#cb85-20" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 寫入測試文件</span></span>
<span id="cb85-21"><a href="#cb85-21" aria-hidden="true" tabindex="-1"></a>        File<span class="op">.</span><span class="fu">WriteAllText</span><span class="op">(</span>Path<span class="op">.</span><span class="fu">Combine</span><span class="op">(</span><span class="st">"test_dir"</span><span class="op">,</span> <span class="st">"file1.txt"</span><span class="op">),</span> <span class="st">"這是測試文件1"</span><span class="op">);</span></span>
<span id="cb85-22"><a href="#cb85-22" aria-hidden="true" tabindex="-1"></a>        File<span class="op">.</span><span class="fu">WriteAllText</span><span class="op">(</span>Path<span class="op">.</span><span class="fu">Combine</span><span class="op">(</span><span class="st">"test_dir"</span><span class="op">,</span> <span class="st">"file2.txt"</span><span class="op">),</span> <span class="st">"這是測試文件2"</span><span class="op">);</span></span>
<span id="cb85-23"><a href="#cb85-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-24"><a href="#cb85-24" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 檢查文件是否存在</span></span>
<span id="cb85-25"><a href="#cb85-25" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"file1.txt存在? {File.Exists(Path.Combine("</span>test_dir<span class="st">", "</span>file1<span class="op">.</span><span class="fu">txt</span><span class="st">"))}"</span><span class="op">);</span></span>
<span id="cb85-26"><a href="#cb85-26" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"nonexistent.txt存在? {File.Exists("</span>nonexistent<span class="op">.</span><span class="fu">txt</span><span class="st">")}"</span><span class="op">);</span></span>
<span id="cb85-27"><a href="#cb85-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-28"><a href="#cb85-28" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 獲取文件信息</span></span>
<span id="cb85-29"><a href="#cb85-29" aria-hidden="true" tabindex="-1"></a>        FileInfo fileInfo <span class="op">=</span> <span class="kw">new</span> <span class="fu">FileInfo</span><span class="op">(</span>Path<span class="op">.</span><span class="fu">Combine</span><span class="op">(</span><span class="st">"test_dir"</span><span class="op">,</span> <span class="st">"file1.txt"</span><span class="op">));</span></span>
<span id="cb85-30"><a href="#cb85-30" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"file1.txt大小: {fileInfo.Length} 字節"</span><span class="op">);</span></span>
<span id="cb85-31"><a href="#cb85-31" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"file1.txt修改時間: {fileInfo.LastWriteTime}"</span><span class="op">);</span></span>
<span id="cb85-32"><a href="#cb85-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-33"><a href="#cb85-33" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 重命名文件</span></span>
<span id="cb85-34"><a href="#cb85-34" aria-hidden="true" tabindex="-1"></a>        File<span class="op">.</span><span class="fu">Move</span><span class="op">(</span></span>
<span id="cb85-35"><a href="#cb85-35" aria-hidden="true" tabindex="-1"></a>            Path<span class="op">.</span><span class="fu">Combine</span><span class="op">(</span><span class="st">"test_dir"</span><span class="op">,</span> <span class="st">"file2.txt"</span><span class="op">),</span></span>
<span id="cb85-36"><a href="#cb85-36" aria-hidden="true" tabindex="-1"></a>            Path<span class="op">.</span><span class="fu">Combine</span><span class="op">(</span><span class="st">"test_dir"</span><span class="op">,</span> <span class="st">"renamed_file2.txt"</span><span class="op">)</span></span>
<span id="cb85-37"><a href="#cb85-37" aria-hidden="true" tabindex="-1"></a>        <span class="op">);</span></span>
<span id="cb85-38"><a href="#cb85-38" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"file2.txt 重命名為 renamed_file2.txt"</span><span class="op">);</span></span>
<span id="cb85-39"><a href="#cb85-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-40"><a href="#cb85-40" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 複製文件</span></span>
<span id="cb85-41"><a href="#cb85-41" aria-hidden="true" tabindex="-1"></a>        File<span class="op">.</span><span class="fu">Copy</span><span class="op">(</span></span>
<span id="cb85-42"><a href="#cb85-42" aria-hidden="true" tabindex="-1"></a>            Path<span class="op">.</span><span class="fu">Combine</span><span class="op">(</span><span class="st">"test_dir"</span><span class="op">,</span> <span class="st">"file1.txt"</span><span class="op">),</span></span>
<span id="cb85-43"><a href="#cb85-43" aria-hidden="true" tabindex="-1"></a>            Path<span class="op">.</span><span class="fu">Combine</span><span class="op">(</span><span class="st">"test_dir"</span><span class="op">,</span> <span class="st">"file1_copy.txt"</span><span class="op">)</span></span>
<span id="cb85-44"><a href="#cb85-44" aria-hidden="true" tabindex="-1"></a>        <span class="op">);</span></span>
<span id="cb85-45"><a href="#cb85-45" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"複製 file1.txt 到 file1_copy.txt"</span><span class="op">);</span></span>
<span id="cb85-46"><a href="#cb85-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-47"><a href="#cb85-47" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 移動文件</span></span>
<span id="cb85-48"><a href="#cb85-48" aria-hidden="true" tabindex="-1"></a>        File<span class="op">.</span><span class="fu">Move</span><span class="op">(</span></span>
<span id="cb85-49"><a href="#cb85-49" aria-hidden="true" tabindex="-1"></a>            Path<span class="op">.</span><span class="fu">Combine</span><span class="op">(</span><span class="st">"test_dir"</span><span class="op">,</span> <span class="st">"renamed_file2.txt"</span><span class="op">),</span></span>
<span id="cb85-50"><a href="#cb85-50" aria-hidden="true" tabindex="-1"></a>            Path<span class="op">.</span><span class="fu">Combine</span><span class="op">(</span><span class="st">"test_dir"</span><span class="op">,</span> <span class="st">"nested_dir"</span><span class="op">,</span> <span class="st">"moved_file2.txt"</span><span class="op">)</span></span>
<span id="cb85-51"><a href="#cb85-51" aria-hidden="true" tabindex="-1"></a>        <span class="op">);</span></span>
<span id="cb85-52"><a href="#cb85-52" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"移動 renamed_file2.txt 到 nested_dir/moved_file2.txt"</span><span class="op">);</span></span>
<span id="cb85-53"><a href="#cb85-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-54"><a href="#cb85-54" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 搜索文件</span></span>
<span id="cb85-55"><a href="#cb85-55" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"test_dir中的所有.txt文件: {string.Join("</span><span class="op">,</span> <span class="st">", Directory.GetFiles("</span>test_dir<span class="st">", "</span><span class="op">*.</span><span class="fu">txt</span><span class="st">"))}"</span><span class="op">);</span></span>
<span id="cb85-56"><a href="#cb85-56" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"所有子目錄中的文件: {string.Join("</span><span class="op">,</span> <span class="st">", Directory.GetFiles("</span>test_dir<span class="st">", "</span><span class="op">*.*</span><span class="st">", SearchOption.AllDirectories))}"</span><span class="op">);</span></span>
<span id="cb85-57"><a href="#cb85-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-58"><a href="#cb85-58" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 路徑操作</span></span>
<span id="cb85-59"><a href="#cb85-59" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> filePath <span class="op">=</span> Path<span class="op">.</span><span class="fu">Combine</span><span class="op">(</span><span class="st">"test_dir"</span><span class="op">,</span> <span class="st">"nested_dir"</span><span class="op">,</span> <span class="st">"moved_file2.txt"</span><span class="op">);</span></span>
<span id="cb85-60"><a href="#cb85-60" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"文件名: {Path.GetFileName(filePath)}"</span><span class="op">);</span></span>
<span id="cb85-61"><a href="#cb85-61" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"目錄名: {Path.GetDirectoryName(filePath)}"</span><span class="op">);</span></span>
<span id="cb85-62"><a href="#cb85-62" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"絕對路徑: {Path.GetFullPath(filePath)}"</span><span class="op">);</span></span>
<span id="cb85-63"><a href="#cb85-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-64"><a href="#cb85-64" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 拆分路徑</span></span>
<span id="cb85-65"><a href="#cb85-65" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> dirName <span class="op">=</span> Path<span class="op">.</span><span class="fu">GetDirectoryName</span><span class="op">(</span>filePath<span class="op">);</span></span>
<span id="cb85-66"><a href="#cb85-66" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> fileName <span class="op">=</span> Path<span class="op">.</span><span class="fu">GetFileName</span><span class="op">(</span>filePath<span class="op">);</span></span>
<span id="cb85-67"><a href="#cb85-67" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"目錄名: {dirName}, 文件名: {fileName}"</span><span class="op">);</span></span>
<span id="cb85-68"><a href="#cb85-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-69"><a href="#cb85-69" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 拆分文件名和擴展名</span></span>
<span id="cb85-70"><a href="#cb85-70" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> name <span class="op">=</span> Path<span class="op">.</span><span class="fu">GetFileNameWithoutExtension</span><span class="op">(</span>fileName<span class="op">);</span></span>
<span id="cb85-71"><a href="#cb85-71" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> ext <span class="op">=</span> Path<span class="op">.</span><span class="fu">GetExtension</span><span class="op">(</span>fileName<span class="op">);</span></span>
<span id="cb85-72"><a href="#cb85-72" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"文件名: {name}, 擴展名: {ext}"</span><span class="op">);</span></span>
<span id="cb85-73"><a href="#cb85-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-74"><a href="#cb85-74" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 連接路徑</span></span>
<span id="cb85-75"><a href="#cb85-75" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> newPath <span class="op">=</span> Path<span class="op">.</span><span class="fu">Combine</span><span class="op">(</span><span class="st">"parent_dir"</span><span class="op">,</span> <span class="st">"child_dir"</span><span class="op">,</span> <span class="st">"file.txt"</span><span class="op">);</span></span>
<span id="cb85-76"><a href="#cb85-76" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"連接路徑: {newPath}"</span><span class="op">);</span></span>
<span id="cb85-77"><a href="#cb85-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-78"><a href="#cb85-78" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 創建臨時文件和目錄</span></span>
<span id="cb85-79"><a href="#cb85-79" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> tempFilePath <span class="op">=</span> Path<span class="op">.</span><span class="fu">GetTempFileName</span><span class="op">();</span></span>
<span id="cb85-80"><a href="#cb85-80" aria-hidden="true" tabindex="-1"></a>        File<span class="op">.</span><span class="fu">WriteAllText</span><span class="op">(</span>tempFilePath<span class="op">,</span> <span class="st">"這是臨時文件內容"</span><span class="op">);</span></span>
<span id="cb85-81"><a href="#cb85-81" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"創建臨時文件: {tempFilePath}"</span><span class="op">);</span></span>
<span id="cb85-82"><a href="#cb85-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-83"><a href="#cb85-83" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> tempDir <span class="op">=</span> Path<span class="op">.</span><span class="fu">Combine</span><span class="op">(</span>Path<span class="op">.</span><span class="fu">GetTempPath</span><span class="op">(),</span> Path<span class="op">.</span><span class="fu">GetRandomFileName</span><span class="op">());</span></span>
<span id="cb85-84"><a href="#cb85-84" aria-hidden="true" tabindex="-1"></a>        Directory<span class="op">.</span><span class="fu">CreateDirectory</span><span class="op">(</span>tempDir<span class="op">);</span></span>
<span id="cb85-85"><a href="#cb85-85" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"創建臨時目錄: {tempDir}"</span><span class="op">);</span></span>
<span id="cb85-86"><a href="#cb85-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-87"><a href="#cb85-87" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 刪除文件和目錄</span></span>
<span id="cb85-88"><a href="#cb85-88" aria-hidden="true" tabindex="-1"></a>        File<span class="op">.</span><span class="fu">Delete</span><span class="op">(</span>tempFilePath<span class="op">);</span></span>
<span id="cb85-89"><a href="#cb85-89" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"刪除臨時文件"</span><span class="op">);</span></span>
<span id="cb85-90"><a href="#cb85-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-91"><a href="#cb85-91" aria-hidden="true" tabindex="-1"></a>        Directory<span class="op">.</span><span class="fu">Delete</span><span class="op">(</span>tempDir<span class="op">);</span></span>
<span id="cb85-92"><a href="#cb85-92" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"刪除臨時目錄"</span><span class="op">);</span></span>
<span id="cb85-93"><a href="#cb85-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-94"><a href="#cb85-94" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 遞歸刪除目錄</span></span>
<span id="cb85-95"><a href="#cb85-95" aria-hidden="true" tabindex="-1"></a>        <span class="kw">try</span></span>
<span id="cb85-96"><a href="#cb85-96" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb85-97"><a href="#cb85-97" aria-hidden="true" tabindex="-1"></a>            Directory<span class="op">.</span><span class="fu">Delete</span><span class="op">(</span><span class="st">"test_dir"</span><span class="op">,</span> <span class="kw">true</span><span class="op">);</span></span>
<span id="cb85-98"><a href="#cb85-98" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"刪除 test_dir 及其所有內容"</span><span class="op">);</span></span>
<span id="cb85-99"><a href="#cb85-99" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb85-100"><a href="#cb85-100" aria-hidden="true" tabindex="-1"></a>        <span class="kw">catch</span> <span class="op">(</span>Exception e<span class="op">)</span></span>
<span id="cb85-101"><a href="#cb85-101" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb85-102"><a href="#cb85-102" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"刪除目錄時出錯: {e.Message}"</span><span class="op">);</span></span>
<span id="cb85-103"><a href="#cb85-103" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb85-104"><a href="#cb85-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-105"><a href="#cb85-105" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 文件屬性和權限</span></span>
<span id="cb85-106"><a href="#cb85-106" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(!</span>File<span class="op">.</span><span class="fu">Exists</span><span class="op">(</span><span class="st">"attributes_test.txt"</span><span class="op">))</span></span>
<span id="cb85-107"><a href="#cb85-107" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb85-108"><a href="#cb85-108" aria-hidden="true" tabindex="-1"></a>            File<span class="op">.</span><span class="fu">WriteAllText</span><span class="op">(</span><span class="st">"attributes_test.txt"</span><span class="op">,</span> <span class="st">"測試文件屬性"</span><span class="op">);</span></span>
<span id="cb85-109"><a href="#cb85-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-110"><a href="#cb85-110" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 設置文件屬性</span></span>
<span id="cb85-111"><a href="#cb85-111" aria-hidden="true" tabindex="-1"></a>            File<span class="op">.</span><span class="fu">SetAttributes</span><span class="op">(</span><span class="st">"attributes_test.txt"</span><span class="op">,</span> FileAttributes<span class="op">.</span><span class="fu">ReadOnly</span> <span class="op">|</span> FileAttributes<span class="op">.</span><span class="fu">Hidden</span><span class="op">);</span></span>
<span id="cb85-112"><a href="#cb85-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-113"><a href="#cb85-113" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 獲取文件屬性</span></span>
<span id="cb85-114"><a href="#cb85-114" aria-hidden="true" tabindex="-1"></a>            FileAttributes attrs <span class="op">=</span> File<span class="op">.</span><span class="fu">GetAttributes</span><span class="op">(</span><span class="st">"attributes_test.txt"</span><span class="op">);</span></span>
<span id="cb85-115"><a href="#cb85-115" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"文件屬性: {attrs}"</span><span class="op">);</span></span>
<span id="cb85-116"><a href="#cb85-116" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"是否為只讀: {(attrs &amp; FileAttributes.ReadOnly) == FileAttributes.ReadOnly}"</span><span class="op">);</span></span>
<span id="cb85-117"><a href="#cb85-117" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"是否為隱藏: {(attrs &amp; FileAttributes.Hidden) == FileAttributes.Hidden}"</span><span class="op">);</span></span>
<span id="cb85-118"><a href="#cb85-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-119"><a href="#cb85-119" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 移除只讀屬性以便後面可以刪除</span></span>
<span id="cb85-120"><a href="#cb85-120" aria-hidden="true" tabindex="-1"></a>            File<span class="op">.</span><span class="fu">SetAttributes</span><span class="op">(</span><span class="st">"attributes_test.txt"</span><span class="op">,</span> attrs <span class="op">&amp;</span> <span class="op">~</span>FileAttributes<span class="op">.</span><span class="fu">ReadOnly</span><span class="op">);</span></span>
<span id="cb85-121"><a href="#cb85-121" aria-hidden="true" tabindex="-1"></a>            File<span class="op">.</span><span class="fu">Delete</span><span class="op">(</span><span class="st">"attributes_test.txt"</span><span class="op">);</span></span>
<span id="cb85-122"><a href="#cb85-122" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb85-123"><a href="#cb85-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-124"><a href="#cb85-124" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用FileInfo和DirectoryInfo</span></span>
<span id="cb85-125"><a href="#cb85-125" aria-hidden="true" tabindex="-1"></a>        DirectoryInfo dirInfo <span class="op">=</span> <span class="kw">new</span> <span class="fu">DirectoryInfo</span><span class="op">(</span><span class="st">"info_test"</span><span class="op">);</span></span>
<span id="cb85-126"><a href="#cb85-126" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(!</span>dirInfo<span class="op">.</span><span class="fu">Exists</span><span class="op">)</span></span>
<span id="cb85-127"><a href="#cb85-127" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb85-128"><a href="#cb85-128" aria-hidden="true" tabindex="-1"></a>            dirInfo<span class="op">.</span><span class="fu">Create</span><span class="op">();</span></span>
<span id="cb85-129"><a href="#cb85-129" aria-hidden="true" tabindex="-1"></a>            FileInfo newFile <span class="op">=</span> <span class="kw">new</span> <span class="fu">FileInfo</span><span class="op">(</span>Path<span class="op">.</span><span class="fu">Combine</span><span class="op">(</span>dirInfo<span class="op">.</span><span class="fu">FullName</span><span class="op">,</span> <span class="st">"infotest.txt"</span><span class="op">));</span></span>
<span id="cb85-130"><a href="#cb85-130" aria-hidden="true" tabindex="-1"></a>            <span class="kw">using</span> <span class="op">(</span>StreamWriter sw <span class="op">=</span> newFile<span class="op">.</span><span class="fu">CreateText</span><span class="op">())</span></span>
<span id="cb85-131"><a href="#cb85-131" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb85-132"><a href="#cb85-132" aria-hidden="true" tabindex="-1"></a>                sw<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"使用FileInfo創建的文件"</span><span class="op">);</span></span>
<span id="cb85-133"><a href="#cb85-133" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb85-134"><a href="#cb85-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-135"><a href="#cb85-135" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"目錄創建時間: {dirInfo.CreationTime}"</span><span class="op">);</span></span>
<span id="cb85-136"><a href="#cb85-136" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"目錄內的文件: {string.Join("</span><span class="op">,</span> <span class="st">", dirInfo.GetFiles().Select(f =&gt; f.Name))}"</span><span class="op">);</span></span>
<span id="cb85-137"><a href="#cb85-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-138"><a href="#cb85-138" aria-hidden="true" tabindex="-1"></a>            dirInfo<span class="op">.</span><span class="fu">Delete</span><span class="op">(</span><span class="kw">true</span><span class="op">);</span></span>
<span id="cb85-139"><a href="#cb85-139" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb85-140"><a href="#cb85-140" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb85-141"><a href="#cb85-141" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>當前工作目錄: C:\實際路徑
創建目錄 'test_dir/nested_dir'
當前目錄內容: example.txt, multiline.txt, binary.dat, bytearray.dat, bytearray_modified.dat, test_dir
file1.txt存在? True
nonexistent.txt存在? False
file1.txt大小: 12 字節
file1.txt修改時間: 2023-08-30 15:45:23
file2.txt 重命名為 renamed_file2.txt
複製 file1.txt 到 file1_copy.txt
移動 renamed_file2.txt 到 nested_dir/moved_file2.txt
test_dir中的所有.txt文件: test_dir\file1.txt, test_dir\file1_copy.txt
所有子目錄中的文件: test_dir\file1.txt, test_dir\file1_copy.txt, test_dir\nested_dir\moved_file2.txt
文件名: moved_file2.txt
目錄名: test_dir\nested_dir
絕對路徑: C:\實際路徑\test_dir\nested_dir\moved_file2.txt
目錄名: test_dir\nested_dir, 文件名: moved_file2.txt
文件名: moved_file2, 擴展名: .txt
連接路徑: parent_dir\child_dir\file.txt
創建臨時文件: C:\Users\User\AppData\Local\Temp\tmp1234.tmp
創建臨時目錄: C:\Users\User\AppData\Local\Temp\abcdef12
刪除臨時文件
刪除臨時目錄
刪除 test_dir 及其所有內容
文件屬性: ReadOnly, Hidden
是否為只讀: True
是否為隱藏: True
目錄創建時間: 2023-08-30 15:50:23
目錄內的文件: infotest.txt</code></pre>
</section>
</section>
<section id="文件操作差異總結" class="level3">
<h3 class="anchored" data-anchor-id="文件操作差異總結">文件操作差異總結</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 15%">
<col style="width: 42%">
<col style="width: 42%">
</colgroup>
<thead>
<tr class="header">
<th>特性</th>
<th>Python</th>
<th>C#</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>文件基本操作</td>
<td><code>open()</code>, <code>close()</code>, <code>read()</code>, <code>write()</code></td>
<td><code>File</code>, <code>StreamReader</code>, <code>StreamWriter</code></td>
</tr>
<tr class="even">
<td>自動資源管理</td>
<td><code>with</code> 語句 (上下文管理器)</td>
<td><code>using</code> 語句</td>
</tr>
<tr class="odd">
<td>文件路徑操作</td>
<td><code>os.path</code> 模塊</td>
<td><code>Path</code> 類</td>
</tr>
<tr class="even">
<td>讀取整個文件</td>
<td><code>file.read()</code>, <code>file.readlines()</code></td>
<td><code>File.ReadAllText()</code>, <code>File.ReadAllLines()</code></td>
</tr>
<tr class="odd">
<td>寫入整個文件</td>
<td><code>file.write()</code>, <code>file.writelines()</code></td>
<td><code>File.WriteAllText()</code>, <code>File.WriteAllLines()</code></td>
</tr>
<tr class="even">
<td>二進制文件操作</td>
<td><code>open("file", "rb")</code>, <code>struct</code> 模塊</td>
<td><code>BinaryReader</code>, <code>BinaryWriter</code></td>
</tr>
<tr class="odd">
<td>文件系統操作</td>
<td><code>os</code>, <code>os.path</code>, <code>shutil</code> 模塊</td>
<td><code>Directory</code>, <code>File</code>, <code>Path</code> 類</td>
</tr>
<tr class="even">
<td>文件信息獲取</td>
<td><code>os.stat()</code></td>
<td><code>FileInfo</code>, <code>DirectoryInfo</code> 類</td>
</tr>
<tr class="odd">
<td>臨時文件處理</td>
<td><code>tempfile</code> 模塊</td>
<td><code>Path.GetTempFileName()</code>, <code>Path.GetTempPath()</code></td>
</tr>
<tr class="even">
<td>大文件讀寫</td>
<td>使用緩衝區和生成器分塊處理</td>
<td>使用緩衝區和流分塊處理</td>
</tr>
<tr class="odd">
<td>路徑分隔符處理</td>
<td>跨平台統一通過 <code>os.path.join()</code> 處理</td>
<td>跨平台統一通過 <code>Path.Combine()</code> 處理</td>
</tr>
<tr class="even">
<td>文件屬性和權限</td>
<td>有限支持，通過 <code>os.chmod()</code> 等</td>
<td>豐富支持，通過 <code>File.GetAttributes()</code> 等</td>
</tr>
<tr class="odd">
<td>文件監控</td>
<td>需要第三方庫或自行實現</td>
<td>內置 <code>FileSystemWatcher</code> 類</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="多線程與異步編程" class="level2">
<h2 class="anchored" data-anchor-id="多線程與異步編程">多線程與異步編程</h2>
<section id="基本線程操作" class="level3">
<h3 class="anchored" data-anchor-id="基本線程操作">基本線程操作</h3>
<section id="python基本線程操作" class="level4">
<h4 class="anchored" data-anchor-id="python基本線程操作">Python基本線程操作</h4>
<div class="sourceCode" id="cb87"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> threading</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> concurrent.futures <span class="im">import</span> ThreadPoolExecutor</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 簡單的線程函數</span></span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> worker(name, delay):</span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"線程 </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss"> 開始工作"</span>)</span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>    time.sleep(delay)  <span class="co"># 模擬一些計算或I/O操作</span></span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"線程 </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss"> 工作完成，耗時 </span><span class="sc">{</span>delay<span class="sc">}</span><span class="ss"> 秒"</span>)</span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 創建並啟動線程</span></span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> basic_threading():</span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"基本線程操作示例"</span>)</span>
<span id="cb87-15"><a href="#cb87-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-16"><a href="#cb87-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 創建線程</span></span>
<span id="cb87-17"><a href="#cb87-17" aria-hidden="true" tabindex="-1"></a>    t1 <span class="op">=</span> threading.Thread(target<span class="op">=</span>worker, args<span class="op">=</span>(<span class="st">"A"</span>, <span class="dv">1</span>))</span>
<span id="cb87-18"><a href="#cb87-18" aria-hidden="true" tabindex="-1"></a>    t2 <span class="op">=</span> threading.Thread(target<span class="op">=</span>worker, args<span class="op">=</span>(<span class="st">"B"</span>, <span class="dv">2</span>))</span>
<span id="cb87-19"><a href="#cb87-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-20"><a href="#cb87-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 啟動線程</span></span>
<span id="cb87-21"><a href="#cb87-21" aria-hidden="true" tabindex="-1"></a>    t1.start()</span>
<span id="cb87-22"><a href="#cb87-22" aria-hidden="true" tabindex="-1"></a>    t2.start()</span>
<span id="cb87-23"><a href="#cb87-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-24"><a href="#cb87-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 等待線程完成</span></span>
<span id="cb87-25"><a href="#cb87-25" aria-hidden="true" tabindex="-1"></a>    t1.join()</span>
<span id="cb87-26"><a href="#cb87-26" aria-hidden="true" tabindex="-1"></a>    t2.join()</span>
<span id="cb87-27"><a href="#cb87-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-28"><a href="#cb87-28" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"所有線程都已完成工作"</span>)</span>
<span id="cb87-29"><a href="#cb87-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-30"><a href="#cb87-30" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用線程池</span></span>
<span id="cb87-31"><a href="#cb87-31" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> thread_pool_example():</span>
<span id="cb87-32"><a href="#cb87-32" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">線程池示例"</span>)</span>
<span id="cb87-33"><a href="#cb87-33" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-34"><a href="#cb87-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 定義要執行的任務</span></span>
<span id="cb87-35"><a href="#cb87-35" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> task(task_id):</span>
<span id="cb87-36"><a href="#cb87-36" aria-hidden="true" tabindex="-1"></a>        delay <span class="op">=</span> random.uniform(<span class="fl">0.5</span>, <span class="dv">2</span>)</span>
<span id="cb87-37"><a href="#cb87-37" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"任務 </span><span class="sc">{</span>task_id<span class="sc">}</span><span class="ss"> 開始執行，將耗時 </span><span class="sc">{</span>delay<span class="sc">:.2f}</span><span class="ss"> 秒"</span>)</span>
<span id="cb87-38"><a href="#cb87-38" aria-hidden="true" tabindex="-1"></a>        time.sleep(delay)</span>
<span id="cb87-39"><a href="#cb87-39" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"任務 </span><span class="sc">{</span>task_id<span class="sc">}</span><span class="ss"> 的結果"</span></span>
<span id="cb87-40"><a href="#cb87-40" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-41"><a href="#cb87-41" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 創建線程池</span></span>
<span id="cb87-42"><a href="#cb87-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> ThreadPoolExecutor(max_workers<span class="op">=</span><span class="dv">3</span>) <span class="im">as</span> executor:</span>
<span id="cb87-43"><a href="#cb87-43" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 提交任務並獲取future對象</span></span>
<span id="cb87-44"><a href="#cb87-44" aria-hidden="true" tabindex="-1"></a>        futures <span class="op">=</span> {executor.submit(task, i): i <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>)}</span>
<span id="cb87-45"><a href="#cb87-45" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb87-46"><a href="#cb87-46" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 獲取任務結果（按照完成順序）</span></span>
<span id="cb87-47"><a href="#cb87-47" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> future <span class="kw">in</span> concurrent.futures.as_completed(futures):</span>
<span id="cb87-48"><a href="#cb87-48" aria-hidden="true" tabindex="-1"></a>            task_id <span class="op">=</span> futures[future]</span>
<span id="cb87-49"><a href="#cb87-49" aria-hidden="true" tabindex="-1"></a>            <span class="cf">try</span>:</span>
<span id="cb87-50"><a href="#cb87-50" aria-hidden="true" tabindex="-1"></a>                result <span class="op">=</span> future.result()</span>
<span id="cb87-51"><a href="#cb87-51" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(<span class="ss">f"獲取任務 </span><span class="sc">{</span>task_id<span class="sc">}</span><span class="ss"> 的結果: </span><span class="sc">{</span>result<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb87-52"><a href="#cb87-52" aria-hidden="true" tabindex="-1"></a>            <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb87-53"><a href="#cb87-53" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(<span class="ss">f"任務 </span><span class="sc">{</span>task_id<span class="sc">}</span><span class="ss"> 生成了異常: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb87-54"><a href="#cb87-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-55"><a href="#cb87-55" aria-hidden="true" tabindex="-1"></a><span class="co"># 線程間共享數據</span></span>
<span id="cb87-56"><a href="#cb87-56" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> shared_data_example():</span>
<span id="cb87-57"><a href="#cb87-57" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">線程間共享數據示例"</span>)</span>
<span id="cb87-58"><a href="#cb87-58" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-59"><a href="#cb87-59" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 共享變量</span></span>
<span id="cb87-60"><a href="#cb87-60" aria-hidden="true" tabindex="-1"></a>    counter <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb87-61"><a href="#cb87-61" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-62"><a href="#cb87-62" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 使用鎖保護共享資源</span></span>
<span id="cb87-63"><a href="#cb87-63" aria-hidden="true" tabindex="-1"></a>    lock <span class="op">=</span> threading.Lock()</span>
<span id="cb87-64"><a href="#cb87-64" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-65"><a href="#cb87-65" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 不使用鎖的工作函數</span></span>
<span id="cb87-66"><a href="#cb87-66" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> increment_without_lock():</span>
<span id="cb87-67"><a href="#cb87-67" aria-hidden="true" tabindex="-1"></a>        <span class="kw">nonlocal</span> counter</span>
<span id="cb87-68"><a href="#cb87-68" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">100000</span>):</span>
<span id="cb87-69"><a href="#cb87-69" aria-hidden="true" tabindex="-1"></a>            counter <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb87-70"><a href="#cb87-70" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-71"><a href="#cb87-71" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 使用鎖的工作函數</span></span>
<span id="cb87-72"><a href="#cb87-72" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> increment_with_lock():</span>
<span id="cb87-73"><a href="#cb87-73" aria-hidden="true" tabindex="-1"></a>        <span class="kw">nonlocal</span> counter</span>
<span id="cb87-74"><a href="#cb87-74" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">100000</span>):</span>
<span id="cb87-75"><a href="#cb87-75" aria-hidden="true" tabindex="-1"></a>            <span class="cf">with</span> lock:</span>
<span id="cb87-76"><a href="#cb87-76" aria-hidden="true" tabindex="-1"></a>                counter <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb87-77"><a href="#cb87-77" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-78"><a href="#cb87-78" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 重置計數器和測試無鎖版本</span></span>
<span id="cb87-79"><a href="#cb87-79" aria-hidden="true" tabindex="-1"></a>    counter <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb87-80"><a href="#cb87-80" aria-hidden="true" tabindex="-1"></a>    threads <span class="op">=</span> []</span>
<span id="cb87-81"><a href="#cb87-81" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>):</span>
<span id="cb87-82"><a href="#cb87-82" aria-hidden="true" tabindex="-1"></a>        t <span class="op">=</span> threading.Thread(target<span class="op">=</span>increment_without_lock)</span>
<span id="cb87-83"><a href="#cb87-83" aria-hidden="true" tabindex="-1"></a>        threads.append(t)</span>
<span id="cb87-84"><a href="#cb87-84" aria-hidden="true" tabindex="-1"></a>        t.start()</span>
<span id="cb87-85"><a href="#cb87-85" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-86"><a href="#cb87-86" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> t <span class="kw">in</span> threads:</span>
<span id="cb87-87"><a href="#cb87-87" aria-hidden="true" tabindex="-1"></a>        t.join()</span>
<span id="cb87-88"><a href="#cb87-88" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-89"><a href="#cb87-89" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"不使用鎖的結果: </span><span class="sc">{</span>counter<span class="sc">}</span><span class="ss"> (應該是 500000 如果沒有競爭條件)"</span>)</span>
<span id="cb87-90"><a href="#cb87-90" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-91"><a href="#cb87-91" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 重置計數器和測試有鎖版本</span></span>
<span id="cb87-92"><a href="#cb87-92" aria-hidden="true" tabindex="-1"></a>    counter <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb87-93"><a href="#cb87-93" aria-hidden="true" tabindex="-1"></a>    threads <span class="op">=</span> []</span>
<span id="cb87-94"><a href="#cb87-94" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>):</span>
<span id="cb87-95"><a href="#cb87-95" aria-hidden="true" tabindex="-1"></a>        t <span class="op">=</span> threading.Thread(target<span class="op">=</span>increment_with_lock)</span>
<span id="cb87-96"><a href="#cb87-96" aria-hidden="true" tabindex="-1"></a>        threads.append(t)</span>
<span id="cb87-97"><a href="#cb87-97" aria-hidden="true" tabindex="-1"></a>        t.start()</span>
<span id="cb87-98"><a href="#cb87-98" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-99"><a href="#cb87-99" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> t <span class="kw">in</span> threads:</span>
<span id="cb87-100"><a href="#cb87-100" aria-hidden="true" tabindex="-1"></a>        t.join()</span>
<span id="cb87-101"><a href="#cb87-101" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-102"><a href="#cb87-102" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"使用鎖的結果: </span><span class="sc">{</span>counter<span class="sc">}</span><span class="ss"> (應該是 500000)"</span>)</span>
<span id="cb87-103"><a href="#cb87-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-104"><a href="#cb87-104" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用事件進行線程同步</span></span>
<span id="cb87-105"><a href="#cb87-105" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> event_example():</span>
<span id="cb87-106"><a href="#cb87-106" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">使用事件進行線程同步示例"</span>)</span>
<span id="cb87-107"><a href="#cb87-107" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-108"><a href="#cb87-108" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 創建事件對象</span></span>
<span id="cb87-109"><a href="#cb87-109" aria-hidden="true" tabindex="-1"></a>    event <span class="op">=</span> threading.Event()</span>
<span id="cb87-110"><a href="#cb87-110" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-111"><a href="#cb87-111" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 等待事件的線程</span></span>
<span id="cb87-112"><a href="#cb87-112" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> waiter():</span>
<span id="cb87-113"><a href="#cb87-113" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"等待線程: 等待事件發生"</span>)</span>
<span id="cb87-114"><a href="#cb87-114" aria-hidden="true" tabindex="-1"></a>        event.wait()  <span class="co"># 阻塞直到事件被設置</span></span>
<span id="cb87-115"><a href="#cb87-115" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"等待線程: 事件已發生，繼續執行"</span>)</span>
<span id="cb87-116"><a href="#cb87-116" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-117"><a href="#cb87-117" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 設置事件的線程</span></span>
<span id="cb87-118"><a href="#cb87-118" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> setter():</span>
<span id="cb87-119"><a href="#cb87-119" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"設置線程: 睡眠2秒後設置事件"</span>)</span>
<span id="cb87-120"><a href="#cb87-120" aria-hidden="true" tabindex="-1"></a>        time.sleep(<span class="dv">2</span>)</span>
<span id="cb87-121"><a href="#cb87-121" aria-hidden="true" tabindex="-1"></a>        event.<span class="bu">set</span>()  <span class="co"># 設置事件，喚醒等待的線程</span></span>
<span id="cb87-122"><a href="#cb87-122" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"設置線程: 事件已設置"</span>)</span>
<span id="cb87-123"><a href="#cb87-123" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-124"><a href="#cb87-124" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 創建並啟動線程</span></span>
<span id="cb87-125"><a href="#cb87-125" aria-hidden="true" tabindex="-1"></a>    t1 <span class="op">=</span> threading.Thread(target<span class="op">=</span>waiter)</span>
<span id="cb87-126"><a href="#cb87-126" aria-hidden="true" tabindex="-1"></a>    t2 <span class="op">=</span> threading.Thread(target<span class="op">=</span>setter)</span>
<span id="cb87-127"><a href="#cb87-127" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-128"><a href="#cb87-128" aria-hidden="true" tabindex="-1"></a>    t1.start()</span>
<span id="cb87-129"><a href="#cb87-129" aria-hidden="true" tabindex="-1"></a>    t2.start()</span>
<span id="cb87-130"><a href="#cb87-130" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb87-131"><a href="#cb87-131" aria-hidden="true" tabindex="-1"></a>    t1.join()</span>
<span id="cb87-132"><a href="#cb87-132" aria-hidden="true" tabindex="-1"></a>    t2.join()</span>
<span id="cb87-133"><a href="#cb87-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-134"><a href="#cb87-134" aria-hidden="true" tabindex="-1"></a><span class="co"># 執行示例</span></span>
<span id="cb87-135"><a href="#cb87-135" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb87-136"><a href="#cb87-136" aria-hidden="true" tabindex="-1"></a>    basic_threading()</span>
<span id="cb87-137"><a href="#cb87-137" aria-hidden="true" tabindex="-1"></a>    thread_pool_example()</span>
<span id="cb87-138"><a href="#cb87-138" aria-hidden="true" tabindex="-1"></a>    shared_data_example()</span>
<span id="cb87-139"><a href="#cb87-139" aria-hidden="true" tabindex="-1"></a>    event_example()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>基本線程操作示例
線程 A 開始工作
線程 B 開始工作
線程 A 工作完成，耗時 1 秒
線程 B 工作完成，耗時 2 秒
所有線程都已完成工作

線程池示例
任務 0 開始執行，將耗時 1.25 秒
任務 1 開始執行，將耗時 0.78 秒
任務 2 開始執行，將耗時 1.86 秒
任務 1 的結果: 任務 1 的結果
任務 3 開始執行，將耗時 0.92 秒
任務 0 的結果: 任務 0 的結果
任務 3 的結果: 任務 3 的結果
任務 4 開始執行，將耗時 1.15 秒
任務 2 的結果: 任務 2 的結果
任務 4 的結果: 任務 4 的結果

線程間共享數據示例
不使用鎖的結果: 371254 (應該是 500000 如果沒有競爭條件)
使用鎖的結果: 500000 (應該是 500000)

使用事件進行線程同步示例
等待線程: 等待事件發生
設置線程: 睡眠2秒後設置事件
設置線程: 事件已設置
等待線程: 事件已發生，繼續執行</code></pre>
</section>
<section id="c基本線程操作" class="level4">
<h4 class="anchored" data-anchor-id="c基本線程操作">C#基本線程操作</h4>
<div class="sourceCode" id="cb89"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Threading</span><span class="op">;</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Threading</span><span class="op">.</span><span class="fu">Tasks</span><span class="op">;</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Collections</span><span class="op">.</span><span class="fu">Generic</span><span class="op">;</span></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Linq</span><span class="op">;</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 簡單的線程函數</span></span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Worker</span><span class="op">(</span><span class="dt">string</span> name<span class="op">,</span> <span class="dt">int</span> delay<span class="op">)</span></span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb89-12"><a href="#cb89-12" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"線程 {name} 開始工作"</span><span class="op">);</span></span>
<span id="cb89-13"><a href="#cb89-13" aria-hidden="true" tabindex="-1"></a>        Thread<span class="op">.</span><span class="fu">Sleep</span><span class="op">(</span>delay <span class="op">*</span> <span class="dv">1000</span><span class="op">);</span>  <span class="co">// 毫秒轉換為秒</span></span>
<span id="cb89-14"><a href="#cb89-14" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"線程 {name} 工作完成，耗時 {delay} 秒"</span><span class="op">);</span></span>
<span id="cb89-15"><a href="#cb89-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb89-16"><a href="#cb89-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-17"><a href="#cb89-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 基本線程操作</span></span>
<span id="cb89-18"><a href="#cb89-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">BasicThreading</span><span class="op">()</span></span>
<span id="cb89-19"><a href="#cb89-19" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb89-20"><a href="#cb89-20" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"基本線程操作示例"</span><span class="op">);</span></span>
<span id="cb89-21"><a href="#cb89-21" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-22"><a href="#cb89-22" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 創建線程</span></span>
<span id="cb89-23"><a href="#cb89-23" aria-hidden="true" tabindex="-1"></a>        Thread t1 <span class="op">=</span> <span class="kw">new</span> <span class="fu">Thread</span><span class="op">(()</span> <span class="op">=&gt;</span> <span class="fu">Worker</span><span class="op">(</span><span class="st">"A"</span><span class="op">,</span> <span class="dv">1</span><span class="op">));</span></span>
<span id="cb89-24"><a href="#cb89-24" aria-hidden="true" tabindex="-1"></a>        Thread t2 <span class="op">=</span> <span class="kw">new</span> <span class="fu">Thread</span><span class="op">(()</span> <span class="op">=&gt;</span> <span class="fu">Worker</span><span class="op">(</span><span class="st">"B"</span><span class="op">,</span> <span class="dv">2</span><span class="op">));</span></span>
<span id="cb89-25"><a href="#cb89-25" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-26"><a href="#cb89-26" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 啟動線程</span></span>
<span id="cb89-27"><a href="#cb89-27" aria-hidden="true" tabindex="-1"></a>        t1<span class="op">.</span><span class="fu">Start</span><span class="op">();</span></span>
<span id="cb89-28"><a href="#cb89-28" aria-hidden="true" tabindex="-1"></a>        t2<span class="op">.</span><span class="fu">Start</span><span class="op">();</span></span>
<span id="cb89-29"><a href="#cb89-29" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-30"><a href="#cb89-30" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 等待線程完成</span></span>
<span id="cb89-31"><a href="#cb89-31" aria-hidden="true" tabindex="-1"></a>        t1<span class="op">.</span><span class="fu">Join</span><span class="op">();</span></span>
<span id="cb89-32"><a href="#cb89-32" aria-hidden="true" tabindex="-1"></a>        t2<span class="op">.</span><span class="fu">Join</span><span class="op">();</span></span>
<span id="cb89-33"><a href="#cb89-33" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-34"><a href="#cb89-34" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"所有線程都已完成工作"</span><span class="op">);</span></span>
<span id="cb89-35"><a href="#cb89-35" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb89-36"><a href="#cb89-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-37"><a href="#cb89-37" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 使用任務池（Task）</span></span>
<span id="cb89-38"><a href="#cb89-38" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">TaskPoolExample</span><span class="op">()</span></span>
<span id="cb89-39"><a href="#cb89-39" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb89-40"><a href="#cb89-40" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">任務池示例"</span><span class="op">);</span></span>
<span id="cb89-41"><a href="#cb89-41" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-42"><a href="#cb89-42" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 定義要執行的任務</span></span>
<span id="cb89-43"><a href="#cb89-43" aria-hidden="true" tabindex="-1"></a>        Func<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">string</span><span class="op">&gt;</span> task <span class="op">=</span> <span class="op">(</span>taskId<span class="op">)</span> <span class="op">=&gt;</span> </span>
<span id="cb89-44"><a href="#cb89-44" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb89-45"><a href="#cb89-45" aria-hidden="true" tabindex="-1"></a>            <span class="dt">var</span> random <span class="op">=</span> <span class="kw">new</span> <span class="fu">Random</span><span class="op">();</span></span>
<span id="cb89-46"><a href="#cb89-46" aria-hidden="true" tabindex="-1"></a>            <span class="dt">double</span> delay <span class="op">=</span> random<span class="op">.</span><span class="fu">NextDouble</span><span class="op">()</span> <span class="op">*</span> <span class="fl">1.5</span> <span class="op">+</span> <span class="fl">0.5</span><span class="op">;</span> <span class="co">// 0.5 到 2 秒</span></span>
<span id="cb89-47"><a href="#cb89-47" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"任務 {taskId} 開始執行，將耗時 {delay:F2} 秒"</span><span class="op">);</span></span>
<span id="cb89-48"><a href="#cb89-48" aria-hidden="true" tabindex="-1"></a>            Thread<span class="op">.</span><span class="fu">Sleep</span><span class="op">((</span><span class="dt">int</span><span class="op">)(</span>delay <span class="op">*</span> <span class="dv">1000</span><span class="op">));</span></span>
<span id="cb89-49"><a href="#cb89-49" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> $<span class="st">"任務 {taskId} 的結果"</span><span class="op">;</span></span>
<span id="cb89-50"><a href="#cb89-50" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb89-51"><a href="#cb89-51" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-52"><a href="#cb89-52" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 創建並啟動多個任務</span></span>
<span id="cb89-53"><a href="#cb89-53" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span>Task<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;&gt;</span> tasks <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span>Task<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;&gt;();</span></span>
<span id="cb89-54"><a href="#cb89-54" aria-hidden="true" tabindex="-1"></a>        <span class="kw">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">5</span><span class="op">;</span> i<span class="op">++)</span></span>
<span id="cb89-55"><a href="#cb89-55" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb89-56"><a href="#cb89-56" aria-hidden="true" tabindex="-1"></a>            <span class="dt">int</span> taskId <span class="op">=</span> i<span class="op">;</span> <span class="co">// 避免閉包問題</span></span>
<span id="cb89-57"><a href="#cb89-57" aria-hidden="true" tabindex="-1"></a>            tasks<span class="op">.</span><span class="fu">Add</span><span class="op">(</span>Task<span class="op">.</span><span class="fu">Run</span><span class="op">(()</span> <span class="op">=&gt;</span> <span class="fu">task</span><span class="op">(</span>taskId<span class="op">)));</span></span>
<span id="cb89-58"><a href="#cb89-58" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb89-59"><a href="#cb89-59" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-60"><a href="#cb89-60" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 等待任務完成並獲取結果</span></span>
<span id="cb89-61"><a href="#cb89-61" aria-hidden="true" tabindex="-1"></a>        <span class="kw">while</span> <span class="op">(</span>tasks<span class="op">.</span><span class="fu">Count</span> <span class="op">&gt;</span> <span class="dv">0</span><span class="op">)</span></span>
<span id="cb89-62"><a href="#cb89-62" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb89-63"><a href="#cb89-63" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 等待任意一個任務完成</span></span>
<span id="cb89-64"><a href="#cb89-64" aria-hidden="true" tabindex="-1"></a>            Task<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> completedTask <span class="op">=</span> Task<span class="op">.</span><span class="fu">WhenAny</span><span class="op">(</span>tasks<span class="op">).</span><span class="fu">Result</span><span class="op">;</span></span>
<span id="cb89-65"><a href="#cb89-65" aria-hidden="true" tabindex="-1"></a>            <span class="dt">int</span> index <span class="op">=</span> tasks<span class="op">.</span><span class="fu">IndexOf</span><span class="op">(</span>completedTask<span class="op">);</span></span>
<span id="cb89-66"><a href="#cb89-66" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb89-67"><a href="#cb89-67" aria-hidden="true" tabindex="-1"></a>            <span class="kw">try</span></span>
<span id="cb89-68"><a href="#cb89-68" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb89-69"><a href="#cb89-69" aria-hidden="true" tabindex="-1"></a>                <span class="dt">string</span> result <span class="op">=</span> completedTask<span class="op">.</span><span class="fu">Result</span><span class="op">;</span></span>
<span id="cb89-70"><a href="#cb89-70" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"獲取任務 {index} 的結果: {result}"</span><span class="op">);</span></span>
<span id="cb89-71"><a href="#cb89-71" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb89-72"><a href="#cb89-72" aria-hidden="true" tabindex="-1"></a>            <span class="kw">catch</span> <span class="op">(</span>Exception e<span class="op">)</span></span>
<span id="cb89-73"><a href="#cb89-73" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb89-74"><a href="#cb89-74" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"任務 {index} 生成了異常: {e.Message}"</span><span class="op">);</span></span>
<span id="cb89-75"><a href="#cb89-75" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb89-76"><a href="#cb89-76" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb89-77"><a href="#cb89-77" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 從任務列表中移除已完成的任務</span></span>
<span id="cb89-78"><a href="#cb89-78" aria-hidden="true" tabindex="-1"></a>            tasks<span class="op">.</span><span class="fu">Remove</span><span class="op">(</span>completedTask<span class="op">);</span></span>
<span id="cb89-79"><a href="#cb89-79" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb89-80"><a href="#cb89-80" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb89-81"><a href="#cb89-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-82"><a href="#cb89-82" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 線程間共享數據</span></span>
<span id="cb89-83"><a href="#cb89-83" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">SharedDataExample</span><span class="op">()</span></span>
<span id="cb89-84"><a href="#cb89-84" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb89-85"><a href="#cb89-85" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">線程間共享數據示例"</span><span class="op">);</span></span>
<span id="cb89-86"><a href="#cb89-86" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-87"><a href="#cb89-87" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 共享變量</span></span>
<span id="cb89-88"><a href="#cb89-88" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> counter <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb89-89"><a href="#cb89-89" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-90"><a href="#cb89-90" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用鎖對象</span></span>
<span id="cb89-91"><a href="#cb89-91" aria-hidden="true" tabindex="-1"></a>        <span class="dt">object</span> lockObj <span class="op">=</span> <span class="kw">new</span> <span class="dt">object</span><span class="op">();</span></span>
<span id="cb89-92"><a href="#cb89-92" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-93"><a href="#cb89-93" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 不使用鎖的工作函數</span></span>
<span id="cb89-94"><a href="#cb89-94" aria-hidden="true" tabindex="-1"></a>        Action incrementWithoutLock <span class="op">=</span> <span class="op">()</span> <span class="op">=&gt;</span></span>
<span id="cb89-95"><a href="#cb89-95" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb89-96"><a href="#cb89-96" aria-hidden="true" tabindex="-1"></a>            <span class="kw">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">100000</span><span class="op">;</span> i<span class="op">++)</span></span>
<span id="cb89-97"><a href="#cb89-97" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb89-98"><a href="#cb89-98" aria-hidden="true" tabindex="-1"></a>                counter<span class="op">++;</span></span>
<span id="cb89-99"><a href="#cb89-99" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb89-100"><a href="#cb89-100" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb89-101"><a href="#cb89-101" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-102"><a href="#cb89-102" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用鎖的工作函數</span></span>
<span id="cb89-103"><a href="#cb89-103" aria-hidden="true" tabindex="-1"></a>        Action incrementWithLock <span class="op">=</span> <span class="op">()</span> <span class="op">=&gt;</span></span>
<span id="cb89-104"><a href="#cb89-104" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb89-105"><a href="#cb89-105" aria-hidden="true" tabindex="-1"></a>            <span class="kw">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">100000</span><span class="op">;</span> i<span class="op">++)</span></span>
<span id="cb89-106"><a href="#cb89-106" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb89-107"><a href="#cb89-107" aria-hidden="true" tabindex="-1"></a>                <span class="kw">lock</span> <span class="op">(</span>lockObj<span class="op">)</span></span>
<span id="cb89-108"><a href="#cb89-108" aria-hidden="true" tabindex="-1"></a>                <span class="op">{</span></span>
<span id="cb89-109"><a href="#cb89-109" aria-hidden="true" tabindex="-1"></a>                    counter<span class="op">++;</span></span>
<span id="cb89-110"><a href="#cb89-110" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb89-111"><a href="#cb89-111" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb89-112"><a href="#cb89-112" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb89-113"><a href="#cb89-113" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-114"><a href="#cb89-114" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 重置計數器和測試無鎖版本</span></span>
<span id="cb89-115"><a href="#cb89-115" aria-hidden="true" tabindex="-1"></a>        counter <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb89-116"><a href="#cb89-116" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span>Thread<span class="op">&gt;</span> threads <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span>Thread<span class="op">&gt;();</span></span>
<span id="cb89-117"><a href="#cb89-117" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-118"><a href="#cb89-118" aria-hidden="true" tabindex="-1"></a>        <span class="kw">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">5</span><span class="op">;</span> i<span class="op">++)</span></span>
<span id="cb89-119"><a href="#cb89-119" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb89-120"><a href="#cb89-120" aria-hidden="true" tabindex="-1"></a>            Thread t <span class="op">=</span> <span class="kw">new</span> <span class="fu">Thread</span><span class="op">(()</span> <span class="op">=&gt;</span> <span class="fu">incrementWithoutLock</span><span class="op">());</span></span>
<span id="cb89-121"><a href="#cb89-121" aria-hidden="true" tabindex="-1"></a>            threads<span class="op">.</span><span class="fu">Add</span><span class="op">(</span>t<span class="op">);</span></span>
<span id="cb89-122"><a href="#cb89-122" aria-hidden="true" tabindex="-1"></a>            t<span class="op">.</span><span class="fu">Start</span><span class="op">();</span></span>
<span id="cb89-123"><a href="#cb89-123" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb89-124"><a href="#cb89-124" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-125"><a href="#cb89-125" aria-hidden="true" tabindex="-1"></a>        <span class="kw">foreach</span> <span class="op">(</span>Thread t <span class="kw">in</span> threads<span class="op">)</span></span>
<span id="cb89-126"><a href="#cb89-126" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb89-127"><a href="#cb89-127" aria-hidden="true" tabindex="-1"></a>            t<span class="op">.</span><span class="fu">Join</span><span class="op">();</span></span>
<span id="cb89-128"><a href="#cb89-128" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb89-129"><a href="#cb89-129" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-130"><a href="#cb89-130" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"不使用鎖的結果: {counter} (應該是 500000 如果沒有競爭條件)"</span><span class="op">);</span></span>
<span id="cb89-131"><a href="#cb89-131" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-132"><a href="#cb89-132" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 重置計數器和測試有鎖版本</span></span>
<span id="cb89-133"><a href="#cb89-133" aria-hidden="true" tabindex="-1"></a>        counter <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb89-134"><a href="#cb89-134" aria-hidden="true" tabindex="-1"></a>        threads<span class="op">.</span><span class="fu">Clear</span><span class="op">();</span></span>
<span id="cb89-135"><a href="#cb89-135" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-136"><a href="#cb89-136" aria-hidden="true" tabindex="-1"></a>        <span class="kw">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">5</span><span class="op">;</span> i<span class="op">++)</span></span>
<span id="cb89-137"><a href="#cb89-137" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb89-138"><a href="#cb89-138" aria-hidden="true" tabindex="-1"></a>            Thread t <span class="op">=</span> <span class="kw">new</span> <span class="fu">Thread</span><span class="op">(()</span> <span class="op">=&gt;</span> <span class="fu">incrementWithLock</span><span class="op">());</span></span>
<span id="cb89-139"><a href="#cb89-139" aria-hidden="true" tabindex="-1"></a>            threads<span class="op">.</span><span class="fu">Add</span><span class="op">(</span>t<span class="op">);</span></span>
<span id="cb89-140"><a href="#cb89-140" aria-hidden="true" tabindex="-1"></a>            t<span class="op">.</span><span class="fu">Start</span><span class="op">();</span></span>
<span id="cb89-141"><a href="#cb89-141" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb89-142"><a href="#cb89-142" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-143"><a href="#cb89-143" aria-hidden="true" tabindex="-1"></a>        <span class="kw">foreach</span> <span class="op">(</span>Thread t <span class="kw">in</span> threads<span class="op">)</span></span>
<span id="cb89-144"><a href="#cb89-144" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb89-145"><a href="#cb89-145" aria-hidden="true" tabindex="-1"></a>            t<span class="op">.</span><span class="fu">Join</span><span class="op">();</span></span>
<span id="cb89-146"><a href="#cb89-146" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb89-147"><a href="#cb89-147" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-148"><a href="#cb89-148" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"使用鎖的結果: {counter} (應該是 500000)"</span><span class="op">);</span></span>
<span id="cb89-149"><a href="#cb89-149" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb89-150"><a href="#cb89-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-151"><a href="#cb89-151" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 使用事件進行線程同步</span></span>
<span id="cb89-152"><a href="#cb89-152" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">EventExample</span><span class="op">()</span></span>
<span id="cb89-153"><a href="#cb89-153" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb89-154"><a href="#cb89-154" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">使用事件進行線程同步示例"</span><span class="op">);</span></span>
<span id="cb89-155"><a href="#cb89-155" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-156"><a href="#cb89-156" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 創建事件對象</span></span>
<span id="cb89-157"><a href="#cb89-157" aria-hidden="true" tabindex="-1"></a>        ManualResetEvent manualEvent <span class="op">=</span> <span class="kw">new</span> <span class="fu">ManualResetEvent</span><span class="op">(</span><span class="kw">false</span><span class="op">);</span></span>
<span id="cb89-158"><a href="#cb89-158" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-159"><a href="#cb89-159" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 等待事件的線程</span></span>
<span id="cb89-160"><a href="#cb89-160" aria-hidden="true" tabindex="-1"></a>        Thread waiter <span class="op">=</span> <span class="kw">new</span> <span class="fu">Thread</span><span class="op">(()</span> <span class="op">=&gt;</span></span>
<span id="cb89-161"><a href="#cb89-161" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb89-162"><a href="#cb89-162" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"等待線程: 等待事件發生"</span><span class="op">);</span></span>
<span id="cb89-163"><a href="#cb89-163" aria-hidden="true" tabindex="-1"></a>            manualEvent<span class="op">.</span><span class="fu">WaitOne</span><span class="op">();</span>  <span class="co">// 阻塞直到事件被設置</span></span>
<span id="cb89-164"><a href="#cb89-164" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"等待線程: 事件已發生，繼續執行"</span><span class="op">);</span></span>
<span id="cb89-165"><a href="#cb89-165" aria-hidden="true" tabindex="-1"></a>        <span class="op">});</span></span>
<span id="cb89-166"><a href="#cb89-166" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-167"><a href="#cb89-167" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 設置事件的線程</span></span>
<span id="cb89-168"><a href="#cb89-168" aria-hidden="true" tabindex="-1"></a>        Thread setter <span class="op">=</span> <span class="kw">new</span> <span class="fu">Thread</span><span class="op">(()</span> <span class="op">=&gt;</span></span>
<span id="cb89-169"><a href="#cb89-169" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb89-170"><a href="#cb89-170" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"設置線程: 睡眠2秒後設置事件"</span><span class="op">);</span></span>
<span id="cb89-171"><a href="#cb89-171" aria-hidden="true" tabindex="-1"></a>            Thread<span class="op">.</span><span class="fu">Sleep</span><span class="op">(</span><span class="dv">2000</span><span class="op">);</span></span>
<span id="cb89-172"><a href="#cb89-172" aria-hidden="true" tabindex="-1"></a>            manualEvent<span class="op">.</span><span class="fu">Set</span><span class="op">();</span>  <span class="co">// 設置事件，喚醒等待的線程</span></span>
<span id="cb89-173"><a href="#cb89-173" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"設置線程: 事件已設置"</span><span class="op">);</span></span>
<span id="cb89-174"><a href="#cb89-174" aria-hidden="true" tabindex="-1"></a>        <span class="op">});</span></span>
<span id="cb89-175"><a href="#cb89-175" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-176"><a href="#cb89-176" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 啟動線程</span></span>
<span id="cb89-177"><a href="#cb89-177" aria-hidden="true" tabindex="-1"></a>        waiter<span class="op">.</span><span class="fu">Start</span><span class="op">();</span></span>
<span id="cb89-178"><a href="#cb89-178" aria-hidden="true" tabindex="-1"></a>        setter<span class="op">.</span><span class="fu">Start</span><span class="op">();</span></span>
<span id="cb89-179"><a href="#cb89-179" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-180"><a href="#cb89-180" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 等待線程完成</span></span>
<span id="cb89-181"><a href="#cb89-181" aria-hidden="true" tabindex="-1"></a>        waiter<span class="op">.</span><span class="fu">Join</span><span class="op">();</span></span>
<span id="cb89-182"><a href="#cb89-182" aria-hidden="true" tabindex="-1"></a>        setter<span class="op">.</span><span class="fu">Join</span><span class="op">();</span></span>
<span id="cb89-183"><a href="#cb89-183" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-184"><a href="#cb89-184" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 釋放資源</span></span>
<span id="cb89-185"><a href="#cb89-185" aria-hidden="true" tabindex="-1"></a>        manualEvent<span class="op">.</span><span class="fu">Dispose</span><span class="op">();</span></span>
<span id="cb89-186"><a href="#cb89-186" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb89-187"><a href="#cb89-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-188"><a href="#cb89-188" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb89-189"><a href="#cb89-189" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb89-190"><a href="#cb89-190" aria-hidden="true" tabindex="-1"></a>        <span class="fu">BasicThreading</span><span class="op">();</span></span>
<span id="cb89-191"><a href="#cb89-191" aria-hidden="true" tabindex="-1"></a>        <span class="fu">TaskPoolExample</span><span class="op">();</span></span>
<span id="cb89-192"><a href="#cb89-192" aria-hidden="true" tabindex="-1"></a>        <span class="fu">SharedDataExample</span><span class="op">();</span></span>
<span id="cb89-193"><a href="#cb89-193" aria-hidden="true" tabindex="-1"></a>        <span class="fu">EventExample</span><span class="op">();</span></span>
<span id="cb89-194"><a href="#cb89-194" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb89-195"><a href="#cb89-195" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>基本線程操作示例
線程 A 開始工作
線程 B 開始工作
線程 A 工作完成，耗時 1 秒
線程 B 工作完成，耗時 2 秒
所有線程都已完成工作

任務池示例
任務 0 開始執行，將耗時 1.32 秒
任務 1 開始執行，將耗時 0.82 秒
任務 2 開始執行，將耗時 1.75 秒
任務 3 開始執行，將耗時 0.91 秒
任務 4 開始執行，將耗時 1.24 秒
獲取任務 1 的結果: 任務 1 的結果
獲取任務 3 的結果: 任務 3 的結果
獲取任務 0 的結果: 任務 0 的結果
獲取任務 4 的結果: 任務 4 的結果
獲取任務 2 的結果: 任務 2 的結果

線程間共享數據示例
不使用鎖的結果: 392765 (應該是 500000 如果沒有競爭條件)
使用鎖的結果: 500000 (應該是 500000)

使用事件進行線程同步示例
等待線程: 等待事件發生
設置線程: 睡眠2秒後設置事件
設置線程: 事件已設置
等待線程: 事件已發生，繼續執行</code></pre>
</section>
</section>
<section id="異步編程" class="level3">
<h3 class="anchored" data-anchor-id="異步編程">異步編程</h3>
<section id="python異步編程-asyncio" class="level4">
<h4 class="anchored" data-anchor-id="python異步編程-asyncio">Python異步編程 (asyncio)</h4>
<div class="sourceCode" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> asyncio</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 基本異步函數</span></span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a><span class="cf">async</span> <span class="kw">def</span> say_after(delay, what):</span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> asyncio.sleep(delay)  <span class="co"># 異步等待，不會阻塞其他協程</span></span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(what)</span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-10"><a href="#cb91-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 簡單的異步範例</span></span>
<span id="cb91-11"><a href="#cb91-11" aria-hidden="true" tabindex="-1"></a><span class="cf">async</span> <span class="kw">def</span> basic_async():</span>
<span id="cb91-12"><a href="#cb91-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">基本異步編程示例"</span>)</span>
<span id="cb91-13"><a href="#cb91-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"開始時間: </span><span class="sc">{</span>time<span class="sc">.</span>strftime(<span class="st">'</span><span class="sc">%X</span><span class="st">'</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb91-14"><a href="#cb91-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-15"><a href="#cb91-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 順序執行異步函數</span></span>
<span id="cb91-16"><a href="#cb91-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> say_after(<span class="dv">1</span>, <span class="st">"Hello"</span>)</span>
<span id="cb91-17"><a href="#cb91-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> say_after(<span class="dv">2</span>, <span class="st">"World"</span>)</span>
<span id="cb91-18"><a href="#cb91-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-19"><a href="#cb91-19" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"結束時間: </span><span class="sc">{</span>time<span class="sc">.</span>strftime(<span class="st">'</span><span class="sc">%X</span><span class="st">'</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb91-20"><a href="#cb91-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-21"><a href="#cb91-21" aria-hidden="true" tabindex="-1"></a><span class="co"># 並發執行異步函數</span></span>
<span id="cb91-22"><a href="#cb91-22" aria-hidden="true" tabindex="-1"></a><span class="cf">async</span> <span class="kw">def</span> concurrent_async():</span>
<span id="cb91-23"><a href="#cb91-23" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">並發異步編程示例"</span>)</span>
<span id="cb91-24"><a href="#cb91-24" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"開始時間: </span><span class="sc">{</span>time<span class="sc">.</span>strftime(<span class="st">'</span><span class="sc">%X</span><span class="st">'</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb91-25"><a href="#cb91-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-26"><a href="#cb91-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 創建任務並發執行</span></span>
<span id="cb91-27"><a href="#cb91-27" aria-hidden="true" tabindex="-1"></a>    task1 <span class="op">=</span> asyncio.create_task(say_after(<span class="dv">1</span>, <span class="st">"Hello"</span>))</span>
<span id="cb91-28"><a href="#cb91-28" aria-hidden="true" tabindex="-1"></a>    task2 <span class="op">=</span> asyncio.create_task(say_after(<span class="dv">2</span>, <span class="st">"World"</span>))</span>
<span id="cb91-29"><a href="#cb91-29" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-30"><a href="#cb91-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 等待任務完成</span></span>
<span id="cb91-31"><a href="#cb91-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> task1</span>
<span id="cb91-32"><a href="#cb91-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> task2</span>
<span id="cb91-33"><a href="#cb91-33" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-34"><a href="#cb91-34" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"結束時間: </span><span class="sc">{</span>time<span class="sc">.</span>strftime(<span class="st">'</span><span class="sc">%X</span><span class="st">'</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb91-35"><a href="#cb91-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-36"><a href="#cb91-36" aria-hidden="true" tabindex="-1"></a><span class="co"># 等待多個協程</span></span>
<span id="cb91-37"><a href="#cb91-37" aria-hidden="true" tabindex="-1"></a><span class="cf">async</span> <span class="kw">def</span> wait_for_coroutines():</span>
<span id="cb91-38"><a href="#cb91-38" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">等待多個協程示例"</span>)</span>
<span id="cb91-39"><a href="#cb91-39" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-40"><a href="#cb91-40" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 定義一個協程函數</span></span>
<span id="cb91-41"><a href="#cb91-41" aria-hidden="true" tabindex="-1"></a>    <span class="cf">async</span> <span class="kw">def</span> fetch_data(name, delay):</span>
<span id="cb91-42"><a href="#cb91-42" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"開始獲取 </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss"> 數據"</span>)</span>
<span id="cb91-43"><a href="#cb91-43" aria-hidden="true" tabindex="-1"></a>        <span class="cf">await</span> asyncio.sleep(delay)  <span class="co"># 模擬耗時操作</span></span>
<span id="cb91-44"><a href="#cb91-44" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"完成獲取 </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss"> 數據"</span>)</span>
<span id="cb91-45"><a href="#cb91-45" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"</span><span class="sc">{</span>name<span class="sc">}</span><span class="ss"> 的結果"</span></span>
<span id="cb91-46"><a href="#cb91-46" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-47"><a href="#cb91-47" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 創建多個協程</span></span>
<span id="cb91-48"><a href="#cb91-48" aria-hidden="true" tabindex="-1"></a>    coroutines <span class="op">=</span> [</span>
<span id="cb91-49"><a href="#cb91-49" aria-hidden="true" tabindex="-1"></a>        fetch_data(<span class="st">"A"</span>, <span class="dv">1</span>),</span>
<span id="cb91-50"><a href="#cb91-50" aria-hidden="true" tabindex="-1"></a>        fetch_data(<span class="st">"B"</span>, <span class="dv">2</span>),</span>
<span id="cb91-51"><a href="#cb91-51" aria-hidden="true" tabindex="-1"></a>        fetch_data(<span class="st">"C"</span>, <span class="fl">1.5</span>)</span>
<span id="cb91-52"><a href="#cb91-52" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb91-53"><a href="#cb91-53" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-54"><a href="#cb91-54" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 等待所有協程完成</span></span>
<span id="cb91-55"><a href="#cb91-55" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"等待所有協程完成..."</span>)</span>
<span id="cb91-56"><a href="#cb91-56" aria-hidden="true" tabindex="-1"></a>    results <span class="op">=</span> <span class="cf">await</span> asyncio.gather(<span class="op">*</span>coroutines)</span>
<span id="cb91-57"><a href="#cb91-57" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"所有結果: </span><span class="sc">{</span>results<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb91-58"><a href="#cb91-58" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-59"><a href="#cb91-59" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 使用 wait 等待協程，可以處理先完成的</span></span>
<span id="cb91-60"><a href="#cb91-60" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">等待任意協程完成..."</span>)</span>
<span id="cb91-61"><a href="#cb91-61" aria-hidden="true" tabindex="-1"></a>    pending <span class="op">=</span> <span class="bu">set</span>([</span>
<span id="cb91-62"><a href="#cb91-62" aria-hidden="true" tabindex="-1"></a>        asyncio.create_task(fetch_data(<span class="st">"X"</span>, random.uniform(<span class="fl">0.5</span>, <span class="dv">2</span>))),</span>
<span id="cb91-63"><a href="#cb91-63" aria-hidden="true" tabindex="-1"></a>        asyncio.create_task(fetch_data(<span class="st">"Y"</span>, random.uniform(<span class="fl">0.5</span>, <span class="dv">2</span>))),</span>
<span id="cb91-64"><a href="#cb91-64" aria-hidden="true" tabindex="-1"></a>        asyncio.create_task(fetch_data(<span class="st">"Z"</span>, random.uniform(<span class="fl">0.5</span>, <span class="dv">2</span>)))</span>
<span id="cb91-65"><a href="#cb91-65" aria-hidden="true" tabindex="-1"></a>    ])</span>
<span id="cb91-66"><a href="#cb91-66" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-67"><a href="#cb91-67" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> pending:</span>
<span id="cb91-68"><a href="#cb91-68" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 等待任意一個任務完成</span></span>
<span id="cb91-69"><a href="#cb91-69" aria-hidden="true" tabindex="-1"></a>        done, pending <span class="op">=</span> <span class="cf">await</span> asyncio.wait(</span>
<span id="cb91-70"><a href="#cb91-70" aria-hidden="true" tabindex="-1"></a>            pending, return_when<span class="op">=</span>asyncio.FIRST_COMPLETED</span>
<span id="cb91-71"><a href="#cb91-71" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb91-72"><a href="#cb91-72" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb91-73"><a href="#cb91-73" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 處理完成的任務</span></span>
<span id="cb91-74"><a href="#cb91-74" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> task <span class="kw">in</span> done:</span>
<span id="cb91-75"><a href="#cb91-75" aria-hidden="true" tabindex="-1"></a>            result <span class="op">=</span> task.result()</span>
<span id="cb91-76"><a href="#cb91-76" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"處理結果: </span><span class="sc">{</span>result<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb91-77"><a href="#cb91-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-78"><a href="#cb91-78" aria-hidden="true" tabindex="-1"></a><span class="co"># 超時處理</span></span>
<span id="cb91-79"><a href="#cb91-79" aria-hidden="true" tabindex="-1"></a><span class="cf">async</span> <span class="kw">def</span> timeout_handling():</span>
<span id="cb91-80"><a href="#cb91-80" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">超時處理示例"</span>)</span>
<span id="cb91-81"><a href="#cb91-81" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-82"><a href="#cb91-82" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 定義一個可能超時的協程</span></span>
<span id="cb91-83"><a href="#cb91-83" aria-hidden="true" tabindex="-1"></a>    <span class="cf">async</span> <span class="kw">def</span> long_operation():</span>
<span id="cb91-84"><a href="#cb91-84" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"開始長時間操作"</span>)</span>
<span id="cb91-85"><a href="#cb91-85" aria-hidden="true" tabindex="-1"></a>        <span class="cf">await</span> asyncio.sleep(<span class="dv">3</span>)  <span class="co"># 模擬耗時操作</span></span>
<span id="cb91-86"><a href="#cb91-86" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"長時間操作完成"</span>)</span>
<span id="cb91-87"><a href="#cb91-87" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"長時間操作的結果"</span></span>
<span id="cb91-88"><a href="#cb91-88" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-89"><a href="#cb91-89" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 設置超時</span></span>
<span id="cb91-90"><a href="#cb91-90" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb91-91"><a href="#cb91-91" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"嘗試執行可能超時的操作（2秒超時）..."</span>)</span>
<span id="cb91-92"><a href="#cb91-92" aria-hidden="true" tabindex="-1"></a>        result <span class="op">=</span> <span class="cf">await</span> asyncio.wait_for(long_operation(), timeout<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb91-93"><a href="#cb91-93" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"獲得結果: </span><span class="sc">{</span>result<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb91-94"><a href="#cb91-94" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> asyncio.<span class="pp">TimeoutError</span>:</span>
<span id="cb91-95"><a href="#cb91-95" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"操作超時！"</span>)</span>
<span id="cb91-96"><a href="#cb91-96" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-97"><a href="#cb91-97" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 取消操作</span></span>
<span id="cb91-98"><a href="#cb91-98" aria-hidden="true" tabindex="-1"></a>    task <span class="op">=</span> asyncio.create_task(long_operation())</span>
<span id="cb91-99"><a href="#cb91-99" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> asyncio.sleep(<span class="dv">1</span>)  <span class="co"># 讓操作運行一段時間</span></span>
<span id="cb91-100"><a href="#cb91-100" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-101"><a href="#cb91-101" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"準備取消操作"</span>)</span>
<span id="cb91-102"><a href="#cb91-102" aria-hidden="true" tabindex="-1"></a>    task.cancel()</span>
<span id="cb91-103"><a href="#cb91-103" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-104"><a href="#cb91-104" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb91-105"><a href="#cb91-105" aria-hidden="true" tabindex="-1"></a>        <span class="cf">await</span> task</span>
<span id="cb91-106"><a href="#cb91-106" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> asyncio.CancelledError:</span>
<span id="cb91-107"><a href="#cb91-107" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"操作已被取消"</span>)</span>
<span id="cb91-108"><a href="#cb91-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-109"><a href="#cb91-109" aria-hidden="true" tabindex="-1"></a><span class="co"># 集成與HTTP請求</span></span>
<span id="cb91-110"><a href="#cb91-110" aria-hidden="true" tabindex="-1"></a><span class="cf">async</span> <span class="kw">def</span> http_requests():</span>
<span id="cb91-111"><a href="#cb91-111" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">異步HTTP請求示例"</span>)</span>
<span id="cb91-112"><a href="#cb91-112" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb91-113"><a href="#cb91-113" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 注意：這需要安裝 aiohttp 庫</span></span>
<span id="cb91-114"><a href="#cb91-114" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb91-115"><a href="#cb91-115" aria-hidden="true" tabindex="-1"></a>        <span class="im">import</span> aiohttp</span>
<span id="cb91-116"><a href="#cb91-116" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb91-117"><a href="#cb91-117" aria-hidden="true" tabindex="-1"></a>        <span class="cf">async</span> <span class="kw">def</span> fetch_url(session, url):</span>
<span id="cb91-118"><a href="#cb91-118" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"開始獲取 </span><span class="sc">{</span>url<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb91-119"><a href="#cb91-119" aria-hidden="true" tabindex="-1"></a>            <span class="cf">async</span> <span class="cf">with</span> session.get(url) <span class="im">as</span> response:</span>
<span id="cb91-120"><a href="#cb91-120" aria-hidden="true" tabindex="-1"></a>                data <span class="op">=</span> <span class="cf">await</span> response.text()</span>
<span id="cb91-121"><a href="#cb91-121" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(<span class="ss">f"獲取 </span><span class="sc">{</span>url<span class="sc">}</span><span class="ss"> 完成，響應大小: </span><span class="sc">{</span><span class="bu">len</span>(data)<span class="sc">}</span><span class="ss"> 字節"</span>)</span>
<span id="cb91-122"><a href="#cb91-122" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="bu">len</span>(data)</span>
<span id="cb91-123"><a href="#cb91-123" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb91-124"><a href="#cb91-124" aria-hidden="true" tabindex="-1"></a>        <span class="cf">async</span> <span class="cf">with</span> aiohttp.ClientSession() <span class="im">as</span> session:</span>
<span id="cb91-125"><a href="#cb91-125" aria-hidden="true" tabindex="-1"></a>            urls <span class="op">=</span> [</span>
<span id="cb91-126"><a href="#cb91-126" aria-hidden="true" tabindex="-1"></a>                <span class="st">"http://example.com"</span>,</span>
<span id="cb91-127"><a href="#cb91-127" aria-hidden="true" tabindex="-1"></a>                <span class="st">"http://python.org"</span>,</span>
<span id="cb91-128"><a href="#cb91-128" aria-hidden="true" tabindex="-1"></a>                <span class="st">"http://httpbin.org/get"</span></span>
<span id="cb91-129"><a href="#cb91-129" aria-hidden="true" tabindex="-1"></a>            ]</span>
<span id="cb91-130"><a href="#cb91-130" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb91-131"><a href="#cb91-131" aria-hidden="true" tabindex="-1"></a>            tasks <span class="op">=</span> [fetch_url(session, url) <span class="cf">for</span> url <span class="kw">in</span> urls]</span>
<span id="cb91-132"><a href="#cb91-132" aria-hidden="true" tabindex="-1"></a>            results <span class="op">=</span> <span class="cf">await</span> asyncio.gather(<span class="op">*</span>tasks)</span>
<span id="cb91-133"><a href="#cb91-133" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"所有URL的響應大小 (字節): </span><span class="sc">{</span>results<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb91-134"><a href="#cb91-134" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb91-135"><a href="#cb91-135" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ImportError</span>:</span>
<span id="cb91-136"><a href="#cb91-136" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"需要安裝 aiohttp 庫才能運行此示例"</span>)</span>
<span id="cb91-137"><a href="#cb91-137" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"可以使用以下命令安裝: pip install aiohttp"</span>)</span>
<span id="cb91-138"><a href="#cb91-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-139"><a href="#cb91-139" aria-hidden="true" tabindex="-1"></a><span class="co"># 主函數</span></span>
<span id="cb91-140"><a href="#cb91-140" aria-hidden="true" tabindex="-1"></a><span class="cf">async</span> <span class="kw">def</span> main():</span>
<span id="cb91-141"><a href="#cb91-141" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> basic_async()</span>
<span id="cb91-142"><a href="#cb91-142" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> concurrent_async()</span>
<span id="cb91-143"><a href="#cb91-143" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> wait_for_coroutines()</span>
<span id="cb91-144"><a href="#cb91-144" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> timeout_handling()</span>
<span id="cb91-145"><a href="#cb91-145" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 取消HTTP請求示例因為它需要外部依賴</span></span>
<span id="cb91-146"><a href="#cb91-146" aria-hidden="true" tabindex="-1"></a>    <span class="co"># await http_requests()  </span></span>
<span id="cb91-147"><a href="#cb91-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-148"><a href="#cb91-148" aria-hidden="true" tabindex="-1"></a><span class="co"># 執行異步主函數</span></span>
<span id="cb91-149"><a href="#cb91-149" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb91-150"><a href="#cb91-150" aria-hidden="true" tabindex="-1"></a>    asyncio.run(main())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>基本異步編程示例
開始時間: 15:30:00
Hello
World
結束時間: 15:30:03

並發異步編程示例
開始時間: 15:30:03
Hello
World
結束時間: 15:30:05

等待多個協程示例
開始獲取 A 數據
開始獲取 B 數據
開始獲取 C 數據
完成獲取 A 數據
完成獲取 C 數據
完成獲取 B 數據
所有結果: ['A 的結果', 'B 的結果', 'C 的結果']

等待任意協程完成...
開始獲取 X 數據
開始獲取 Y 數據
開始獲取 Z 數據
完成獲取 Y 數據
處理結果: Y 的結果
完成獲取 X 數據
處理結果: X 的結果
完成獲取 Z 數據
處理結果: Z 的結果

超時處理示例
嘗試執行可能超時的操作（2秒超時）...
開始長時間操作
操作超時！
開始長時間操作
準備取消操作
操作已被取消</code></pre>
</section>
<section id="c異步編程-asyncawait" class="level4">
<h4 class="anchored" data-anchor-id="c異步編程-asyncawait">C#異步編程 (async/await)</h4>
<div class="sourceCode" id="cb93"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Collections</span><span class="op">.</span><span class="fu">Generic</span><span class="op">;</span></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Net</span><span class="op">.</span><span class="fu">Http</span><span class="op">;</span></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Threading</span><span class="op">;</span></span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Threading</span><span class="op">.</span><span class="fu">Tasks</span><span class="op">;</span></span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 基本異步函數</span></span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> async Task <span class="fu">SayAfterAsync</span><span class="op">(</span><span class="dt">int</span> delay<span class="op">,</span> <span class="dt">string</span> what<span class="op">)</span></span>
<span id="cb93-11"><a href="#cb93-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb93-12"><a href="#cb93-12" aria-hidden="true" tabindex="-1"></a>        await Task<span class="op">.</span><span class="fu">Delay</span><span class="op">(</span>delay <span class="op">*</span> <span class="dv">1000</span><span class="op">);</span>  <span class="co">// 異步等待，不會阻塞其他任務</span></span>
<span id="cb93-13"><a href="#cb93-13" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>what<span class="op">);</span></span>
<span id="cb93-14"><a href="#cb93-14" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb93-15"><a href="#cb93-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-16"><a href="#cb93-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 簡單的異步範例</span></span>
<span id="cb93-17"><a href="#cb93-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> async Task <span class="fu">BasicAsyncExample</span><span class="op">()</span></span>
<span id="cb93-18"><a href="#cb93-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb93-19"><a href="#cb93-19" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">基本異步編程示例"</span><span class="op">);</span></span>
<span id="cb93-20"><a href="#cb93-20" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"開始時間: {DateTime.Now:HH:mm:ss}"</span><span class="op">);</span></span>
<span id="cb93-21"><a href="#cb93-21" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb93-22"><a href="#cb93-22" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 順序執行異步函數</span></span>
<span id="cb93-23"><a href="#cb93-23" aria-hidden="true" tabindex="-1"></a>        await <span class="fu">SayAfterAsync</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="st">"Hello"</span><span class="op">);</span></span>
<span id="cb93-24"><a href="#cb93-24" aria-hidden="true" tabindex="-1"></a>        await <span class="fu">SayAfterAsync</span><span class="op">(</span><span class="dv">2</span><span class="op">,</span> <span class="st">"World"</span><span class="op">);</span></span>
<span id="cb93-25"><a href="#cb93-25" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb93-26"><a href="#cb93-26" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"結束時間: {DateTime.Now:HH:mm:ss}"</span><span class="op">);</span></span>
<span id="cb93-27"><a href="#cb93-27" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb93-28"><a href="#cb93-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-29"><a href="#cb93-29" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 並發執行異步函數</span></span>
<span id="cb93-30"><a href="#cb93-30" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> async Task <span class="fu">ConcurrentAsyncExample</span><span class="op">()</span></span>
<span id="cb93-31"><a href="#cb93-31" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb93-32"><a href="#cb93-32" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">並發異步編程示例"</span><span class="op">);</span></span>
<span id="cb93-33"><a href="#cb93-33" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"開始時間: {DateTime.Now:HH:mm:ss}"</span><span class="op">);</span></span>
<span id="cb93-34"><a href="#cb93-34" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb93-35"><a href="#cb93-35" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 創建任務並發執行</span></span>
<span id="cb93-36"><a href="#cb93-36" aria-hidden="true" tabindex="-1"></a>        Task task1 <span class="op">=</span> <span class="fu">SayAfterAsync</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="st">"Hello"</span><span class="op">);</span></span>
<span id="cb93-37"><a href="#cb93-37" aria-hidden="true" tabindex="-1"></a>        Task task2 <span class="op">=</span> <span class="fu">SayAfterAsync</span><span class="op">(</span><span class="dv">2</span><span class="op">,</span> <span class="st">"World"</span><span class="op">);</span></span>
<span id="cb93-38"><a href="#cb93-38" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb93-39"><a href="#cb93-39" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 等待任務完成</span></span>
<span id="cb93-40"><a href="#cb93-40" aria-hidden="true" tabindex="-1"></a>        await task1<span class="op">;</span></span>
<span id="cb93-41"><a href="#cb93-41" aria-hidden="true" tabindex="-1"></a>        await task2<span class="op">;</span></span>
<span id="cb93-42"><a href="#cb93-42" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb93-43"><a href="#cb93-43" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"結束時間: {DateTime.Now:HH:mm:ss}"</span><span class="op">);</span></span>
<span id="cb93-44"><a href="#cb93-44" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb93-45"><a href="#cb93-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-46"><a href="#cb93-46" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 等待多個任務</span></span>
<span id="cb93-47"><a href="#cb93-47" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> async Task <span class="fu">WaitForTasks</span><span class="op">()</span></span>
<span id="cb93-48"><a href="#cb93-48" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb93-49"><a href="#cb93-49" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">等待多個任務示例"</span><span class="op">);</span></span>
<span id="cb93-50"><a href="#cb93-50" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb93-51"><a href="#cb93-51" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 定義一個異步函數</span></span>
<span id="cb93-52"><a href="#cb93-52" aria-hidden="true" tabindex="-1"></a>        async Task<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> <span class="fu">FetchDataAsync</span><span class="op">(</span><span class="dt">string</span> name<span class="op">,</span> <span class="dt">int</span> delay<span class="op">)</span></span>
<span id="cb93-53"><a href="#cb93-53" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb93-54"><a href="#cb93-54" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"開始獲取 {name} 數據"</span><span class="op">);</span></span>
<span id="cb93-55"><a href="#cb93-55" aria-hidden="true" tabindex="-1"></a>            await Task<span class="op">.</span><span class="fu">Delay</span><span class="op">(</span>delay <span class="op">*</span> <span class="dv">1000</span><span class="op">);</span>  <span class="co">// 模擬耗時操作</span></span>
<span id="cb93-56"><a href="#cb93-56" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"完成獲取 {name} 數據"</span><span class="op">);</span></span>
<span id="cb93-57"><a href="#cb93-57" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> $<span class="st">"{name} 的結果"</span><span class="op">;</span></span>
<span id="cb93-58"><a href="#cb93-58" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb93-59"><a href="#cb93-59" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb93-60"><a href="#cb93-60" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 創建多個任務</span></span>
<span id="cb93-61"><a href="#cb93-61" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span>Task<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;&gt;</span> tasks <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span>Task<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;&gt;</span></span>
<span id="cb93-62"><a href="#cb93-62" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb93-63"><a href="#cb93-63" aria-hidden="true" tabindex="-1"></a>            <span class="fu">FetchDataAsync</span><span class="op">(</span><span class="st">"A"</span><span class="op">,</span> <span class="dv">1</span><span class="op">),</span></span>
<span id="cb93-64"><a href="#cb93-64" aria-hidden="true" tabindex="-1"></a>            <span class="fu">FetchDataAsync</span><span class="op">(</span><span class="st">"B"</span><span class="op">,</span> <span class="dv">2</span><span class="op">),</span></span>
<span id="cb93-65"><a href="#cb93-65" aria-hidden="true" tabindex="-1"></a>            <span class="fu">FetchDataAsync</span><span class="op">(</span><span class="st">"C"</span><span class="op">,</span> <span class="dv">1</span><span class="op">)</span></span>
<span id="cb93-66"><a href="#cb93-66" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb93-67"><a href="#cb93-67" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb93-68"><a href="#cb93-68" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 等待所有任務完成</span></span>
<span id="cb93-69"><a href="#cb93-69" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"等待所有任務完成..."</span><span class="op">);</span></span>
<span id="cb93-70"><a href="#cb93-70" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span><span class="op">[]</span> results <span class="op">=</span> await Task<span class="op">.</span><span class="fu">WhenAll</span><span class="op">(</span>tasks<span class="op">);</span></span>
<span id="cb93-71"><a href="#cb93-71" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"所有結果: [{string.Join("</span><span class="op">,</span> <span class="st">", results)}]"</span><span class="op">);</span></span>
<span id="cb93-72"><a href="#cb93-72" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb93-73"><a href="#cb93-73" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用 WhenAny 等待任意任務完成</span></span>
<span id="cb93-74"><a href="#cb93-74" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">等待任意任務完成..."</span><span class="op">);</span></span>
<span id="cb93-75"><a href="#cb93-75" aria-hidden="true" tabindex="-1"></a>        Random random <span class="op">=</span> <span class="kw">new</span> <span class="fu">Random</span><span class="op">();</span></span>
<span id="cb93-76"><a href="#cb93-76" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span>Task<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;&gt;</span> pendingTasks <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span>Task<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;&gt;</span></span>
<span id="cb93-77"><a href="#cb93-77" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb93-78"><a href="#cb93-78" aria-hidden="true" tabindex="-1"></a>            <span class="fu">FetchDataAsync</span><span class="op">(</span><span class="st">"X"</span><span class="op">,</span> random<span class="op">.</span><span class="fu">Next</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">3</span><span class="op">)),</span></span>
<span id="cb93-79"><a href="#cb93-79" aria-hidden="true" tabindex="-1"></a>            <span class="fu">FetchDataAsync</span><span class="op">(</span><span class="st">"Y"</span><span class="op">,</span> random<span class="op">.</span><span class="fu">Next</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">3</span><span class="op">)),</span></span>
<span id="cb93-80"><a href="#cb93-80" aria-hidden="true" tabindex="-1"></a>            <span class="fu">FetchDataAsync</span><span class="op">(</span><span class="st">"Z"</span><span class="op">,</span> random<span class="op">.</span><span class="fu">Next</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">3</span><span class="op">))</span></span>
<span id="cb93-81"><a href="#cb93-81" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb93-82"><a href="#cb93-82" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb93-83"><a href="#cb93-83" aria-hidden="true" tabindex="-1"></a>        <span class="kw">while</span> <span class="op">(</span>pendingTasks<span class="op">.</span><span class="fu">Count</span> <span class="op">&gt;</span> <span class="dv">0</span><span class="op">)</span></span>
<span id="cb93-84"><a href="#cb93-84" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb93-85"><a href="#cb93-85" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 等待任意一個任務完成</span></span>
<span id="cb93-86"><a href="#cb93-86" aria-hidden="true" tabindex="-1"></a>            Task<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> completedTask <span class="op">=</span> await Task<span class="op">.</span><span class="fu">WhenAny</span><span class="op">(</span>pendingTasks<span class="op">);</span></span>
<span id="cb93-87"><a href="#cb93-87" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb93-88"><a href="#cb93-88" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 處理完成的任務</span></span>
<span id="cb93-89"><a href="#cb93-89" aria-hidden="true" tabindex="-1"></a>            <span class="dt">string</span> result <span class="op">=</span> await completedTask<span class="op">;</span></span>
<span id="cb93-90"><a href="#cb93-90" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"處理結果: {result}"</span><span class="op">);</span></span>
<span id="cb93-91"><a href="#cb93-91" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb93-92"><a href="#cb93-92" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 從待處理任務列表中移除已完成的任務</span></span>
<span id="cb93-93"><a href="#cb93-93" aria-hidden="true" tabindex="-1"></a>            pendingTasks<span class="op">.</span><span class="fu">Remove</span><span class="op">(</span>completedTask<span class="op">);</span></span>
<span id="cb93-94"><a href="#cb93-94" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb93-95"><a href="#cb93-95" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb93-96"><a href="#cb93-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-97"><a href="#cb93-97" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 超時處理</span></span>
<span id="cb93-98"><a href="#cb93-98" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> async Task <span class="fu">TimeoutHandlingExample</span><span class="op">()</span></span>
<span id="cb93-99"><a href="#cb93-99" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb93-100"><a href="#cb93-100" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">超時處理示例"</span><span class="op">);</span></span>
<span id="cb93-101"><a href="#cb93-101" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb93-102"><a href="#cb93-102" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 定義一個可能超時的操作</span></span>
<span id="cb93-103"><a href="#cb93-103" aria-hidden="true" tabindex="-1"></a>        async Task<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> <span class="fu">LongOperationAsync</span><span class="op">()</span></span>
<span id="cb93-104"><a href="#cb93-104" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb93-105"><a href="#cb93-105" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"開始長時間操作"</span><span class="op">);</span></span>
<span id="cb93-106"><a href="#cb93-106" aria-hidden="true" tabindex="-1"></a>            await Task<span class="op">.</span><span class="fu">Delay</span><span class="op">(</span><span class="dv">3000</span><span class="op">);</span>  <span class="co">// 模擬耗時操作</span></span>
<span id="cb93-107"><a href="#cb93-107" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"長時間操作完成"</span><span class="op">);</span></span>
<span id="cb93-108"><a href="#cb93-108" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> <span class="st">"長時間操作的結果"</span><span class="op">;</span></span>
<span id="cb93-109"><a href="#cb93-109" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb93-110"><a href="#cb93-110" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb93-111"><a href="#cb93-111" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 設置超時</span></span>
<span id="cb93-112"><a href="#cb93-112" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"嘗試執行可能超時的操作（2秒超時）..."</span><span class="op">);</span></span>
<span id="cb93-113"><a href="#cb93-113" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb93-114"><a href="#cb93-114" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 創建取消令牌</span></span>
<span id="cb93-115"><a href="#cb93-115" aria-hidden="true" tabindex="-1"></a>        <span class="kw">using</span> <span class="op">(</span><span class="dt">var</span> cts <span class="op">=</span> <span class="kw">new</span> <span class="fu">CancellationTokenSource</span><span class="op">(</span><span class="dv">2000</span><span class="op">))</span>  <span class="co">// 2秒超時</span></span>
<span id="cb93-116"><a href="#cb93-116" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb93-117"><a href="#cb93-117" aria-hidden="true" tabindex="-1"></a>            <span class="kw">try</span></span>
<span id="cb93-118"><a href="#cb93-118" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb93-119"><a href="#cb93-119" aria-hidden="true" tabindex="-1"></a>                <span class="dt">string</span> result <span class="op">=</span> await <span class="fu">LongOperationAsync</span><span class="op">().</span><span class="fu">WithCancellation</span><span class="op">(</span>cts<span class="op">.</span><span class="fu">Token</span><span class="op">);</span></span>
<span id="cb93-120"><a href="#cb93-120" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"獲得結果: {result}"</span><span class="op">);</span></span>
<span id="cb93-121"><a href="#cb93-121" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb93-122"><a href="#cb93-122" aria-hidden="true" tabindex="-1"></a>            <span class="kw">catch</span> <span class="op">(</span>TaskCanceledException<span class="op">)</span></span>
<span id="cb93-123"><a href="#cb93-123" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb93-124"><a href="#cb93-124" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"操作超時！"</span><span class="op">);</span></span>
<span id="cb93-125"><a href="#cb93-125" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb93-126"><a href="#cb93-126" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb93-127"><a href="#cb93-127" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb93-128"><a href="#cb93-128" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 取消操作</span></span>
<span id="cb93-129"><a href="#cb93-129" aria-hidden="true" tabindex="-1"></a>        <span class="kw">using</span> <span class="op">(</span><span class="dt">var</span> cts <span class="op">=</span> <span class="kw">new</span> <span class="fu">CancellationTokenSource</span><span class="op">())</span></span>
<span id="cb93-130"><a href="#cb93-130" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb93-131"><a href="#cb93-131" aria-hidden="true" tabindex="-1"></a>            Task operation <span class="op">=</span> <span class="fu">LongOperationAsync</span><span class="op">();</span></span>
<span id="cb93-132"><a href="#cb93-132" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb93-133"><a href="#cb93-133" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 讓操作運行一段時間</span></span>
<span id="cb93-134"><a href="#cb93-134" aria-hidden="true" tabindex="-1"></a>            await Task<span class="op">.</span><span class="fu">Delay</span><span class="op">(</span><span class="dv">1000</span><span class="op">);</span></span>
<span id="cb93-135"><a href="#cb93-135" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb93-136"><a href="#cb93-136" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"準備取消操作"</span><span class="op">);</span></span>
<span id="cb93-137"><a href="#cb93-137" aria-hidden="true" tabindex="-1"></a>            cts<span class="op">.</span><span class="fu">Cancel</span><span class="op">();</span></span>
<span id="cb93-138"><a href="#cb93-138" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb93-139"><a href="#cb93-139" aria-hidden="true" tabindex="-1"></a>            <span class="kw">try</span></span>
<span id="cb93-140"><a href="#cb93-140" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb93-141"><a href="#cb93-141" aria-hidden="true" tabindex="-1"></a>                await Task<span class="op">.</span><span class="fu">Delay</span><span class="op">(</span><span class="dv">3000</span><span class="op">,</span> cts<span class="op">.</span><span class="fu">Token</span><span class="op">);</span>  <span class="co">// 這個操作會被取消</span></span>
<span id="cb93-142"><a href="#cb93-142" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb93-143"><a href="#cb93-143" aria-hidden="true" tabindex="-1"></a>            <span class="kw">catch</span> <span class="op">(</span>TaskCanceledException<span class="op">)</span></span>
<span id="cb93-144"><a href="#cb93-144" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb93-145"><a href="#cb93-145" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"操作已被取消"</span><span class="op">);</span></span>
<span id="cb93-146"><a href="#cb93-146" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb93-147"><a href="#cb93-147" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb93-148"><a href="#cb93-148" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb93-149"><a href="#cb93-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-150"><a href="#cb93-150" aria-hidden="true" tabindex="-1"></a>    <span class="co">// HTTP請求示例</span></span>
<span id="cb93-151"><a href="#cb93-151" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> async Task <span class="fu">HttpRequestsExample</span><span class="op">()</span></span>
<span id="cb93-152"><a href="#cb93-152" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb93-153"><a href="#cb93-153" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">異步HTTP請求示例"</span><span class="op">);</span></span>
<span id="cb93-154"><a href="#cb93-154" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb93-155"><a href="#cb93-155" aria-hidden="true" tabindex="-1"></a>        async Task<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> <span class="fu">FetchUrlAsync</span><span class="op">(</span>HttpClient client<span class="op">,</span> <span class="dt">string</span> url<span class="op">)</span></span>
<span id="cb93-156"><a href="#cb93-156" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb93-157"><a href="#cb93-157" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"開始獲取 {url}"</span><span class="op">);</span></span>
<span id="cb93-158"><a href="#cb93-158" aria-hidden="true" tabindex="-1"></a>            <span class="dt">string</span> data <span class="op">=</span> await client<span class="op">.</span><span class="fu">GetStringAsync</span><span class="op">(</span>url<span class="op">);</span></span>
<span id="cb93-159"><a href="#cb93-159" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"獲取 {url} 完成，響應大小: {data.Length} 字節"</span><span class="op">);</span></span>
<span id="cb93-160"><a href="#cb93-160" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> data<span class="op">.</span><span class="fu">Length</span><span class="op">;</span></span>
<span id="cb93-161"><a href="#cb93-161" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb93-162"><a href="#cb93-162" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb93-163"><a href="#cb93-163" aria-hidden="true" tabindex="-1"></a>        <span class="kw">using</span> <span class="op">(</span>HttpClient client <span class="op">=</span> <span class="kw">new</span> <span class="fu">HttpClient</span><span class="op">())</span></span>
<span id="cb93-164"><a href="#cb93-164" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb93-165"><a href="#cb93-165" aria-hidden="true" tabindex="-1"></a>            List<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> urls <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span></span>
<span id="cb93-166"><a href="#cb93-166" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb93-167"><a href="#cb93-167" aria-hidden="true" tabindex="-1"></a>                <span class="st">"http://example.com"</span><span class="op">,</span></span>
<span id="cb93-168"><a href="#cb93-168" aria-hidden="true" tabindex="-1"></a>                <span class="st">"http://microsoft.com"</span><span class="op">,</span></span>
<span id="cb93-169"><a href="#cb93-169" aria-hidden="true" tabindex="-1"></a>                <span class="st">"http://httpbin.org/get"</span></span>
<span id="cb93-170"><a href="#cb93-170" aria-hidden="true" tabindex="-1"></a>            <span class="op">};</span></span>
<span id="cb93-171"><a href="#cb93-171" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb93-172"><a href="#cb93-172" aria-hidden="true" tabindex="-1"></a>            List<span class="op">&lt;</span>Task<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;&gt;</span> tasks <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span>Task<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;&gt;();</span></span>
<span id="cb93-173"><a href="#cb93-173" aria-hidden="true" tabindex="-1"></a>            <span class="kw">foreach</span> <span class="op">(</span><span class="dt">string</span> url <span class="kw">in</span> urls<span class="op">)</span></span>
<span id="cb93-174"><a href="#cb93-174" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb93-175"><a href="#cb93-175" aria-hidden="true" tabindex="-1"></a>                tasks<span class="op">.</span><span class="fu">Add</span><span class="op">(</span><span class="fu">FetchUrlAsync</span><span class="op">(</span>client<span class="op">,</span> url<span class="op">));</span></span>
<span id="cb93-176"><a href="#cb93-176" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb93-177"><a href="#cb93-177" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb93-178"><a href="#cb93-178" aria-hidden="true" tabindex="-1"></a>            <span class="kw">try</span></span>
<span id="cb93-179"><a href="#cb93-179" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb93-180"><a href="#cb93-180" aria-hidden="true" tabindex="-1"></a>                <span class="dt">int</span><span class="op">[]</span> results <span class="op">=</span> await Task<span class="op">.</span><span class="fu">WhenAll</span><span class="op">(</span>tasks<span class="op">);</span></span>
<span id="cb93-181"><a href="#cb93-181" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"所有URL的響應大小 (字節): [{string.Join("</span><span class="op">,</span> <span class="st">", results)}]"</span><span class="op">);</span></span>
<span id="cb93-182"><a href="#cb93-182" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb93-183"><a href="#cb93-183" aria-hidden="true" tabindex="-1"></a>            <span class="kw">catch</span> <span class="op">(</span>Exception ex<span class="op">)</span></span>
<span id="cb93-184"><a href="#cb93-184" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb93-185"><a href="#cb93-185" aria-hidden="true" tabindex="-1"></a>                Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"獲取URL時發生錯誤: {ex.Message}"</span><span class="op">);</span></span>
<span id="cb93-186"><a href="#cb93-186" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb93-187"><a href="#cb93-187" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb93-188"><a href="#cb93-188" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb93-189"><a href="#cb93-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-190"><a href="#cb93-190" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 主函數</span></span>
<span id="cb93-191"><a href="#cb93-191" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> async Task <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb93-192"><a href="#cb93-192" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb93-193"><a href="#cb93-193" aria-hidden="true" tabindex="-1"></a>        await <span class="fu">BasicAsyncExample</span><span class="op">();</span></span>
<span id="cb93-194"><a href="#cb93-194" aria-hidden="true" tabindex="-1"></a>        await <span class="fu">ConcurrentAsyncExample</span><span class="op">();</span></span>
<span id="cb93-195"><a href="#cb93-195" aria-hidden="true" tabindex="-1"></a>        await <span class="fu">WaitForTasks</span><span class="op">();</span></span>
<span id="cb93-196"><a href="#cb93-196" aria-hidden="true" tabindex="-1"></a>        await <span class="fu">TimeoutHandlingExample</span><span class="op">();</span></span>
<span id="cb93-197"><a href="#cb93-197" aria-hidden="true" tabindex="-1"></a>        await <span class="fu">HttpRequestsExample</span><span class="op">();</span></span>
<span id="cb93-198"><a href="#cb93-198" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb93-199"><a href="#cb93-199" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb93-200"><a href="#cb93-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-201"><a href="#cb93-201" aria-hidden="true" tabindex="-1"></a><span class="co">// 擴展方法，用於為任務添加超時功能</span></span>
<span id="cb93-202"><a href="#cb93-202" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">static</span> <span class="kw">class</span> TaskExtensions</span>
<span id="cb93-203"><a href="#cb93-203" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb93-204"><a href="#cb93-204" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">static</span> async Task<span class="op">&lt;</span>T<span class="op">&gt;</span> WithCancellation<span class="op">&lt;</span>T<span class="op">&gt;(</span><span class="kw">this</span> Task<span class="op">&lt;</span>T<span class="op">&gt;</span> task<span class="op">,</span> CancellationToken cancellationToken<span class="op">)</span></span>
<span id="cb93-205"><a href="#cb93-205" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb93-206"><a href="#cb93-206" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> tcs <span class="op">=</span> <span class="kw">new</span> TaskCompletionSource<span class="op">&lt;</span><span class="dt">bool</span><span class="op">&gt;();</span></span>
<span id="cb93-207"><a href="#cb93-207" aria-hidden="true" tabindex="-1"></a>        <span class="kw">using</span> <span class="op">(</span>cancellationToken<span class="op">.</span><span class="fu">Register</span><span class="op">(</span>s <span class="op">=&gt;</span> <span class="op">((</span>TaskCompletionSource<span class="op">&lt;</span><span class="dt">bool</span><span class="op">&gt;)</span>s<span class="op">).</span><span class="fu">TrySetResult</span><span class="op">(</span><span class="kw">true</span><span class="op">),</span> tcs<span class="op">))</span></span>
<span id="cb93-208"><a href="#cb93-208" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb93-209"><a href="#cb93-209" aria-hidden="true" tabindex="-1"></a>            <span class="kw">if</span> <span class="op">(</span>task <span class="op">!=</span> await Task<span class="op">.</span><span class="fu">WhenAny</span><span class="op">(</span>task<span class="op">,</span> tcs<span class="op">.</span><span class="fu">Task</span><span class="op">))</span></span>
<span id="cb93-210"><a href="#cb93-210" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb93-211"><a href="#cb93-211" aria-hidden="true" tabindex="-1"></a>                <span class="kw">throw</span> <span class="kw">new</span> <span class="fu">TaskCanceledException</span><span class="op">();</span></span>
<span id="cb93-212"><a href="#cb93-212" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb93-213"><a href="#cb93-213" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb93-214"><a href="#cb93-214" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> await task<span class="op">;</span></span>
<span id="cb93-215"><a href="#cb93-215" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb93-216"><a href="#cb93-216" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>基本異步編程示例
開始時間: 15:30:00
Hello
World
結束時間: 15:30:03

並發異步編程示例
開始時間: 15:30:03
Hello
World
結束時間: 15:30:05

等待多個任務示例
開始獲取 A 數據
開始獲取 B 數據
開始獲取 C 數據
完成獲取 A 數據
完成獲取 C 數據
完成獲取 B 數據
所有結果: [A 的結果, B 的結果, C 的結果]

等待任意任務完成...
開始獲取 X 數據
開始獲取 Y 數據
開始獲取 Z 數據
完成獲取 Y 數據
處理結果: Y 的結果
完成獲取 X 數據
處理結果: X 的結果
完成獲取 Z 數據
處理結果: Z 的結果

超時處理示例
嘗試執行可能超時的操作（2秒超時）...
開始長時間操作
操作超時！
開始長時間操作
準備取消操作
操作已被取消

異步HTTP請求示例
開始獲取 http://example.com
開始獲取 http://microsoft.com
開始獲取 http://httpbin.org/get
獲取 http://example.com 完成，響應大小: 1256 字節
獲取 http://httpbin.org/get 完成，響應大小: 345 字節
獲取 http://microsoft.com 完成，響應大小: 68432 字節
所有URL的響應大小 (字節): [1256, 68432, 345]</code></pre>
</section>
</section>
<section id="python與c異步編程比較" class="level3">
<h3 class="anchored" data-anchor-id="python與c異步編程比較">Python與C#異步編程比較</h3>
<p>Python使用<code>asyncio</code>模塊實現異步編程，而C#使用內建的<code>async</code>/<code>await</code>關鍵字。以下是兩種語言在異步編程方面的主要差異和相似之處：</p>
<section id="相似之處" class="level4">
<h4 class="anchored" data-anchor-id="相似之處">相似之處</h4>
<ol type="1">
<li><strong>關鍵字</strong>: 兩種語言都使用<code>async</code>和<code>await</code>關鍵字來標記異步函數和等待點。</li>
<li><strong>非阻塞I/O</strong>: 兩者都旨在提供非阻塞I/O操作，提高程序效率。</li>
<li><strong>任務/協程</strong>: Python的協程(coroutine)和C#的任務(Task)概念類似，代表異步操作的執行單元。</li>
</ol>
</section>
<section id="差異之處" class="level4">
<h4 class="anchored" data-anchor-id="差異之處">差異之處</h4>
<ol type="1">
<li><strong>運行環境</strong>:
<ul>
<li>Python需要使用<code>asyncio.run()</code>來啟動事件循環並運行異步程序。</li>
<li>C#的異步方法可以直接從同步代碼調用，無需顯式的事件循環。</li>
</ul></li>
<li><strong>同步上下文</strong>:
<ul>
<li>C#有更強大的同步上下文管理，能夠更好地處理UI線程和異步操作間的交互。</li>
<li>Python的<code>asyncio</code>需要顯式地處理線程安全問題。</li>
</ul></li>
<li><strong>語言整合</strong>:
<ul>
<li>C#的<code>async</code>/<code>await</code>是語言核心特性，與.NET框架深度集成。</li>
<li>Python的<code>asyncio</code>是標準庫的一部分，但不是語言核心特性。</li>
</ul></li>
<li><strong>API差異</strong>:
<ul>
<li>Python使用<code>asyncio.gather()</code>來並發等待多個協程。</li>
<li>C#使用<code>Task.WhenAll()</code>來並發等待多個任務。</li>
</ul></li>
</ol>
</section>
</section>
</section>
<section id="linq與集合操作" class="level2">
<h2 class="anchored" data-anchor-id="linq與集合操作">LINQ與集合操作</h2>
<section id="集合操作" class="level3">
<h3 class="anchored" data-anchor-id="集合操作">集合操作</h3>
<section id="python集合操作" class="level4">
<h4 class="anchored" data-anchor-id="python集合操作">Python集合操作</h4>
<div class="sourceCode" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 導入相關模塊</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> functools <span class="im">import</span> <span class="bu">reduce</span></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> operator</span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> itertools</span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> collection_operations():</span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Python集合操作示例"</span>)</span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 1. 過濾操作 (filter)</span></span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a>    numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>]</span>
<span id="cb95-11"><a href="#cb95-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-12"><a href="#cb95-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 使用列表推導式過濾偶數</span></span>
<span id="cb95-13"><a href="#cb95-13" aria-hidden="true" tabindex="-1"></a>    even_numbers <span class="op">=</span> [x <span class="cf">for</span> x <span class="kw">in</span> numbers <span class="cf">if</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>]</span>
<span id="cb95-14"><a href="#cb95-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"過濾偶數 (列表推導式): </span><span class="sc">{</span>even_numbers<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb95-15"><a href="#cb95-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-16"><a href="#cb95-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 使用filter函數</span></span>
<span id="cb95-17"><a href="#cb95-17" aria-hidden="true" tabindex="-1"></a>    even_with_filter <span class="op">=</span> <span class="bu">list</span>(<span class="bu">filter</span>(<span class="kw">lambda</span> x: x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>, numbers))</span>
<span id="cb95-18"><a href="#cb95-18" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"過濾偶數 (filter): </span><span class="sc">{</span>even_with_filter<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb95-19"><a href="#cb95-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-20"><a href="#cb95-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 2. 映射操作 (map)</span></span>
<span id="cb95-21"><a href="#cb95-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 使用列表推導式平方每個數字</span></span>
<span id="cb95-22"><a href="#cb95-22" aria-hidden="true" tabindex="-1"></a>    squares <span class="op">=</span> [x <span class="op">*</span> x <span class="cf">for</span> x <span class="kw">in</span> numbers]</span>
<span id="cb95-23"><a href="#cb95-23" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"數字平方 (列表推導式): </span><span class="sc">{</span>squares<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb95-24"><a href="#cb95-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-25"><a href="#cb95-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 使用map函數</span></span>
<span id="cb95-26"><a href="#cb95-26" aria-hidden="true" tabindex="-1"></a>    squares_with_map <span class="op">=</span> <span class="bu">list</span>(<span class="bu">map</span>(<span class="kw">lambda</span> x: x <span class="op">*</span> x, numbers))</span>
<span id="cb95-27"><a href="#cb95-27" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"數字平方 (map): </span><span class="sc">{</span>squares_with_map<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb95-28"><a href="#cb95-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-29"><a href="#cb95-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 3. 縮減操作 (reduce)</span></span>
<span id="cb95-30"><a href="#cb95-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 計算總和</span></span>
<span id="cb95-31"><a href="#cb95-31" aria-hidden="true" tabindex="-1"></a>    total <span class="op">=</span> <span class="bu">sum</span>(numbers)</span>
<span id="cb95-32"><a href="#cb95-32" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"總和 (sum): </span><span class="sc">{</span>total<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb95-33"><a href="#cb95-33" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-34"><a href="#cb95-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 使用reduce函數</span></span>
<span id="cb95-35"><a href="#cb95-35" aria-hidden="true" tabindex="-1"></a>    total_with_reduce <span class="op">=</span> <span class="bu">reduce</span>(operator.add, numbers)</span>
<span id="cb95-36"><a href="#cb95-36" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"總和 (reduce): </span><span class="sc">{</span>total_with_reduce<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb95-37"><a href="#cb95-37" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-38"><a href="#cb95-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 4. 排序操作 (sort)</span></span>
<span id="cb95-39"><a href="#cb95-39" aria-hidden="true" tabindex="-1"></a>    words <span class="op">=</span> [<span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"cherry"</span>, <span class="st">"date"</span>, <span class="st">"elderberry"</span>]</span>
<span id="cb95-40"><a href="#cb95-40" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-41"><a href="#cb95-41" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 按字母順序排序</span></span>
<span id="cb95-42"><a href="#cb95-42" aria-hidden="true" tabindex="-1"></a>    sorted_words <span class="op">=</span> <span class="bu">sorted</span>(words)</span>
<span id="cb95-43"><a href="#cb95-43" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"按字母順序排序: </span><span class="sc">{</span>sorted_words<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb95-44"><a href="#cb95-44" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-45"><a href="#cb95-45" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 按長度排序</span></span>
<span id="cb95-46"><a href="#cb95-46" aria-hidden="true" tabindex="-1"></a>    sorted_by_length <span class="op">=</span> <span class="bu">sorted</span>(words, key<span class="op">=</span><span class="bu">len</span>)</span>
<span id="cb95-47"><a href="#cb95-47" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"按長度排序: </span><span class="sc">{</span>sorted_by_length<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb95-48"><a href="#cb95-48" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-49"><a href="#cb95-49" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 5. 分組操作 (groupby)</span></span>
<span id="cb95-50"><a href="#cb95-50" aria-hidden="true" tabindex="-1"></a>    items <span class="op">=</span> [</span>
<span id="cb95-51"><a href="#cb95-51" aria-hidden="true" tabindex="-1"></a>        {<span class="st">"name"</span>: <span class="st">"apple"</span>, <span class="st">"category"</span>: <span class="st">"fruit"</span>},</span>
<span id="cb95-52"><a href="#cb95-52" aria-hidden="true" tabindex="-1"></a>        {<span class="st">"name"</span>: <span class="st">"banana"</span>, <span class="st">"category"</span>: <span class="st">"fruit"</span>},</span>
<span id="cb95-53"><a href="#cb95-53" aria-hidden="true" tabindex="-1"></a>        {<span class="st">"name"</span>: <span class="st">"carrot"</span>, <span class="st">"category"</span>: <span class="st">"vegetable"</span>},</span>
<span id="cb95-54"><a href="#cb95-54" aria-hidden="true" tabindex="-1"></a>        {<span class="st">"name"</span>: <span class="st">"potato"</span>, <span class="st">"category"</span>: <span class="st">"vegetable"</span>},</span>
<span id="cb95-55"><a href="#cb95-55" aria-hidden="true" tabindex="-1"></a>        {<span class="st">"name"</span>: <span class="st">"cherry"</span>, <span class="st">"category"</span>: <span class="st">"fruit"</span>}</span>
<span id="cb95-56"><a href="#cb95-56" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb95-57"><a href="#cb95-57" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-58"><a href="#cb95-58" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 使用字典推導式分組</span></span>
<span id="cb95-59"><a href="#cb95-59" aria-hidden="true" tabindex="-1"></a>    grouped_items <span class="op">=</span> {}</span>
<span id="cb95-60"><a href="#cb95-60" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> item <span class="kw">in</span> items:</span>
<span id="cb95-61"><a href="#cb95-61" aria-hidden="true" tabindex="-1"></a>        category <span class="op">=</span> item[<span class="st">"category"</span>]</span>
<span id="cb95-62"><a href="#cb95-62" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> category <span class="kw">not</span> <span class="kw">in</span> grouped_items:</span>
<span id="cb95-63"><a href="#cb95-63" aria-hidden="true" tabindex="-1"></a>            grouped_items[category] <span class="op">=</span> []</span>
<span id="cb95-64"><a href="#cb95-64" aria-hidden="true" tabindex="-1"></a>        grouped_items[category].append(item[<span class="st">"name"</span>])</span>
<span id="cb95-65"><a href="#cb95-65" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-66"><a href="#cb95-66" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"分組結果:"</span>)</span>
<span id="cb95-67"><a href="#cb95-67" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> category, names <span class="kw">in</span> grouped_items.items():</span>
<span id="cb95-68"><a href="#cb95-68" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"  </span><span class="sc">{</span>category<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>names<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb95-69"><a href="#cb95-69" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-70"><a href="#cb95-70" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 6. 聚合操作</span></span>
<span id="cb95-71"><a href="#cb95-71" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 計算各種統計值</span></span>
<span id="cb95-72"><a href="#cb95-72" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"最小值: </span><span class="sc">{</span><span class="bu">min</span>(numbers)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb95-73"><a href="#cb95-73" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"最大值: </span><span class="sc">{</span><span class="bu">max</span>(numbers)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb95-74"><a href="#cb95-74" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"平均值: </span><span class="sc">{</span><span class="bu">sum</span>(numbers) <span class="op">/</span> <span class="bu">len</span>(numbers)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb95-75"><a href="#cb95-75" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-76"><a href="#cb95-76" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 7. 連接操作</span></span>
<span id="cb95-77"><a href="#cb95-77" aria-hidden="true" tabindex="-1"></a>    list1 <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb95-78"><a href="#cb95-78" aria-hidden="true" tabindex="-1"></a>    list2 <span class="op">=</span> [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]</span>
<span id="cb95-79"><a href="#cb95-79" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-80"><a href="#cb95-80" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 使用加號運算符</span></span>
<span id="cb95-81"><a href="#cb95-81" aria-hidden="true" tabindex="-1"></a>    concatenated <span class="op">=</span> list1 <span class="op">+</span> list2</span>
<span id="cb95-82"><a href="#cb95-82" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"連接列表 (+): </span><span class="sc">{</span>concatenated<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb95-83"><a href="#cb95-83" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-84"><a href="#cb95-84" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 使用extend方法</span></span>
<span id="cb95-85"><a href="#cb95-85" aria-hidden="true" tabindex="-1"></a>    extended <span class="op">=</span> list1.copy()</span>
<span id="cb95-86"><a href="#cb95-86" aria-hidden="true" tabindex="-1"></a>    extended.extend(list2)</span>
<span id="cb95-87"><a href="#cb95-87" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"連接列表 (extend): </span><span class="sc">{</span>extended<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb95-88"><a href="#cb95-88" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-89"><a href="#cb95-89" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 8. 交集和差集操作</span></span>
<span id="cb95-90"><a href="#cb95-90" aria-hidden="true" tabindex="-1"></a>    set1 <span class="op">=</span> {<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>}</span>
<span id="cb95-91"><a href="#cb95-91" aria-hidden="true" tabindex="-1"></a>    set2 <span class="op">=</span> {<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>}</span>
<span id="cb95-92"><a href="#cb95-92" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-93"><a href="#cb95-93" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 交集</span></span>
<span id="cb95-94"><a href="#cb95-94" aria-hidden="true" tabindex="-1"></a>    intersection <span class="op">=</span> set1 <span class="op">&amp;</span> set2</span>
<span id="cb95-95"><a href="#cb95-95" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"交集: </span><span class="sc">{</span>intersection<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb95-96"><a href="#cb95-96" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-97"><a href="#cb95-97" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 差集</span></span>
<span id="cb95-98"><a href="#cb95-98" aria-hidden="true" tabindex="-1"></a>    difference <span class="op">=</span> set1 <span class="op">-</span> set2</span>
<span id="cb95-99"><a href="#cb95-99" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"差集 (set1 - set2): </span><span class="sc">{</span>difference<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb95-100"><a href="#cb95-100" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-101"><a href="#cb95-101" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 對稱差集</span></span>
<span id="cb95-102"><a href="#cb95-102" aria-hidden="true" tabindex="-1"></a>    symmetric_difference <span class="op">=</span> set1 <span class="op">^</span> set2</span>
<span id="cb95-103"><a href="#cb95-103" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"對稱差集: </span><span class="sc">{</span>symmetric_difference<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb95-104"><a href="#cb95-104" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-105"><a href="#cb95-105" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 9. 所有/任意匹配</span></span>
<span id="cb95-106"><a href="#cb95-106" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 檢查是否所有數字都是偶數</span></span>
<span id="cb95-107"><a href="#cb95-107" aria-hidden="true" tabindex="-1"></a>    all_even <span class="op">=</span> <span class="bu">all</span>(x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span> <span class="cf">for</span> x <span class="kw">in</span> numbers)</span>
<span id="cb95-108"><a href="#cb95-108" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"所有數字都是偶數? </span><span class="sc">{</span>all_even<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb95-109"><a href="#cb95-109" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-110"><a href="#cb95-110" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 檢查是否存在偶數</span></span>
<span id="cb95-111"><a href="#cb95-111" aria-hidden="true" tabindex="-1"></a>    any_even <span class="op">=</span> <span class="bu">any</span>(x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span> <span class="cf">for</span> x <span class="kw">in</span> numbers)</span>
<span id="cb95-112"><a href="#cb95-112" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"存在偶數? </span><span class="sc">{</span>any_even<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb95-113"><a href="#cb95-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-114"><a href="#cb95-114" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb95-115"><a href="#cb95-115" aria-hidden="true" tabindex="-1"></a>    collection_operations()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>Python集合操作示例
過濾偶數 (列表推導式): [2, 4, 6, 8, 10]
過濾偶數 (filter): [2, 4, 6, 8, 10]
數字平方 (列表推導式): [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]
數字平方 (map): [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]
總和 (sum): 55
總和 (reduce): 55
按字母順序排序: ['apple', 'banana', 'cherry', 'date', 'elderberry']
按長度排序: ['date', 'apple', 'banana', 'cherry', 'elderberry']
分組結果:
  fruit: ['apple', 'banana', 'cherry']
  vegetable: ['carrot', 'potato']
最小值: 1
最大值: 10
平均值: 5.5
連接列表 (+): [1, 2, 3, 4, 5, 6]
連接列表 (extend): [1, 2, 3, 4, 5, 6]
交集: {4, 5}
差集 (set1 - set2): {1, 2, 3}
對稱差集: {1, 2, 3, 6, 7, 8}
所有數字都是偶數? False
存在偶數? True</code></pre>
</section>
<section id="c-linq與集合操作" class="level4">
<h4 class="anchored" data-anchor-id="c-linq與集合操作">C# LINQ與集合操作</h4>
<div class="sourceCode" id="cb97"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Collections</span><span class="op">.</span><span class="fu">Generic</span><span class="op">;</span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Linq</span><span class="op">;</span></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">CollectionOperations</span><span class="op">()</span></span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"C# LINQ與集合操作示例"</span><span class="op">);</span></span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-11"><a href="#cb97-11" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 1. 過濾操作 (Where)</span></span>
<span id="cb97-12"><a href="#cb97-12" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> numbers <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> <span class="op">{</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">9</span><span class="op">,</span> <span class="dv">10</span> <span class="op">};</span></span>
<span id="cb97-13"><a href="#cb97-13" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-14"><a href="#cb97-14" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用LINQ過濾偶數</span></span>
<span id="cb97-15"><a href="#cb97-15" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> evenNumbers <span class="op">=</span> numbers<span class="op">.</span><span class="fu">Where</span><span class="op">(</span>x <span class="op">=&gt;</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span><span class="op">).</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb97-16"><a href="#cb97-16" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"過濾偶數 (Where): [{string.Join("</span><span class="op">,</span> <span class="st">", evenNumbers)}]"</span><span class="op">);</span></span>
<span id="cb97-17"><a href="#cb97-17" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-18"><a href="#cb97-18" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用LINQ查詢語法</span></span>
<span id="cb97-19"><a href="#cb97-19" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> evenWithQuery <span class="op">=</span> <span class="op">(</span>from n <span class="kw">in</span> numbers where n <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span> select n<span class="op">).</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb97-20"><a href="#cb97-20" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"過濾偶數 (查詢語法): [{string.Join("</span><span class="op">,</span> <span class="st">", evenWithQuery)}]"</span><span class="op">);</span></span>
<span id="cb97-21"><a href="#cb97-21" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-22"><a href="#cb97-22" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 2. 映射操作 (Select)</span></span>
<span id="cb97-23"><a href="#cb97-23" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用LINQ將每個數字平方</span></span>
<span id="cb97-24"><a href="#cb97-24" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> squares <span class="op">=</span> numbers<span class="op">.</span><span class="fu">Select</span><span class="op">(</span>x <span class="op">=&gt;</span> x <span class="op">*</span> x<span class="op">).</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb97-25"><a href="#cb97-25" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"數字平方 (Select): [{string.Join("</span><span class="op">,</span> <span class="st">", squares)}]"</span><span class="op">);</span></span>
<span id="cb97-26"><a href="#cb97-26" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-27"><a href="#cb97-27" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用LINQ查詢語法</span></span>
<span id="cb97-28"><a href="#cb97-28" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> squaresWithQuery <span class="op">=</span> <span class="op">(</span>from n <span class="kw">in</span> numbers select n <span class="op">*</span> n<span class="op">).</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb97-29"><a href="#cb97-29" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"數字平方 (查詢語法): [{string.Join("</span><span class="op">,</span> <span class="st">", squaresWithQuery)}]"</span><span class="op">);</span></span>
<span id="cb97-30"><a href="#cb97-30" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-31"><a href="#cb97-31" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 3. 縮減操作 (Aggregate)</span></span>
<span id="cb97-32"><a href="#cb97-32" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 計算總和</span></span>
<span id="cb97-33"><a href="#cb97-33" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> total <span class="op">=</span> numbers<span class="op">.</span><span class="fu">Sum</span><span class="op">();</span></span>
<span id="cb97-34"><a href="#cb97-34" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"總和 (Sum): {total}"</span><span class="op">);</span></span>
<span id="cb97-35"><a href="#cb97-35" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-36"><a href="#cb97-36" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用Aggregate函數</span></span>
<span id="cb97-37"><a href="#cb97-37" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> totalWithAggregate <span class="op">=</span> numbers<span class="op">.</span><span class="fu">Aggregate</span><span class="op">((</span>a<span class="op">,</span> b<span class="op">)</span> <span class="op">=&gt;</span> a <span class="op">+</span> b<span class="op">);</span></span>
<span id="cb97-38"><a href="#cb97-38" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"總和 (Aggregate): {totalWithAggregate}"</span><span class="op">);</span></span>
<span id="cb97-39"><a href="#cb97-39" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-40"><a href="#cb97-40" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 4. 排序操作 (OrderBy)</span></span>
<span id="cb97-41"><a href="#cb97-41" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> words <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> <span class="op">{</span> <span class="st">"apple"</span><span class="op">,</span> <span class="st">"banana"</span><span class="op">,</span> <span class="st">"cherry"</span><span class="op">,</span> <span class="st">"date"</span><span class="op">,</span> <span class="st">"elderberry"</span> <span class="op">};</span></span>
<span id="cb97-42"><a href="#cb97-42" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-43"><a href="#cb97-43" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 按字母順序排序</span></span>
<span id="cb97-44"><a href="#cb97-44" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> sortedWords <span class="op">=</span> words<span class="op">.</span><span class="fu">OrderBy</span><span class="op">(</span>w <span class="op">=&gt;</span> w<span class="op">).</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb97-45"><a href="#cb97-45" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"按字母順序排序: [{string.Join("</span><span class="op">,</span> <span class="st">", sortedWords)}]"</span><span class="op">);</span></span>
<span id="cb97-46"><a href="#cb97-46" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-47"><a href="#cb97-47" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 按長度排序</span></span>
<span id="cb97-48"><a href="#cb97-48" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> sortedByLength <span class="op">=</span> words<span class="op">.</span><span class="fu">OrderBy</span><span class="op">(</span>w <span class="op">=&gt;</span> w<span class="op">.</span><span class="fu">Length</span><span class="op">).</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb97-49"><a href="#cb97-49" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"按長度排序: [{string.Join("</span><span class="op">,</span> <span class="st">", sortedByLength)}]"</span><span class="op">);</span></span>
<span id="cb97-50"><a href="#cb97-50" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-51"><a href="#cb97-51" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 5. 分組操作 (GroupBy)</span></span>
<span id="cb97-52"><a href="#cb97-52" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> items <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span>Dictionary<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">string</span><span class="op">&gt;&gt;</span></span>
<span id="cb97-53"><a href="#cb97-53" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb97-54"><a href="#cb97-54" aria-hidden="true" tabindex="-1"></a>            <span class="kw">new</span> Dictionary<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">string</span><span class="op">&gt;</span> <span class="op">{</span> <span class="op">{</span><span class="st">"name"</span><span class="op">,</span> <span class="st">"apple"</span><span class="op">},</span> <span class="op">{</span><span class="st">"category"</span><span class="op">,</span> <span class="st">"fruit"</span><span class="op">}</span> <span class="op">},</span></span>
<span id="cb97-55"><a href="#cb97-55" aria-hidden="true" tabindex="-1"></a>            <span class="kw">new</span> Dictionary<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">string</span><span class="op">&gt;</span> <span class="op">{</span> <span class="op">{</span><span class="st">"name"</span><span class="op">,</span> <span class="st">"banana"</span><span class="op">},</span> <span class="op">{</span><span class="st">"category"</span><span class="op">,</span> <span class="st">"fruit"</span><span class="op">}</span> <span class="op">},</span></span>
<span id="cb97-56"><a href="#cb97-56" aria-hidden="true" tabindex="-1"></a>            <span class="kw">new</span> Dictionary<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">string</span><span class="op">&gt;</span> <span class="op">{</span> <span class="op">{</span><span class="st">"name"</span><span class="op">,</span> <span class="st">"carrot"</span><span class="op">},</span> <span class="op">{</span><span class="st">"category"</span><span class="op">,</span> <span class="st">"vegetable"</span><span class="op">}</span> <span class="op">},</span></span>
<span id="cb97-57"><a href="#cb97-57" aria-hidden="true" tabindex="-1"></a>            <span class="kw">new</span> Dictionary<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">string</span><span class="op">&gt;</span> <span class="op">{</span> <span class="op">{</span><span class="st">"name"</span><span class="op">,</span> <span class="st">"potato"</span><span class="op">},</span> <span class="op">{</span><span class="st">"category"</span><span class="op">,</span> <span class="st">"vegetable"</span><span class="op">}</span> <span class="op">},</span></span>
<span id="cb97-58"><a href="#cb97-58" aria-hidden="true" tabindex="-1"></a>            <span class="kw">new</span> Dictionary<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">string</span><span class="op">&gt;</span> <span class="op">{</span> <span class="op">{</span><span class="st">"name"</span><span class="op">,</span> <span class="st">"cherry"</span><span class="op">},</span> <span class="op">{</span><span class="st">"category"</span><span class="op">,</span> <span class="st">"fruit"</span><span class="op">}</span> <span class="op">}</span></span>
<span id="cb97-59"><a href="#cb97-59" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb97-60"><a href="#cb97-60" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-61"><a href="#cb97-61" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用LINQ分組</span></span>
<span id="cb97-62"><a href="#cb97-62" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> groupedItems <span class="op">=</span> items<span class="op">.</span><span class="fu">GroupBy</span><span class="op">(</span></span>
<span id="cb97-63"><a href="#cb97-63" aria-hidden="true" tabindex="-1"></a>            item <span class="op">=&gt;</span> item<span class="op">[</span><span class="st">"category"</span><span class="op">],</span></span>
<span id="cb97-64"><a href="#cb97-64" aria-hidden="true" tabindex="-1"></a>            item <span class="op">=&gt;</span> item<span class="op">[</span><span class="st">"name"</span><span class="op">],</span></span>
<span id="cb97-65"><a href="#cb97-65" aria-hidden="true" tabindex="-1"></a>            <span class="op">(</span>key<span class="op">,</span> g<span class="op">)</span> <span class="op">=&gt;</span> <span class="kw">new</span> <span class="op">{</span> Category <span class="op">=</span> key<span class="op">,</span> Names <span class="op">=</span> g<span class="op">.</span><span class="fu">ToList</span><span class="op">()</span> <span class="op">}</span></span>
<span id="cb97-66"><a href="#cb97-66" aria-hidden="true" tabindex="-1"></a>        <span class="op">);</span></span>
<span id="cb97-67"><a href="#cb97-67" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-68"><a href="#cb97-68" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"分組結果:"</span><span class="op">);</span></span>
<span id="cb97-69"><a href="#cb97-69" aria-hidden="true" tabindex="-1"></a>        <span class="kw">foreach</span> <span class="op">(</span><span class="dt">var</span> group <span class="kw">in</span> groupedItems<span class="op">)</span></span>
<span id="cb97-70"><a href="#cb97-70" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb97-71"><a href="#cb97-71" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"  {group.Category}: [{string.Join("</span><span class="op">,</span> <span class="st">", group.Names)}]"</span><span class="op">);</span></span>
<span id="cb97-72"><a href="#cb97-72" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb97-73"><a href="#cb97-73" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-74"><a href="#cb97-74" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 6. 聚合操作</span></span>
<span id="cb97-75"><a href="#cb97-75" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"最小值: {numbers.Min()}"</span><span class="op">);</span></span>
<span id="cb97-76"><a href="#cb97-76" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"最大值: {numbers.Max()}"</span><span class="op">);</span></span>
<span id="cb97-77"><a href="#cb97-77" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"平均值: {numbers.Average()}"</span><span class="op">);</span></span>
<span id="cb97-78"><a href="#cb97-78" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-79"><a href="#cb97-79" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 7. 連接操作 (Concat)</span></span>
<span id="cb97-80"><a href="#cb97-80" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> list1 <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> <span class="op">{</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span> <span class="op">};</span></span>
<span id="cb97-81"><a href="#cb97-81" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> list2 <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> <span class="op">{</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span> <span class="op">};</span></span>
<span id="cb97-82"><a href="#cb97-82" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-83"><a href="#cb97-83" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用Concat方法</span></span>
<span id="cb97-84"><a href="#cb97-84" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> concatenated <span class="op">=</span> list1<span class="op">.</span><span class="fu">Concat</span><span class="op">(</span>list2<span class="op">).</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb97-85"><a href="#cb97-85" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"連接列表 (Concat): [{string.Join("</span><span class="op">,</span> <span class="st">", concatenated)}]"</span><span class="op">);</span></span>
<span id="cb97-86"><a href="#cb97-86" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-87"><a href="#cb97-87" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用Union (不去重)</span></span>
<span id="cb97-88"><a href="#cb97-88" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> union <span class="op">=</span> list1<span class="op">.</span><span class="fu">Union</span><span class="op">(</span>list2<span class="op">).</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb97-89"><a href="#cb97-89" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"聯合列表 (Union): [{string.Join("</span><span class="op">,</span> <span class="st">", union)}]"</span><span class="op">);</span></span>
<span id="cb97-90"><a href="#cb97-90" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-91"><a href="#cb97-91" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 8. 交集和差集操作</span></span>
<span id="cb97-92"><a href="#cb97-92" aria-hidden="true" tabindex="-1"></a>        HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> set1 <span class="op">=</span> <span class="kw">new</span> HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> <span class="op">{</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span> <span class="op">};</span></span>
<span id="cb97-93"><a href="#cb97-93" aria-hidden="true" tabindex="-1"></a>        HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> set2 <span class="op">=</span> <span class="kw">new</span> HashSet<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> <span class="op">{</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">8</span> <span class="op">};</span></span>
<span id="cb97-94"><a href="#cb97-94" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-95"><a href="#cb97-95" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用LINQ的Intersect</span></span>
<span id="cb97-96"><a href="#cb97-96" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> intersection <span class="op">=</span> set1<span class="op">.</span><span class="fu">Intersect</span><span class="op">(</span>set2<span class="op">).</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb97-97"><a href="#cb97-97" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"交集: [{string.Join("</span><span class="op">,</span> <span class="st">", intersection)}]"</span><span class="op">);</span></span>
<span id="cb97-98"><a href="#cb97-98" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-99"><a href="#cb97-99" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用LINQ的Except</span></span>
<span id="cb97-100"><a href="#cb97-100" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> difference <span class="op">=</span> set1<span class="op">.</span><span class="fu">Except</span><span class="op">(</span>set2<span class="op">).</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb97-101"><a href="#cb97-101" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"差集 (set1 - set2): [{string.Join("</span><span class="op">,</span> <span class="st">", difference)}]"</span><span class="op">);</span></span>
<span id="cb97-102"><a href="#cb97-102" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-103"><a href="#cb97-103" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 對稱差集</span></span>
<span id="cb97-104"><a href="#cb97-104" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> symmetricDifference <span class="op">=</span> set1<span class="op">.</span><span class="fu">Except</span><span class="op">(</span>set2<span class="op">).</span><span class="fu">Concat</span><span class="op">(</span>set2<span class="op">.</span><span class="fu">Except</span><span class="op">(</span>set1<span class="op">)).</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb97-105"><a href="#cb97-105" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"對稱差集: [{string.Join("</span><span class="op">,</span> <span class="st">", symmetricDifference)}]"</span><span class="op">);</span></span>
<span id="cb97-106"><a href="#cb97-106" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-107"><a href="#cb97-107" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 9. 所有/任意匹配 (All/Any)</span></span>
<span id="cb97-108"><a href="#cb97-108" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 檢查是否所有數字都是偶數</span></span>
<span id="cb97-109"><a href="#cb97-109" aria-hidden="true" tabindex="-1"></a>        <span class="dt">bool</span> allEven <span class="op">=</span> numbers<span class="op">.</span><span class="fu">All</span><span class="op">(</span>x <span class="op">=&gt;</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb97-110"><a href="#cb97-110" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"所有數字都是偶數? {allEven}"</span><span class="op">);</span></span>
<span id="cb97-111"><a href="#cb97-111" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-112"><a href="#cb97-112" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 檢查是否存在偶數</span></span>
<span id="cb97-113"><a href="#cb97-113" aria-hidden="true" tabindex="-1"></a>        <span class="dt">bool</span> anyEven <span class="op">=</span> numbers<span class="op">.</span><span class="fu">Any</span><span class="op">(</span>x <span class="op">=&gt;</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb97-114"><a href="#cb97-114" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"存在偶數? {anyEven}"</span><span class="op">);</span></span>
<span id="cb97-115"><a href="#cb97-115" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-116"><a href="#cb97-116" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 10. 其他LINQ操作</span></span>
<span id="cb97-117"><a href="#cb97-117" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-118"><a href="#cb97-118" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Take - 獲取前N個元素</span></span>
<span id="cb97-119"><a href="#cb97-119" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> firstThree <span class="op">=</span> numbers<span class="op">.</span><span class="fu">Take</span><span class="op">(</span><span class="dv">3</span><span class="op">).</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb97-120"><a href="#cb97-120" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"前三個元素: [{string.Join("</span><span class="op">,</span> <span class="st">", firstThree)}]"</span><span class="op">);</span></span>
<span id="cb97-121"><a href="#cb97-121" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-122"><a href="#cb97-122" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Skip - 跳過前N個元素</span></span>
<span id="cb97-123"><a href="#cb97-123" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> skipFirst <span class="op">=</span> numbers<span class="op">.</span><span class="fu">Skip</span><span class="op">(</span><span class="dv">3</span><span class="op">).</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb97-124"><a href="#cb97-124" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"跳過前三個元素: [{string.Join("</span><span class="op">,</span> <span class="st">", skipFirst)}]"</span><span class="op">);</span></span>
<span id="cb97-125"><a href="#cb97-125" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-126"><a href="#cb97-126" aria-hidden="true" tabindex="-1"></a>        <span class="co">// First/FirstOrDefault - 獲取第一個匹配元素</span></span>
<span id="cb97-127"><a href="#cb97-127" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> firstEven <span class="op">=</span> numbers<span class="op">.</span><span class="fu">First</span><span class="op">(</span>x <span class="op">=&gt;</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb97-128"><a href="#cb97-128" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"第一個偶數: {firstEven}"</span><span class="op">);</span></span>
<span id="cb97-129"><a href="#cb97-129" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-130"><a href="#cb97-130" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Last/LastOrDefault - 獲取最後一個匹配元素</span></span>
<span id="cb97-131"><a href="#cb97-131" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> lastEven <span class="op">=</span> numbers<span class="op">.</span><span class="fu">Last</span><span class="op">(</span>x <span class="op">=&gt;</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb97-132"><a href="#cb97-132" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"最後一個偶數: {lastEven}"</span><span class="op">);</span></span>
<span id="cb97-133"><a href="#cb97-133" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-134"><a href="#cb97-134" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Single/SingleOrDefault - 獲取唯一匹配元素</span></span>
<span id="cb97-135"><a href="#cb97-135" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> onlyFive <span class="op">=</span> numbers<span class="op">.</span><span class="fu">Single</span><span class="op">(</span>x <span class="op">=&gt;</span> x <span class="op">==</span> <span class="dv">5</span><span class="op">);</span></span>
<span id="cb97-136"><a href="#cb97-136" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"唯一的5: {onlyFive}"</span><span class="op">);</span></span>
<span id="cb97-137"><a href="#cb97-137" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-138"><a href="#cb97-138" aria-hidden="true" tabindex="-1"></a>        <span class="co">// ElementAt - 獲取指定索引的元素</span></span>
<span id="cb97-139"><a href="#cb97-139" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> thirdElement <span class="op">=</span> numbers<span class="op">.</span><span class="fu">ElementAt</span><span class="op">(</span><span class="dv">2</span><span class="op">);</span></span>
<span id="cb97-140"><a href="#cb97-140" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"第三個元素 (索引2): {thirdElement}"</span><span class="op">);</span></span>
<span id="cb97-141"><a href="#cb97-141" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb97-142"><a href="#cb97-142" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Count - 計數</span></span>
<span id="cb97-143"><a href="#cb97-143" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> evenCount <span class="op">=</span> numbers<span class="op">.</span><span class="fu">Count</span><span class="op">(</span>x <span class="op">=&gt;</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb97-144"><a href="#cb97-144" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"偶數的數量: {evenCount}"</span><span class="op">);</span></span>
<span id="cb97-145"><a href="#cb97-145" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb97-146"><a href="#cb97-146" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb97-147"><a href="#cb97-147" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb97-148"><a href="#cb97-148" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb97-149"><a href="#cb97-149" aria-hidden="true" tabindex="-1"></a>        <span class="fu">CollectionOperations</span><span class="op">();</span></span>
<span id="cb97-150"><a href="#cb97-150" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb97-151"><a href="#cb97-151" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>C# LINQ與集合操作示例
過濾偶數 (Where): [2, 4, 6, 8, 10]
過濾偶數 (查詢語法): [2, 4, 6, 8, 10]
數字平方 (Select): [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]
數字平方 (查詢語法): [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]
總和 (Sum): 55
總和 (Aggregate): 55
按字母順序排序: [apple, banana, cherry, date, elderberry]
按長度排序: [date, apple, banana, cherry, elderberry]
分組結果:
  fruit: [apple, banana, cherry]
  vegetable: [carrot, potato]
最小值: 1
最大值: 10
平均值: 5.5
連接列表 (Concat): [1, 2, 3, 4, 5, 6]
聯合列表 (Union): [1, 2, 3, 4, 5, 6]
交集: [4, 5]
差集 (set1 - set2): [1, 2, 3]
對稱差集: [1, 2, 3, 6, 7, 8]
所有數字都是偶數? False
存在偶數? True
前三個元素: [1, 2, 3]
跳過前三個元素: [4, 5, 6, 7, 8, 9, 10]
第一個偶數: 2
最後一個偶數: 10
唯一的5: 5
第三個元素 (索引2): 3
偶數的數量: 5</code></pre>
</section>
</section>
<section id="python集合操作與c-linq比較" class="level3">
<h3 class="anchored" data-anchor-id="python集合操作與c-linq比較">Python集合操作與C# LINQ比較</h3>
<p>Python和C#都提供了豐富的集合操作功能，但C#的LINQ（Language Integrated Query）提供了更統一和一致的查詢語法。以下是兩種語言在集合操作方面的主要比較：</p>
<section id="相似之處-1" class="level4">
<h4 class="anchored" data-anchor-id="相似之處-1">相似之處</h4>
<ol type="1">
<li><strong>功能覆蓋</strong>: 兩種語言都提供了過濾、映射、排序、分組和聚合等基本集合操作。</li>
<li><strong>鏈式調用</strong>: 兩種語言都支持操作的鏈式調用（Python通過函數式編程，C#通過LINQ方法）。</li>
<li><strong>延遲執行</strong>: 兩種語言都支持延遲執行（Python的迭代器，C#的LINQ查詢）。</li>
</ol>
</section>
<section id="差異之處-1" class="level4">
<h4 class="anchored" data-anchor-id="差異之處-1">差異之處</h4>
<ol type="1">
<li><strong>語法整合</strong>:
<ul>
<li>C#的LINQ是語言級別的特性，提供了方法鏈和查詢表達式兩種語法。</li>
<li>Python主要通過內置函數、列表推導式和標準庫模塊實現類似功能。</li>
</ul></li>
<li><strong>API一致性</strong>:
<ul>
<li>C#的LINQ提供了一套統一的API操作各種集合。</li>
<li>Python的集合操作分散在不同的函數和方法中（如<code>map</code>、<code>filter</code>、列表推導式等）。</li>
</ul></li>
<li><strong>查詢表達式</strong>:
<ul>
<li>C#提供了類似SQL的查詢表達式語法。</li>
<li>Python沒有內置的查詢語言，但可以通過第三方庫（如pandas）實現類似功能。</li>
</ul></li>
<li><strong>方法命名</strong>:
<ul>
<li>C#: <code>Where</code>、<code>Select</code>、<code>OrderBy</code>、<code>GroupBy</code>等。</li>
<li>Python: <code>filter</code>、<code>map</code>、<code>sorted</code>等加上列表推導式。</li>
</ul></li>
<li><strong>專用操作</strong>:
<ul>
<li>C#的LINQ有豐富的專用操作，如<code>Take</code>、<code>Skip</code>、<code>First</code>、<code>Single</code>等。</li>
<li>Python需要通過切片或自定義函數實現這些操作。</li>
</ul></li>
</ol>
</section>
</section>
</section>
<section id="事件與委託" class="level2">
<h2 class="anchored" data-anchor-id="事件與委託">事件與委託</h2>
<section id="python中的事件模式" class="level3">
<h3 class="anchored" data-anchor-id="python中的事件模式">Python中的事件模式</h3>
<p>Python沒有內置的事件處理機制，但可以通過多種方式實現類似的功能：</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 方法1: 使用回調函數</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> callback_example():</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">回調函數示例:"</span>)</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> process_data(data, callback):</span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>        result <span class="op">=</span> data.upper()  <span class="co"># 處理數據</span></span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a>        callback(result)  <span class="co"># 調用回調函數</span></span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> on_data_processed(result):</span>
<span id="cb99-10"><a href="#cb99-10" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"數據處理完成: </span><span class="sc">{</span>result<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb99-11"><a href="#cb99-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb99-12"><a href="#cb99-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 使用回調函數</span></span>
<span id="cb99-13"><a href="#cb99-13" aria-hidden="true" tabindex="-1"></a>    process_data(<span class="st">"hello world"</span>, on_data_processed)</span>
<span id="cb99-14"><a href="#cb99-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-15"><a href="#cb99-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 方法2: 使用函數作為一等公民</span></span>
<span id="cb99-16"><a href="#cb99-16" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> first_class_functions():</span>
<span id="cb99-17"><a href="#cb99-17" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">函數作為一等公民示例:"</span>)</span>
<span id="cb99-18"><a href="#cb99-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb99-19"><a href="#cb99-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 定義事件處理器</span></span>
<span id="cb99-20"><a href="#cb99-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> on_event(message):</span>
<span id="cb99-21"><a href="#cb99-21" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"事件觸發: </span><span class="sc">{</span>message<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb99-22"><a href="#cb99-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb99-23"><a href="#cb99-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 調用事件處理器</span></span>
<span id="cb99-24"><a href="#cb99-24" aria-hidden="true" tabindex="-1"></a>    event_handlers <span class="op">=</span> [on_event]</span>
<span id="cb99-25"><a href="#cb99-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb99-26"><a href="#cb99-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 觸發事件</span></span>
<span id="cb99-27"><a href="#cb99-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> handler <span class="kw">in</span> event_handlers:</span>
<span id="cb99-28"><a href="#cb99-28" aria-hidden="true" tabindex="-1"></a>        handler(<span class="st">"按鈕被點擊"</span>)</span>
<span id="cb99-29"><a href="#cb99-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-30"><a href="#cb99-30" aria-hidden="true" tabindex="-1"></a><span class="co"># 方法3: 使用類實現自定義事件系統</span></span>
<span id="cb99-31"><a href="#cb99-31" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> EventEmitter:</span>
<span id="cb99-32"><a href="#cb99-32" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb99-33"><a href="#cb99-33" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>._events <span class="op">=</span> {}</span>
<span id="cb99-34"><a href="#cb99-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb99-35"><a href="#cb99-35" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> on(<span class="va">self</span>, event_name, callback):</span>
<span id="cb99-36"><a href="#cb99-36" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""註冊事件處理器"""</span></span>
<span id="cb99-37"><a href="#cb99-37" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> event_name <span class="kw">not</span> <span class="kw">in</span> <span class="va">self</span>._events:</span>
<span id="cb99-38"><a href="#cb99-38" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>._events[event_name] <span class="op">=</span> []</span>
<span id="cb99-39"><a href="#cb99-39" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>._events[event_name].append(callback)</span>
<span id="cb99-40"><a href="#cb99-40" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb99-41"><a href="#cb99-41" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> emit(<span class="va">self</span>, event_name, <span class="op">*</span>args, <span class="op">**</span>kwargs):</span>
<span id="cb99-42"><a href="#cb99-42" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""觸發事件"""</span></span>
<span id="cb99-43"><a href="#cb99-43" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> event_name <span class="kw">in</span> <span class="va">self</span>._events:</span>
<span id="cb99-44"><a href="#cb99-44" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> callback <span class="kw">in</span> <span class="va">self</span>._events[event_name]:</span>
<span id="cb99-45"><a href="#cb99-45" aria-hidden="true" tabindex="-1"></a>                callback(<span class="op">*</span>args, <span class="op">**</span>kwargs)</span>
<span id="cb99-46"><a href="#cb99-46" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb99-47"><a href="#cb99-47" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> remove_listener(<span class="va">self</span>, event_name, callback):</span>
<span id="cb99-48"><a href="#cb99-48" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""移除事件處理器"""</span></span>
<span id="cb99-49"><a href="#cb99-49" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> event_name <span class="kw">in</span> <span class="va">self</span>._events:</span>
<span id="cb99-50"><a href="#cb99-50" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>._events[event_name].remove(callback)</span>
<span id="cb99-51"><a href="#cb99-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-52"><a href="#cb99-52" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> custom_event_system():</span>
<span id="cb99-53"><a href="#cb99-53" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">自定義事件系統示例:"</span>)</span>
<span id="cb99-54"><a href="#cb99-54" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb99-55"><a href="#cb99-55" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 創建事件發射器</span></span>
<span id="cb99-56"><a href="#cb99-56" aria-hidden="true" tabindex="-1"></a>    emitter <span class="op">=</span> EventEmitter()</span>
<span id="cb99-57"><a href="#cb99-57" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb99-58"><a href="#cb99-58" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 定義事件處理器</span></span>
<span id="cb99-59"><a href="#cb99-59" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> on_message(message):</span>
<span id="cb99-60"><a href="#cb99-60" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"收到消息: </span><span class="sc">{</span>message<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb99-61"><a href="#cb99-61" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb99-62"><a href="#cb99-62" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> on_error(error_code, error_message):</span>
<span id="cb99-63"><a href="#cb99-63" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"發生錯誤 (</span><span class="sc">{</span>error_code<span class="sc">}</span><span class="ss">): </span><span class="sc">{</span>error_message<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb99-64"><a href="#cb99-64" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb99-65"><a href="#cb99-65" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 註冊事件處理器</span></span>
<span id="cb99-66"><a href="#cb99-66" aria-hidden="true" tabindex="-1"></a>    emitter.on(<span class="st">"message"</span>, on_message)</span>
<span id="cb99-67"><a href="#cb99-67" aria-hidden="true" tabindex="-1"></a>    emitter.on(<span class="st">"error"</span>, on_error)</span>
<span id="cb99-68"><a href="#cb99-68" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb99-69"><a href="#cb99-69" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 觸發事件</span></span>
<span id="cb99-70"><a href="#cb99-70" aria-hidden="true" tabindex="-1"></a>    emitter.emit(<span class="st">"message"</span>, <span class="st">"Hello, World!"</span>)</span>
<span id="cb99-71"><a href="#cb99-71" aria-hidden="true" tabindex="-1"></a>    emitter.emit(<span class="st">"error"</span>, <span class="dv">404</span>, <span class="st">"Not Found"</span>)</span>
<span id="cb99-72"><a href="#cb99-72" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb99-73"><a href="#cb99-73" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 移除事件處理器</span></span>
<span id="cb99-74"><a href="#cb99-74" aria-hidden="true" tabindex="-1"></a>    emitter.remove_listener(<span class="st">"message"</span>, on_message)</span>
<span id="cb99-75"><a href="#cb99-75" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb99-76"><a href="#cb99-76" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 再次觸發事件（不會被處理）</span></span>
<span id="cb99-77"><a href="#cb99-77" aria-hidden="true" tabindex="-1"></a>    emitter.emit(<span class="st">"message"</span>, <span class="st">"這條消息不會被處理"</span>)</span>
<span id="cb99-78"><a href="#cb99-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-79"><a href="#cb99-79" aria-hidden="true" tabindex="-1"></a><span class="co"># 方法4: 使用內置的Signal/Slot機制 (例如PyQt)</span></span>
<span id="cb99-80"><a href="#cb99-80" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> signal_slot_example():</span>
<span id="cb99-81"><a href="#cb99-81" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Signal/Slot機制示例（需要PyQt）:"</span>)</span>
<span id="cb99-82"><a href="#cb99-82" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb99-83"><a href="#cb99-83" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb99-84"><a href="#cb99-84" aria-hidden="true" tabindex="-1"></a>        <span class="im">from</span> PyQt5.QtCore <span class="im">import</span> QObject, pyqtSignal</span>
<span id="cb99-85"><a href="#cb99-85" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb99-86"><a href="#cb99-86" aria-hidden="true" tabindex="-1"></a>        <span class="kw">class</span> Communicator(QObject):</span>
<span id="cb99-87"><a href="#cb99-87" aria-hidden="true" tabindex="-1"></a>            signal <span class="op">=</span> pyqtSignal(<span class="bu">str</span>)  <span class="co"># 定義信號</span></span>
<span id="cb99-88"><a href="#cb99-88" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb99-89"><a href="#cb99-89" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> on_signal(message):</span>
<span id="cb99-90"><a href="#cb99-90" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"信號處理: </span><span class="sc">{</span>message<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb99-91"><a href="#cb99-91" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb99-92"><a href="#cb99-92" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 創建通信器</span></span>
<span id="cb99-93"><a href="#cb99-93" aria-hidden="true" tabindex="-1"></a>        communicator <span class="op">=</span> Communicator()</span>
<span id="cb99-94"><a href="#cb99-94" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb99-95"><a href="#cb99-95" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 連接信號到槽</span></span>
<span id="cb99-96"><a href="#cb99-96" aria-hidden="true" tabindex="-1"></a>        communicator.signal.<span class="ex">connect</span>(on_signal)</span>
<span id="cb99-97"><a href="#cb99-97" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb99-98"><a href="#cb99-98" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 發射信號</span></span>
<span id="cb99-99"><a href="#cb99-99" aria-hidden="true" tabindex="-1"></a>        communicator.signal.emit(<span class="st">"Hello from PyQt!"</span>)</span>
<span id="cb99-100"><a href="#cb99-100" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb99-101"><a href="#cb99-101" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ImportError</span>:</span>
<span id="cb99-102"><a href="#cb99-102" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"需要安裝PyQt才能運行此示例"</span>)</span>
<span id="cb99-103"><a href="#cb99-103" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"可以使用以下命令安裝: pip install PyQt5"</span>)</span>
<span id="cb99-104"><a href="#cb99-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-105"><a href="#cb99-105" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb99-106"><a href="#cb99-106" aria-hidden="true" tabindex="-1"></a>    callback_example()</span>
<span id="cb99-107"><a href="#cb99-107" aria-hidden="true" tabindex="-1"></a>    first_class_functions()</span>
<span id="cb99-108"><a href="#cb99-108" aria-hidden="true" tabindex="-1"></a>    custom_event_system()</span>
<span id="cb99-109"><a href="#cb99-109" aria-hidden="true" tabindex="-1"></a>    signal_slot_example()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>回調函數示例:
數據處理完成: HELLO WORLD

函數作為一等公民示例:
事件觸發: 按鈕被點擊

自定義事件系統示例:
收到消息: Hello, World!
發生錯誤 (404): Not Found

Signal/Slot機制示例（需要PyQt）:
需要安裝PyQt才能運行此示例
可以使用以下命令安裝: pip install PyQt5</code></pre>
</section>
<section id="c的委託與事件" class="level3">
<h3 class="anchored" data-anchor-id="c的委託與事件">C#的委託與事件</h3>
<p>C#提供了內建的委託（Delegate）和事件（Event）機制，使事件處理更加標準化和強類型化：</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Collections</span><span class="op">.</span><span class="fu">Generic</span><span class="op">;</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 示例1: 基本委託</span></span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">DelegateExample</span><span class="op">()</span></span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">基本委託示例:"</span><span class="op">);</span></span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-11"><a href="#cb101-11" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 定義委託類型</span></span>
<span id="cb101-12"><a href="#cb101-12" aria-hidden="true" tabindex="-1"></a>        <span class="kw">delegate</span> <span class="dt">void</span> <span class="fu">MessageHandler</span><span class="op">(</span><span class="dt">string</span> message<span class="op">);</span></span>
<span id="cb101-13"><a href="#cb101-13" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-14"><a href="#cb101-14" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 創建委託實例</span></span>
<span id="cb101-15"><a href="#cb101-15" aria-hidden="true" tabindex="-1"></a>        MessageHandler handler <span class="op">=</span> <span class="op">(</span>message<span class="op">)</span> <span class="op">=&gt;</span> <span class="op">{</span></span>
<span id="cb101-16"><a href="#cb101-16" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"處理消息: {message}"</span><span class="op">);</span></span>
<span id="cb101-17"><a href="#cb101-17" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb101-18"><a href="#cb101-18" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-19"><a href="#cb101-19" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 調用委託</span></span>
<span id="cb101-20"><a href="#cb101-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">handler</span><span class="op">(</span><span class="st">"Hello World"</span><span class="op">);</span></span>
<span id="cb101-21"><a href="#cb101-21" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-22"><a href="#cb101-22" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 多播委託</span></span>
<span id="cb101-23"><a href="#cb101-23" aria-hidden="true" tabindex="-1"></a>        MessageHandler handler2 <span class="op">=</span> <span class="op">(</span>message<span class="op">)</span> <span class="op">=&gt;</span> <span class="op">{</span></span>
<span id="cb101-24"><a href="#cb101-24" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"另一個處理器: {message}"</span><span class="op">);</span></span>
<span id="cb101-25"><a href="#cb101-25" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb101-26"><a href="#cb101-26" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-27"><a href="#cb101-27" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 組合委託</span></span>
<span id="cb101-28"><a href="#cb101-28" aria-hidden="true" tabindex="-1"></a>        MessageHandler multiHandler <span class="op">=</span> handler <span class="op">+</span> handler2<span class="op">;</span></span>
<span id="cb101-29"><a href="#cb101-29" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-30"><a href="#cb101-30" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 調用多播委託</span></span>
<span id="cb101-31"><a href="#cb101-31" aria-hidden="true" tabindex="-1"></a>        <span class="fu">multiHandler</span><span class="op">(</span><span class="st">"多播消息"</span><span class="op">);</span></span>
<span id="cb101-32"><a href="#cb101-32" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb101-33"><a href="#cb101-33" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb101-34"><a href="#cb101-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 示例2: 預定義委託類型</span></span>
<span id="cb101-35"><a href="#cb101-35" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">PredefinedDelegates</span><span class="op">()</span></span>
<span id="cb101-36"><a href="#cb101-36" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb101-37"><a href="#cb101-37" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">預定義委託類型示例:"</span><span class="op">);</span></span>
<span id="cb101-38"><a href="#cb101-38" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-39"><a href="#cb101-39" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Action - 無返回值的委託</span></span>
<span id="cb101-40"><a href="#cb101-40" aria-hidden="true" tabindex="-1"></a>        Action<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> printMessage <span class="op">=</span> <span class="op">(</span>message<span class="op">)</span> <span class="op">=&gt;</span> <span class="op">{</span></span>
<span id="cb101-41"><a href="#cb101-41" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"Action: {message}"</span><span class="op">);</span></span>
<span id="cb101-42"><a href="#cb101-42" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb101-43"><a href="#cb101-43" aria-hidden="true" tabindex="-1"></a>        <span class="fu">printMessage</span><span class="op">(</span><span class="st">"Hello from Action"</span><span class="op">);</span></span>
<span id="cb101-44"><a href="#cb101-44" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-45"><a href="#cb101-45" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Func - 有返回值的委託</span></span>
<span id="cb101-46"><a href="#cb101-46" aria-hidden="true" tabindex="-1"></a>        Func<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> add <span class="op">=</span> <span class="op">(</span>a<span class="op">,</span> b<span class="op">)</span> <span class="op">=&gt;</span> a <span class="op">+</span> b<span class="op">;</span></span>
<span id="cb101-47"><a href="#cb101-47" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> result <span class="op">=</span> <span class="fu">add</span><span class="op">(</span><span class="dv">5</span><span class="op">,</span> <span class="dv">3</span><span class="op">);</span></span>
<span id="cb101-48"><a href="#cb101-48" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"Func: 5 + 3 = {result}"</span><span class="op">);</span></span>
<span id="cb101-49"><a href="#cb101-49" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-50"><a href="#cb101-50" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Predicate - 返回布爾值的委託</span></span>
<span id="cb101-51"><a href="#cb101-51" aria-hidden="true" tabindex="-1"></a>        Predicate<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> isEven <span class="op">=</span> <span class="op">(</span>n<span class="op">)</span> <span class="op">=&gt;</span> n <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb101-52"><a href="#cb101-52" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"Predicate: 10是偶數? {isEven(10)}"</span><span class="op">);</span></span>
<span id="cb101-53"><a href="#cb101-53" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-54"><a href="#cb101-54" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 在集合操作中使用委託</span></span>
<span id="cb101-55"><a href="#cb101-55" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> numbers <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> <span class="op">{</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">9</span><span class="op">,</span> <span class="dv">10</span> <span class="op">};</span></span>
<span id="cb101-56"><a href="#cb101-56" aria-hidden="true" tabindex="-1"></a>        List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> evenNumbers <span class="op">=</span> numbers<span class="op">.</span><span class="fu">FindAll</span><span class="op">(</span>isEven<span class="op">);</span></span>
<span id="cb101-57"><a href="#cb101-57" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"偶數: [{string.Join("</span><span class="op">,</span> <span class="st">", evenNumbers)}]"</span><span class="op">);</span></span>
<span id="cb101-58"><a href="#cb101-58" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb101-59"><a href="#cb101-59" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb101-60"><a href="#cb101-60" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 示例3: 事件 - 自定義事件參數</span></span>
<span id="cb101-61"><a href="#cb101-61" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 定義事件參數類</span></span>
<span id="cb101-62"><a href="#cb101-62" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">class</span> MessageEventArgs <span class="op">:</span> EventArgs</span>
<span id="cb101-63"><a href="#cb101-63" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb101-64"><a href="#cb101-64" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">string</span> Message <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb101-65"><a href="#cb101-65" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> DateTime Timestamp <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb101-66"><a href="#cb101-66" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-67"><a href="#cb101-67" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="fu">MessageEventArgs</span><span class="op">(</span><span class="dt">string</span> message<span class="op">)</span></span>
<span id="cb101-68"><a href="#cb101-68" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb101-69"><a href="#cb101-69" aria-hidden="true" tabindex="-1"></a>            Message <span class="op">=</span> message<span class="op">;</span></span>
<span id="cb101-70"><a href="#cb101-70" aria-hidden="true" tabindex="-1"></a>            Timestamp <span class="op">=</span> DateTime<span class="op">.</span><span class="fu">Now</span><span class="op">;</span></span>
<span id="cb101-71"><a href="#cb101-71" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb101-72"><a href="#cb101-72" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb101-73"><a href="#cb101-73" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb101-74"><a href="#cb101-74" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 定義發布者類</span></span>
<span id="cb101-75"><a href="#cb101-75" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">class</span> Publisher</span>
<span id="cb101-76"><a href="#cb101-76" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb101-77"><a href="#cb101-77" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 聲明事件(使用EventHandler&lt;T&gt;委託)</span></span>
<span id="cb101-78"><a href="#cb101-78" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">event</span> EventHandler<span class="op">&lt;</span>MessageEventArgs<span class="op">&gt;</span> MessageReceived<span class="op">;</span></span>
<span id="cb101-79"><a href="#cb101-79" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-80"><a href="#cb101-80" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 觸發事件的方法</span></span>
<span id="cb101-81"><a href="#cb101-81" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">void</span> <span class="fu">PublishMessage</span><span class="op">(</span><span class="dt">string</span> message<span class="op">)</span></span>
<span id="cb101-82"><a href="#cb101-82" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb101-83"><a href="#cb101-83" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"發布消息: {message}"</span><span class="op">);</span></span>
<span id="cb101-84"><a href="#cb101-84" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb101-85"><a href="#cb101-85" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 安全地觸發事件</span></span>
<span id="cb101-86"><a href="#cb101-86" aria-hidden="true" tabindex="-1"></a>            MessageReceived<span class="op">?.</span><span class="fu">Invoke</span><span class="op">(</span><span class="kw">this</span><span class="op">,</span> <span class="kw">new</span> <span class="fu">MessageEventArgs</span><span class="op">(</span>message<span class="op">));</span></span>
<span id="cb101-87"><a href="#cb101-87" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb101-88"><a href="#cb101-88" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb101-89"><a href="#cb101-89" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb101-90"><a href="#cb101-90" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 示例使用</span></span>
<span id="cb101-91"><a href="#cb101-91" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">CustomEventExample</span><span class="op">()</span></span>
<span id="cb101-92"><a href="#cb101-92" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb101-93"><a href="#cb101-93" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">自定義事件示例:"</span><span class="op">);</span></span>
<span id="cb101-94"><a href="#cb101-94" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-95"><a href="#cb101-95" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 創建發布者</span></span>
<span id="cb101-96"><a href="#cb101-96" aria-hidden="true" tabindex="-1"></a>        Publisher publisher <span class="op">=</span> <span class="kw">new</span> <span class="fu">Publisher</span><span class="op">();</span></span>
<span id="cb101-97"><a href="#cb101-97" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-98"><a href="#cb101-98" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 訂閱事件</span></span>
<span id="cb101-99"><a href="#cb101-99" aria-hidden="true" tabindex="-1"></a>        publisher<span class="op">.</span><span class="fu">MessageReceived</span> <span class="op">+=</span> <span class="op">(</span>sender<span class="op">,</span> e<span class="op">)</span> <span class="op">=&gt;</span> <span class="op">{</span></span>
<span id="cb101-100"><a href="#cb101-100" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"收到消息: {e.Message} (時間: {e.Timestamp})"</span><span class="op">);</span></span>
<span id="cb101-101"><a href="#cb101-101" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb101-102"><a href="#cb101-102" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-103"><a href="#cb101-103" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 再添加一個訂閱者</span></span>
<span id="cb101-104"><a href="#cb101-104" aria-hidden="true" tabindex="-1"></a>        publisher<span class="op">.</span><span class="fu">MessageReceived</span> <span class="op">+=</span> <span class="op">(</span>sender<span class="op">,</span> e<span class="op">)</span> <span class="op">=&gt;</span> <span class="op">{</span></span>
<span id="cb101-105"><a href="#cb101-105" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"記錄消息: {e.Message}"</span><span class="op">);</span></span>
<span id="cb101-106"><a href="#cb101-106" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb101-107"><a href="#cb101-107" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-108"><a href="#cb101-108" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 發布消息</span></span>
<span id="cb101-109"><a href="#cb101-109" aria-hidden="true" tabindex="-1"></a>        publisher<span class="op">.</span><span class="fu">PublishMessage</span><span class="op">(</span><span class="st">"Hello from C# Events!"</span><span class="op">);</span></span>
<span id="cb101-110"><a href="#cb101-110" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb101-111"><a href="#cb101-111" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb101-112"><a href="#cb101-112" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 示例4: 標準事件模式</span></span>
<span id="cb101-113"><a href="#cb101-113" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">class</span> Button</span>
<span id="cb101-114"><a href="#cb101-114" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb101-115"><a href="#cb101-115" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 標準事件模式</span></span>
<span id="cb101-116"><a href="#cb101-116" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">event</span> EventHandler Click<span class="op">;</span></span>
<span id="cb101-117"><a href="#cb101-117" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-118"><a href="#cb101-118" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 模擬按鈕點擊</span></span>
<span id="cb101-119"><a href="#cb101-119" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">void</span> <span class="fu">PerformClick</span><span class="op">()</span></span>
<span id="cb101-120"><a href="#cb101-120" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb101-121"><a href="#cb101-121" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"按鈕被點擊"</span><span class="op">);</span></span>
<span id="cb101-122"><a href="#cb101-122" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb101-123"><a href="#cb101-123" aria-hidden="true" tabindex="-1"></a>            <span class="co">// 觸發Click事件</span></span>
<span id="cb101-124"><a href="#cb101-124" aria-hidden="true" tabindex="-1"></a>            Click<span class="op">?.</span><span class="fu">Invoke</span><span class="op">(</span><span class="kw">this</span><span class="op">,</span> EventArgs<span class="op">.</span><span class="fu">Empty</span><span class="op">);</span></span>
<span id="cb101-125"><a href="#cb101-125" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb101-126"><a href="#cb101-126" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb101-127"><a href="#cb101-127" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb101-128"><a href="#cb101-128" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">StandardEventExample</span><span class="op">()</span></span>
<span id="cb101-129"><a href="#cb101-129" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb101-130"><a href="#cb101-130" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">標準事件模式示例:"</span><span class="op">);</span></span>
<span id="cb101-131"><a href="#cb101-131" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-132"><a href="#cb101-132" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 創建按鈕</span></span>
<span id="cb101-133"><a href="#cb101-133" aria-hidden="true" tabindex="-1"></a>        Button button <span class="op">=</span> <span class="kw">new</span> <span class="fu">Button</span><span class="op">();</span></span>
<span id="cb101-134"><a href="#cb101-134" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-135"><a href="#cb101-135" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 訂閱Click事件</span></span>
<span id="cb101-136"><a href="#cb101-136" aria-hidden="true" tabindex="-1"></a>        button<span class="op">.</span><span class="fu">Click</span> <span class="op">+=</span> <span class="op">(</span>sender<span class="op">,</span> e<span class="op">)</span> <span class="op">=&gt;</span> <span class="op">{</span></span>
<span id="cb101-137"><a href="#cb101-137" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"處理按鈕點擊事件"</span><span class="op">);</span></span>
<span id="cb101-138"><a href="#cb101-138" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb101-139"><a href="#cb101-139" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-140"><a href="#cb101-140" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 點擊按鈕</span></span>
<span id="cb101-141"><a href="#cb101-141" aria-hidden="true" tabindex="-1"></a>        button<span class="op">.</span><span class="fu">PerformClick</span><span class="op">();</span></span>
<span id="cb101-142"><a href="#cb101-142" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb101-143"><a href="#cb101-143" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb101-144"><a href="#cb101-144" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 示例5: 事件訂閱/取消訂閱</span></span>
<span id="cb101-145"><a href="#cb101-145" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">class</span> NotificationManager</span>
<span id="cb101-146"><a href="#cb101-146" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb101-147"><a href="#cb101-147" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 定義事件</span></span>
<span id="cb101-148"><a href="#cb101-148" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">event</span> EventHandler<span class="op">&lt;</span>MessageEventArgs<span class="op">&gt;</span> NotificationReceived<span class="op">;</span></span>
<span id="cb101-149"><a href="#cb101-149" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-150"><a href="#cb101-150" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 發送通知</span></span>
<span id="cb101-151"><a href="#cb101-151" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="dt">void</span> <span class="fu">SendNotification</span><span class="op">(</span><span class="dt">string</span> message<span class="op">)</span></span>
<span id="cb101-152"><a href="#cb101-152" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb101-153"><a href="#cb101-153" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"發送通知: {message}"</span><span class="op">);</span></span>
<span id="cb101-154"><a href="#cb101-154" aria-hidden="true" tabindex="-1"></a>            NotificationReceived<span class="op">?.</span><span class="fu">Invoke</span><span class="op">(</span><span class="kw">this</span><span class="op">,</span> <span class="kw">new</span> <span class="fu">MessageEventArgs</span><span class="op">(</span>message<span class="op">));</span></span>
<span id="cb101-155"><a href="#cb101-155" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb101-156"><a href="#cb101-156" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb101-157"><a href="#cb101-157" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb101-158"><a href="#cb101-158" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">EventSubscriptionExample</span><span class="op">()</span></span>
<span id="cb101-159"><a href="#cb101-159" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb101-160"><a href="#cb101-160" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">事件訂閱/取消訂閱示例:"</span><span class="op">);</span></span>
<span id="cb101-161"><a href="#cb101-161" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-162"><a href="#cb101-162" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 創建通知管理器</span></span>
<span id="cb101-163"><a href="#cb101-163" aria-hidden="true" tabindex="-1"></a>        NotificationManager manager <span class="op">=</span> <span class="kw">new</span> <span class="fu">NotificationManager</span><span class="op">();</span></span>
<span id="cb101-164"><a href="#cb101-164" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-165"><a href="#cb101-165" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 定義事件處理器</span></span>
<span id="cb101-166"><a href="#cb101-166" aria-hidden="true" tabindex="-1"></a>        EventHandler<span class="op">&lt;</span>MessageEventArgs<span class="op">&gt;</span> handler <span class="op">=</span> <span class="op">(</span>sender<span class="op">,</span> e<span class="op">)</span> <span class="op">=&gt;</span> <span class="op">{</span></span>
<span id="cb101-167"><a href="#cb101-167" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"收到通知: {e.Message}"</span><span class="op">);</span></span>
<span id="cb101-168"><a href="#cb101-168" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb101-169"><a href="#cb101-169" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-170"><a href="#cb101-170" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 訂閱事件</span></span>
<span id="cb101-171"><a href="#cb101-171" aria-hidden="true" tabindex="-1"></a>        manager<span class="op">.</span><span class="fu">NotificationReceived</span> <span class="op">+=</span> handler<span class="op">;</span></span>
<span id="cb101-172"><a href="#cb101-172" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-173"><a href="#cb101-173" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 發送通知</span></span>
<span id="cb101-174"><a href="#cb101-174" aria-hidden="true" tabindex="-1"></a>        manager<span class="op">.</span><span class="fu">SendNotification</span><span class="op">(</span><span class="st">"這是第一條通知"</span><span class="op">);</span></span>
<span id="cb101-175"><a href="#cb101-175" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-176"><a href="#cb101-176" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 取消訂閱</span></span>
<span id="cb101-177"><a href="#cb101-177" aria-hidden="true" tabindex="-1"></a>        manager<span class="op">.</span><span class="fu">NotificationReceived</span> <span class="op">-=</span> handler<span class="op">;</span></span>
<span id="cb101-178"><a href="#cb101-178" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb101-179"><a href="#cb101-179" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 再次發送通知(不會被處理)</span></span>
<span id="cb101-180"><a href="#cb101-180" aria-hidden="true" tabindex="-1"></a>        manager<span class="op">.</span><span class="fu">SendNotification</span><span class="op">(</span><span class="st">"這條通知不會被處理"</span><span class="op">);</span></span>
<span id="cb101-181"><a href="#cb101-181" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb101-182"><a href="#cb101-182" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb101-183"><a href="#cb101-183" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb101-184"><a href="#cb101-184" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb101-185"><a href="#cb101-185" aria-hidden="true" tabindex="-1"></a>        <span class="fu">DelegateExample</span><span class="op">();</span></span>
<span id="cb101-186"><a href="#cb101-186" aria-hidden="true" tabindex="-1"></a>        <span class="fu">PredefinedDelegates</span><span class="op">();</span></span>
<span id="cb101-187"><a href="#cb101-187" aria-hidden="true" tabindex="-1"></a>        <span class="fu">CustomEventExample</span><span class="op">();</span></span>
<span id="cb101-188"><a href="#cb101-188" aria-hidden="true" tabindex="-1"></a>        <span class="fu">StandardEventExample</span><span class="op">();</span></span>
<span id="cb101-189"><a href="#cb101-189" aria-hidden="true" tabindex="-1"></a>        <span class="fu">EventSubscriptionExample</span><span class="op">();</span></span>
<span id="cb101-190"><a href="#cb101-190" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>基本委託示例:
處理消息: Hello World
處理消息: 多播消息
另一個處理器: 多播消息

預定義委託類型示例:
Action: Hello from Action
Func: 5 + 3 = 8
Predicate: 10是偶數? True
偶數: [2, 4, 6, 8, 10]

自定義事件示例:
發布消息: Hello from C# Events!
收到消息: Hello from C# Events! (時間: 2023-07-23 15:45:23)
記錄消息: Hello from C# Events!

標準事件模式示例:
按鈕被點擊
處理按鈕點擊事件

事件訂閱/取消訂閱示例:
發送通知: 這是第一條通知
收到通知: 這是第一條通知
發送通知: 這條通知不會被處理</code></pre>
</section>
<section id="python與c事件模式比較" class="level3">
<h3 class="anchored" data-anchor-id="python與c事件模式比較">Python與C#事件模式比較</h3>
<p>Python和C#在事件處理方面有顯著差異。C#提供了內建的事件系統，而Python需要自行實現類似的機制。以下是兩種語言在事件處理方面的主要比較：</p>
<section id="相似之處-2" class="level4">
<h4 class="anchored" data-anchor-id="相似之處-2">相似之處</h4>
<ol type="1">
<li><strong>觀察者模式</strong>：兩種語言都可以實現觀察者模式，允許對象在狀態改變時通知其他對象。</li>
<li><strong>回調函數</strong>：兩種語言都支持使用回調函數來實現事件處理。</li>
<li><strong>事件參數</strong>：兩種語言都可以在事件處理中傳遞額外的參數。</li>
</ol>
</section>
<section id="差異之處-2" class="level4">
<h4 class="anchored" data-anchor-id="差異之處-2">差異之處</h4>
<ol type="1">
<li><strong>語言支持</strong>：
<ul>
<li>C#內建支持委託和事件，是語言核心部分。</li>
<li>Python沒有內建的事件系統，需要自行實現或使用第三方庫。</li>
</ul></li>
<li><strong>類型安全</strong>：
<ul>
<li>C#的委託是強類型的，編譯時會檢查事件處理器的簽名。</li>
<li>Python的事件處理基於動態類型，運行時才會檢查處理器的兼容性。</li>
</ul></li>
<li><strong>事件聲明</strong>：
<ul>
<li>C#使用<code>event</code>關鍵字聲明事件，並用<code>+=</code>和<code>-=</code>訂閱和取消訂閱。</li>
<li>Python通常使用列表或字典存儲事件處理器，並提供添加和刪除方法。</li>
</ul></li>
<li><strong>標準模式</strong>：
<ul>
<li>C#有標準的事件模式（如<code>EventHandler&lt;T&gt;</code>和<code>EventArgs</code>）。</li>
<li>Python沒有標準的事件模式，實現可能因庫而異。</li>
</ul></li>
<li><strong>多播能力</strong>：
<ul>
<li>C#的委託天生支持多播（調用多個處理器）。</li>
<li>Python需要自行實現多播功能。</li>
</ul></li>
</ol>
</section>
</section>
</section>
<section id="泛型" class="level2">
<h2 class="anchored" data-anchor-id="泛型">泛型</h2>
<section id="python的泛型類型提示" class="level3">
<h3 class="anchored" data-anchor-id="python的泛型類型提示">Python的泛型（類型提示）</h3>
<p>Python從3.5開始通過類型提示（Type Hints）提供泛型支持。雖然Python是動態類型語言，類型提示不會在運行時強制執行，但它們對於靜態代碼分析、編輯器支持和文檔非常有用。</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 導入必要的模塊</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> List, Dict, Optional, TypeVar, Generic, Union, Tuple, Callable</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> generic_types_example():</span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Python泛型（類型提示）示例:"</span>)</span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-7"><a href="#cb103-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 基本類型註解</span></span>
<span id="cb103-8"><a href="#cb103-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> greet(name: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb103-9"><a href="#cb103-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"Hello, </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">!"</span></span>
<span id="cb103-10"><a href="#cb103-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-11"><a href="#cb103-11" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> greet(<span class="st">"World"</span>)</span>
<span id="cb103-12"><a href="#cb103-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(result)</span>
<span id="cb103-13"><a href="#cb103-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-14"><a href="#cb103-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 集合類型註解</span></span>
<span id="cb103-15"><a href="#cb103-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> process_numbers(numbers: List[<span class="bu">int</span>]) <span class="op">-&gt;</span> List[<span class="bu">int</span>]:</span>
<span id="cb103-16"><a href="#cb103-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> [n <span class="op">*</span> <span class="dv">2</span> <span class="cf">for</span> n <span class="kw">in</span> numbers]</span>
<span id="cb103-17"><a href="#cb103-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-18"><a href="#cb103-18" aria-hidden="true" tabindex="-1"></a>    doubled <span class="op">=</span> process_numbers([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>])</span>
<span id="cb103-19"><a href="#cb103-19" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"處理後的數字: </span><span class="sc">{</span>doubled<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb103-20"><a href="#cb103-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-21"><a href="#cb103-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 字典類型註解</span></span>
<span id="cb103-22"><a href="#cb103-22" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> create_user_info(name: <span class="bu">str</span>, age: <span class="bu">int</span>) <span class="op">-&gt;</span> Dict[<span class="bu">str</span>, Union[<span class="bu">str</span>, <span class="bu">int</span>]]:</span>
<span id="cb103-23"><a href="#cb103-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {<span class="st">"name"</span>: name, <span class="st">"age"</span>: age}</span>
<span id="cb103-24"><a href="#cb103-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-25"><a href="#cb103-25" aria-hidden="true" tabindex="-1"></a>    user <span class="op">=</span> create_user_info(<span class="st">"Alice"</span>, <span class="dv">30</span>)</span>
<span id="cb103-26"><a href="#cb103-26" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"用戶信息: </span><span class="sc">{</span>user<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb103-27"><a href="#cb103-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-28"><a href="#cb103-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 可選類型</span></span>
<span id="cb103-29"><a href="#cb103-29" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_middle_name(first_name: <span class="bu">str</span>, middle_name: Optional[<span class="bu">str</span>], last_name: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb103-30"><a href="#cb103-30" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> middle_name:</span>
<span id="cb103-31"><a href="#cb103-31" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="ss">f"</span><span class="sc">{</span>first_name<span class="sc">}</span><span class="ss"> </span><span class="sc">{</span>middle_name<span class="sc">}</span><span class="ss"> </span><span class="sc">{</span>last_name<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb103-32"><a href="#cb103-32" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"</span><span class="sc">{</span>first_name<span class="sc">}</span><span class="ss"> </span><span class="sc">{</span>last_name<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb103-33"><a href="#cb103-33" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-34"><a href="#cb103-34" aria-hidden="true" tabindex="-1"></a>    full_name <span class="op">=</span> get_middle_name(<span class="st">"John"</span>, <span class="va">None</span>, <span class="st">"Doe"</span>)</span>
<span id="cb103-35"><a href="#cb103-35" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"全名: </span><span class="sc">{</span>full_name<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb103-36"><a href="#cb103-36" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-37"><a href="#cb103-37" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 聯合類型</span></span>
<span id="cb103-38"><a href="#cb103-38" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> process_input(value: Union[<span class="bu">str</span>, <span class="bu">int</span>]) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb103-39"><a href="#cb103-39" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">isinstance</span>(value, <span class="bu">int</span>):</span>
<span id="cb103-40"><a href="#cb103-40" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="ss">f"數字: </span><span class="sc">{</span>value<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb103-41"><a href="#cb103-41" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"字符串: </span><span class="sc">{</span>value<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb103-42"><a href="#cb103-42" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-43"><a href="#cb103-43" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(process_input(<span class="dv">42</span>))</span>
<span id="cb103-44"><a href="#cb103-44" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(process_input(<span class="st">"hello"</span>))</span>
<span id="cb103-45"><a href="#cb103-45" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-46"><a href="#cb103-46" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 元組類型</span></span>
<span id="cb103-47"><a href="#cb103-47" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_coordinates() <span class="op">-&gt;</span> Tuple[<span class="bu">float</span>, <span class="bu">float</span>]:</span>
<span id="cb103-48"><a href="#cb103-48" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> (<span class="fl">10.5</span>, <span class="fl">20.7</span>)</span>
<span id="cb103-49"><a href="#cb103-49" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-50"><a href="#cb103-50" aria-hidden="true" tabindex="-1"></a>    coordinates <span class="op">=</span> get_coordinates()</span>
<span id="cb103-51"><a href="#cb103-51" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"坐標: </span><span class="sc">{</span>coordinates<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb103-52"><a href="#cb103-52" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-53"><a href="#cb103-53" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 回調函數類型</span></span>
<span id="cb103-54"><a href="#cb103-54" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> apply_operation(value: <span class="bu">int</span>, operation: Callable[[<span class="bu">int</span>], <span class="bu">int</span>]) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb103-55"><a href="#cb103-55" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> operation(value)</span>
<span id="cb103-56"><a href="#cb103-56" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-57"><a href="#cb103-57" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> apply_operation(<span class="dv">5</span>, <span class="kw">lambda</span> x: x <span class="op">*</span> x)</span>
<span id="cb103-58"><a href="#cb103-58" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"操作結果: </span><span class="sc">{</span>result<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb103-59"><a href="#cb103-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-60"><a href="#cb103-60" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用TypeVar和Generic定義泛型類</span></span>
<span id="cb103-61"><a href="#cb103-61" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> generic_classes():</span>
<span id="cb103-62"><a href="#cb103-62" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Python泛型類示例:"</span>)</span>
<span id="cb103-63"><a href="#cb103-63" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-64"><a href="#cb103-64" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 定義類型變量</span></span>
<span id="cb103-65"><a href="#cb103-65" aria-hidden="true" tabindex="-1"></a>    T <span class="op">=</span> TypeVar(<span class="st">'T'</span>)</span>
<span id="cb103-66"><a href="#cb103-66" aria-hidden="true" tabindex="-1"></a>    K <span class="op">=</span> TypeVar(<span class="st">'K'</span>)</span>
<span id="cb103-67"><a href="#cb103-67" aria-hidden="true" tabindex="-1"></a>    V <span class="op">=</span> TypeVar(<span class="st">'V'</span>)</span>
<span id="cb103-68"><a href="#cb103-68" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-69"><a href="#cb103-69" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 泛型類</span></span>
<span id="cb103-70"><a href="#cb103-70" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> Box(Generic[T]):</span>
<span id="cb103-71"><a href="#cb103-71" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, content: T):</span>
<span id="cb103-72"><a href="#cb103-72" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.content <span class="op">=</span> content</span>
<span id="cb103-73"><a href="#cb103-73" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb103-74"><a href="#cb103-74" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> get_content(<span class="va">self</span>) <span class="op">-&gt;</span> T:</span>
<span id="cb103-75"><a href="#cb103-75" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="va">self</span>.content</span>
<span id="cb103-76"><a href="#cb103-76" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb103-77"><a href="#cb103-77" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> set_content(<span class="va">self</span>, content: T) <span class="op">-&gt;</span> <span class="va">None</span>:</span>
<span id="cb103-78"><a href="#cb103-78" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.content <span class="op">=</span> content</span>
<span id="cb103-79"><a href="#cb103-79" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-80"><a href="#cb103-80" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 使用泛型類</span></span>
<span id="cb103-81"><a href="#cb103-81" aria-hidden="true" tabindex="-1"></a>    int_box <span class="op">=</span> Box[<span class="bu">int</span>](<span class="dv">42</span>)</span>
<span id="cb103-82"><a href="#cb103-82" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"整數盒子內容: </span><span class="sc">{</span>int_box<span class="sc">.</span>get_content()<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb103-83"><a href="#cb103-83" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-84"><a href="#cb103-84" aria-hidden="true" tabindex="-1"></a>    str_box <span class="op">=</span> Box[<span class="bu">str</span>](<span class="st">"Hello World"</span>)</span>
<span id="cb103-85"><a href="#cb103-85" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"字符串盒子內容: </span><span class="sc">{</span>str_box<span class="sc">.</span>get_content()<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb103-86"><a href="#cb103-86" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-87"><a href="#cb103-87" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 多類型參數泛型類</span></span>
<span id="cb103-88"><a href="#cb103-88" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> Pair(Generic[K, V]):</span>
<span id="cb103-89"><a href="#cb103-89" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, key: K, value: V):</span>
<span id="cb103-90"><a href="#cb103-90" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.key <span class="op">=</span> key</span>
<span id="cb103-91"><a href="#cb103-91" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.value <span class="op">=</span> value</span>
<span id="cb103-92"><a href="#cb103-92" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb103-93"><a href="#cb103-93" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> get_key(<span class="va">self</span>) <span class="op">-&gt;</span> K:</span>
<span id="cb103-94"><a href="#cb103-94" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="va">self</span>.key</span>
<span id="cb103-95"><a href="#cb103-95" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb103-96"><a href="#cb103-96" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> get_value(<span class="va">self</span>) <span class="op">-&gt;</span> V:</span>
<span id="cb103-97"><a href="#cb103-97" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="va">self</span>.value</span>
<span id="cb103-98"><a href="#cb103-98" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-99"><a href="#cb103-99" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 使用多類型參數泛型類</span></span>
<span id="cb103-100"><a href="#cb103-100" aria-hidden="true" tabindex="-1"></a>    name_age <span class="op">=</span> Pair[<span class="bu">str</span>, <span class="bu">int</span>](<span class="st">"Alice"</span>, <span class="dv">30</span>)</span>
<span id="cb103-101"><a href="#cb103-101" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"姓名: </span><span class="sc">{</span>name_age<span class="sc">.</span>get_key()<span class="sc">}</span><span class="ss">, 年齡: </span><span class="sc">{</span>name_age<span class="sc">.</span>get_value()<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb103-102"><a href="#cb103-102" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-103"><a href="#cb103-103" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 泛型函數</span></span>
<span id="cb103-104"><a href="#cb103-104" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> first_item(items: List[T]) <span class="op">-&gt;</span> Optional[T]:</span>
<span id="cb103-105"><a href="#cb103-105" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> items[<span class="dv">0</span>] <span class="cf">if</span> items <span class="cf">else</span> <span class="va">None</span></span>
<span id="cb103-106"><a href="#cb103-106" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb103-107"><a href="#cb103-107" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 使用泛型函數</span></span>
<span id="cb103-108"><a href="#cb103-108" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"第一個數字: </span><span class="sc">{</span>first_item([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb103-109"><a href="#cb103-109" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"第一個字符串: </span><span class="sc">{</span>first_item([<span class="st">'apple'</span>, <span class="st">'banana'</span>, <span class="st">'cherry'</span>])<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb103-110"><a href="#cb103-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-111"><a href="#cb103-111" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb103-112"><a href="#cb103-112" aria-hidden="true" tabindex="-1"></a>    generic_types_example()</span>
<span id="cb103-113"><a href="#cb103-113" aria-hidden="true" tabindex="-1"></a>    generic_classes()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>Python泛型（類型提示）示例:
Hello, World!
處理後的數字: [2, 4, 6, 8, 10]
用戶信息: {'name': 'Alice', 'age': 30}
全名: John Doe
數字: 42
字符串: hello
坐標: (10.5, 20.7)
操作結果: 25

Python泛型類示例:
整數盒子內容: 42
字符串盒子內容: Hello World
姓名: Alice, 年齡: 30
第一個數字: 1
第一個字符串: apple</code></pre>
</section>
<section id="c的泛型" class="level3">
<h3 class="anchored" data-anchor-id="c的泛型">C#的泛型</h3>
<p>C#的泛型是語言的核心特性，提供了強類型和高效的通用代碼實現：</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode csharp code-with-copy"><code class="sourceCode cs"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">;</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> System<span class="op">.</span><span class="fu">Collections</span><span class="op">.</span><span class="fu">Generic</span><span class="op">;</span></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Program</span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">GenericMethodsExample</span><span class="op">()</span></span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb105-8"><a href="#cb105-8" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"C#泛型方法示例:"</span><span class="op">);</span></span>
<span id="cb105-9"><a href="#cb105-9" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb105-10"><a href="#cb105-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 泛型方法</span></span>
<span id="cb105-11"><a href="#cb105-11" aria-hidden="true" tabindex="-1"></a>        T Max<span class="op">&lt;</span>T<span class="op">&gt;(</span>T a<span class="op">,</span> T b<span class="op">)</span> where T <span class="op">:</span> IComparable<span class="op">&lt;</span>T<span class="op">&gt;</span></span>
<span id="cb105-12"><a href="#cb105-12" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb105-13"><a href="#cb105-13" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> a<span class="op">.</span><span class="fu">CompareTo</span><span class="op">(</span>b<span class="op">)</span> <span class="op">&gt;</span> <span class="dv">0</span> <span class="op">?</span> a <span class="op">:</span> b<span class="op">;</span></span>
<span id="cb105-14"><a href="#cb105-14" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb105-15"><a href="#cb105-15" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb105-16"><a href="#cb105-16" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用泛型方法</span></span>
<span id="cb105-17"><a href="#cb105-17" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> maxInt <span class="op">=</span> <span class="fu">Max</span><span class="op">(</span><span class="dv">5</span><span class="op">,</span> <span class="dv">10</span><span class="op">);</span></span>
<span id="cb105-18"><a href="#cb105-18" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"較大的整數: {maxInt}"</span><span class="op">);</span></span>
<span id="cb105-19"><a href="#cb105-19" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb105-20"><a href="#cb105-20" aria-hidden="true" tabindex="-1"></a>        <span class="dt">string</span> maxString <span class="op">=</span> <span class="fu">Max</span><span class="op">(</span><span class="st">"apple"</span><span class="op">,</span> <span class="st">"banana"</span><span class="op">);</span></span>
<span id="cb105-21"><a href="#cb105-21" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"字母順序較後的字符串: {maxString}"</span><span class="op">);</span></span>
<span id="cb105-22"><a href="#cb105-22" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb105-23"><a href="#cb105-23" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 泛型方法的擴展</span></span>
<span id="cb105-24"><a href="#cb105-24" aria-hidden="true" tabindex="-1"></a>        <span class="dt">void</span> Swap<span class="op">&lt;</span>T<span class="op">&gt;(</span><span class="kw">ref</span> T a<span class="op">,</span> <span class="kw">ref</span> T b<span class="op">)</span></span>
<span id="cb105-25"><a href="#cb105-25" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb105-26"><a href="#cb105-26" aria-hidden="true" tabindex="-1"></a>            T temp <span class="op">=</span> a<span class="op">;</span></span>
<span id="cb105-27"><a href="#cb105-27" aria-hidden="true" tabindex="-1"></a>            a <span class="op">=</span> b<span class="op">;</span></span>
<span id="cb105-28"><a href="#cb105-28" aria-hidden="true" tabindex="-1"></a>            b <span class="op">=</span> temp<span class="op">;</span></span>
<span id="cb105-29"><a href="#cb105-29" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb105-30"><a href="#cb105-30" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb105-31"><a href="#cb105-31" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用Swap方法</span></span>
<span id="cb105-32"><a href="#cb105-32" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> x <span class="op">=</span> <span class="dv">5</span><span class="op">,</span> y <span class="op">=</span> <span class="dv">10</span><span class="op">;</span></span>
<span id="cb105-33"><a href="#cb105-33" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"交換前: x = {x}, y = {y}"</span><span class="op">);</span></span>
<span id="cb105-34"><a href="#cb105-34" aria-hidden="true" tabindex="-1"></a>        <span class="fu">Swap</span><span class="op">(</span><span class="kw">ref</span> x<span class="op">,</span> <span class="kw">ref</span> y<span class="op">);</span></span>
<span id="cb105-35"><a href="#cb105-35" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"交換後: x = {x}, y = {y}"</span><span class="op">);</span></span>
<span id="cb105-36"><a href="#cb105-36" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb105-37"><a href="#cb105-37" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb105-38"><a href="#cb105-38" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">GenericClassesExample</span><span class="op">()</span></span>
<span id="cb105-39"><a href="#cb105-39" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb105-40"><a href="#cb105-40" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">C#泛型類示例:"</span><span class="op">);</span></span>
<span id="cb105-41"><a href="#cb105-41" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb105-42"><a href="#cb105-42" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用泛型類</span></span>
<span id="cb105-43"><a href="#cb105-43" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> intBox <span class="op">=</span> <span class="kw">new</span> Box<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;(</span><span class="dv">42</span><span class="op">);</span></span>
<span id="cb105-44"><a href="#cb105-44" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"整數盒子內容: {intBox.GetContent()}"</span><span class="op">);</span></span>
<span id="cb105-45"><a href="#cb105-45" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb105-46"><a href="#cb105-46" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> strBox <span class="op">=</span> <span class="kw">new</span> Box<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;(</span><span class="st">"Hello World"</span><span class="op">);</span></span>
<span id="cb105-47"><a href="#cb105-47" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"字符串盒子內容: {strBox.GetContent()}"</span><span class="op">);</span></span>
<span id="cb105-48"><a href="#cb105-48" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb105-49"><a href="#cb105-49" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用多類型參數泛型類</span></span>
<span id="cb105-50"><a href="#cb105-50" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> nameAge <span class="op">=</span> <span class="kw">new</span> Pair<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;(</span><span class="st">"Alice"</span><span class="op">,</span> <span class="dv">30</span><span class="op">);</span></span>
<span id="cb105-51"><a href="#cb105-51" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"姓名: {nameAge.Key}, 年齡: {nameAge.Value}"</span><span class="op">);</span></span>
<span id="cb105-52"><a href="#cb105-52" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb105-53"><a href="#cb105-53" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用泛型集合</span></span>
<span id="cb105-54"><a href="#cb105-54" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> numbers <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> <span class="op">{</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span> <span class="op">};</span></span>
<span id="cb105-55"><a href="#cb105-55" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"數字列表: [{string.Join("</span><span class="op">,</span> <span class="st">", numbers)}]"</span><span class="op">);</span></span>
<span id="cb105-56"><a href="#cb105-56" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb105-57"><a href="#cb105-57" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> dictionary <span class="op">=</span> <span class="kw">new</span> Dictionary<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span></span>
<span id="cb105-58"><a href="#cb105-58" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb105-59"><a href="#cb105-59" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span><span class="st">"apple"</span><span class="op">,</span> <span class="dv">5</span><span class="op">},</span></span>
<span id="cb105-60"><a href="#cb105-60" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span><span class="st">"banana"</span><span class="op">,</span> <span class="dv">10</span><span class="op">},</span></span>
<span id="cb105-61"><a href="#cb105-61" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span><span class="st">"cherry"</span><span class="op">,</span> <span class="dv">15</span><span class="op">}</span></span>
<span id="cb105-62"><a href="#cb105-62" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb105-63"><a href="#cb105-63" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb105-64"><a href="#cb105-64" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"字典內容:"</span><span class="op">);</span></span>
<span id="cb105-65"><a href="#cb105-65" aria-hidden="true" tabindex="-1"></a>        <span class="kw">foreach</span> <span class="op">(</span><span class="dt">var</span> kvp <span class="kw">in</span> dictionary<span class="op">)</span></span>
<span id="cb105-66"><a href="#cb105-66" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb105-67"><a href="#cb105-67" aria-hidden="true" tabindex="-1"></a>            Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"  {kvp.Key}: {kvp.Value}"</span><span class="op">);</span></span>
<span id="cb105-68"><a href="#cb105-68" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb105-69"><a href="#cb105-69" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb105-70"><a href="#cb105-70" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb105-71"><a href="#cb105-71" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">GenericConstraintsExample</span><span class="op">()</span></span>
<span id="cb105-72"><a href="#cb105-72" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb105-73"><a href="#cb105-73" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">C#泛型約束示例:"</span><span class="op">);</span></span>
<span id="cb105-74"><a href="#cb105-74" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb105-75"><a href="#cb105-75" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用結構約束</span></span>
<span id="cb105-76"><a href="#cb105-76" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> calculator <span class="op">=</span> <span class="kw">new</span> Calculator<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;();</span></span>
<span id="cb105-77"><a href="#cb105-77" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> sum <span class="op">=</span> calculator<span class="op">.</span><span class="fu">Add</span><span class="op">(</span><span class="dv">5</span><span class="op">,</span> <span class="dv">10</span><span class="op">);</span></span>
<span id="cb105-78"><a href="#cb105-78" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"整數相加: {sum}"</span><span class="op">);</span></span>
<span id="cb105-79"><a href="#cb105-79" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb105-80"><a href="#cb105-80" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用類約束</span></span>
<span id="cb105-81"><a href="#cb105-81" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> validator <span class="op">=</span> <span class="kw">new</span> Validator<span class="op">&lt;</span>Person<span class="op">&gt;();</span></span>
<span id="cb105-82"><a href="#cb105-82" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> person <span class="op">=</span> <span class="kw">new</span> Person <span class="op">{</span> Name <span class="op">=</span> <span class="st">"John"</span><span class="op">,</span> Age <span class="op">=</span> <span class="dv">30</span> <span class="op">};</span></span>
<span id="cb105-83"><a href="#cb105-83" aria-hidden="true" tabindex="-1"></a>        validator<span class="op">.</span><span class="fu">Validate</span><span class="op">(</span>person<span class="op">);</span></span>
<span id="cb105-84"><a href="#cb105-84" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb105-85"><a href="#cb105-85" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用基類約束</span></span>
<span id="cb105-86"><a href="#cb105-86" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> manager <span class="op">=</span> <span class="kw">new</span> EntityManager<span class="op">&lt;</span>Employee<span class="op">&gt;();</span></span>
<span id="cb105-87"><a href="#cb105-87" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> employee <span class="op">=</span> <span class="kw">new</span> Employee <span class="op">{</span> Id <span class="op">=</span> <span class="dv">1</span><span class="op">,</span> Name <span class="op">=</span> <span class="st">"Alice"</span> <span class="op">};</span></span>
<span id="cb105-88"><a href="#cb105-88" aria-hidden="true" tabindex="-1"></a>        manager<span class="op">.</span><span class="fu">Save</span><span class="op">(</span>employee<span class="op">);</span></span>
<span id="cb105-89"><a href="#cb105-89" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb105-90"><a href="#cb105-90" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用接口約束</span></span>
<span id="cb105-91"><a href="#cb105-91" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> printer <span class="op">=</span> <span class="kw">new</span> Printer<span class="op">&lt;</span>IPrintable<span class="op">&gt;();</span></span>
<span id="cb105-92"><a href="#cb105-92" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> document <span class="op">=</span> <span class="kw">new</span> Document <span class="op">{</span> Content <span class="op">=</span> <span class="st">"Hello World"</span> <span class="op">};</span></span>
<span id="cb105-93"><a href="#cb105-93" aria-hidden="true" tabindex="-1"></a>        printer<span class="op">.</span><span class="fu">Print</span><span class="op">(</span>document<span class="op">);</span></span>
<span id="cb105-94"><a href="#cb105-94" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb105-95"><a href="#cb105-95" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb105-96"><a href="#cb105-96" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">GenericDelegatesExample</span><span class="op">()</span></span>
<span id="cb105-97"><a href="#cb105-97" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb105-98"><a href="#cb105-98" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="st">"</span><span class="sc">\n</span><span class="st">C#泛型委託示例:"</span><span class="op">);</span></span>
<span id="cb105-99"><a href="#cb105-99" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb105-100"><a href="#cb105-100" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用泛型委託</span></span>
<span id="cb105-101"><a href="#cb105-101" aria-hidden="true" tabindex="-1"></a>        Func<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> add <span class="op">=</span> <span class="op">(</span>a<span class="op">,</span> b<span class="op">)</span> <span class="op">=&gt;</span> a <span class="op">+</span> b<span class="op">;</span></span>
<span id="cb105-102"><a href="#cb105-102" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"5 + 3 = {add(5, 3)}"</span><span class="op">);</span></span>
<span id="cb105-103"><a href="#cb105-103" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb105-104"><a href="#cb105-104" aria-hidden="true" tabindex="-1"></a>        Action<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> print <span class="op">=</span> <span class="op">(</span>message<span class="op">)</span> <span class="op">=&gt;</span> Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>message<span class="op">);</span></span>
<span id="cb105-105"><a href="#cb105-105" aria-hidden="true" tabindex="-1"></a>        <span class="fu">print</span><span class="op">(</span><span class="st">"Hello from generic delegate!"</span><span class="op">);</span></span>
<span id="cb105-106"><a href="#cb105-106" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb105-107"><a href="#cb105-107" aria-hidden="true" tabindex="-1"></a>        Predicate<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> isEven <span class="op">=</span> <span class="op">(</span>n<span class="op">)</span> <span class="op">=&gt;</span> n <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb105-108"><a href="#cb105-108" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"10是偶數? {isEven(10)}"</span><span class="op">);</span></span>
<span id="cb105-109"><a href="#cb105-109" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb105-110"><a href="#cb105-110" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 使用自定義泛型委託</span></span>
<span id="cb105-111"><a href="#cb105-111" aria-hidden="true" tabindex="-1"></a>        Converter<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">string</span><span class="op">&gt;</span> intToString <span class="op">=</span> <span class="op">(</span>i<span class="op">)</span> <span class="op">=&gt;</span> $<span class="st">"數字: {i}"</span><span class="op">;</span></span>
<span id="cb105-112"><a href="#cb105-112" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span><span class="fu">intToString</span><span class="op">(</span><span class="dv">42</span><span class="op">));</span></span>
<span id="cb105-113"><a href="#cb105-113" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb105-114"><a href="#cb105-114" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb105-115"><a href="#cb105-115" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span><span class="op">()</span></span>
<span id="cb105-116"><a href="#cb105-116" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb105-117"><a href="#cb105-117" aria-hidden="true" tabindex="-1"></a>        <span class="fu">GenericMethodsExample</span><span class="op">();</span></span>
<span id="cb105-118"><a href="#cb105-118" aria-hidden="true" tabindex="-1"></a>        <span class="fu">GenericClassesExample</span><span class="op">();</span></span>
<span id="cb105-119"><a href="#cb105-119" aria-hidden="true" tabindex="-1"></a>        <span class="fu">GenericConstraintsExample</span><span class="op">();</span></span>
<span id="cb105-120"><a href="#cb105-120" aria-hidden="true" tabindex="-1"></a>        <span class="fu">GenericDelegatesExample</span><span class="op">();</span></span>
<span id="cb105-121"><a href="#cb105-121" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb105-122"><a href="#cb105-122" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb105-123"><a href="#cb105-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-124"><a href="#cb105-124" aria-hidden="true" tabindex="-1"></a><span class="co">// 泛型類示例</span></span>
<span id="cb105-125"><a href="#cb105-125" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Box<span class="op">&lt;</span>T<span class="op">&gt;</span></span>
<span id="cb105-126"><a href="#cb105-126" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb105-127"><a href="#cb105-127" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> T content<span class="op">;</span></span>
<span id="cb105-128"><a href="#cb105-128" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb105-129"><a href="#cb105-129" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="fu">Box</span><span class="op">(</span>T content<span class="op">)</span></span>
<span id="cb105-130"><a href="#cb105-130" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb105-131"><a href="#cb105-131" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">content</span> <span class="op">=</span> content<span class="op">;</span></span>
<span id="cb105-132"><a href="#cb105-132" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb105-133"><a href="#cb105-133" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb105-134"><a href="#cb105-134" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> T <span class="fu">GetContent</span><span class="op">()</span></span>
<span id="cb105-135"><a href="#cb105-135" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb105-136"><a href="#cb105-136" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> content<span class="op">;</span></span>
<span id="cb105-137"><a href="#cb105-137" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb105-138"><a href="#cb105-138" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb105-139"><a href="#cb105-139" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">SetContent</span><span class="op">(</span>T content<span class="op">)</span></span>
<span id="cb105-140"><a href="#cb105-140" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb105-141"><a href="#cb105-141" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">content</span> <span class="op">=</span> content<span class="op">;</span></span>
<span id="cb105-142"><a href="#cb105-142" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb105-143"><a href="#cb105-143" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb105-144"><a href="#cb105-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-145"><a href="#cb105-145" aria-hidden="true" tabindex="-1"></a><span class="co">// 多類型參數泛型類</span></span>
<span id="cb105-146"><a href="#cb105-146" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Pair<span class="op">&lt;</span>TKey<span class="op">,</span> TValue<span class="op">&gt;</span></span>
<span id="cb105-147"><a href="#cb105-147" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb105-148"><a href="#cb105-148" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> TKey Key <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb105-149"><a href="#cb105-149" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> TValue Value <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb105-150"><a href="#cb105-150" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb105-151"><a href="#cb105-151" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="fu">Pair</span><span class="op">(</span>TKey key<span class="op">,</span> TValue value<span class="op">)</span></span>
<span id="cb105-152"><a href="#cb105-152" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb105-153"><a href="#cb105-153" aria-hidden="true" tabindex="-1"></a>        Key <span class="op">=</span> key<span class="op">;</span></span>
<span id="cb105-154"><a href="#cb105-154" aria-hidden="true" tabindex="-1"></a>        Value <span class="op">=</span> value<span class="op">;</span></span>
<span id="cb105-155"><a href="#cb105-155" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb105-156"><a href="#cb105-156" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb105-157"><a href="#cb105-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-158"><a href="#cb105-158" aria-hidden="true" tabindex="-1"></a><span class="co">// 泛型約束示例</span></span>
<span id="cb105-159"><a href="#cb105-159" aria-hidden="true" tabindex="-1"></a><span class="co">// 結構約束</span></span>
<span id="cb105-160"><a href="#cb105-160" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Calculator<span class="op">&lt;</span>T<span class="op">&gt;</span> where T <span class="op">:</span> <span class="kw">struct</span></span>
<span id="cb105-161"><a href="#cb105-161" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb105-162"><a href="#cb105-162" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> T <span class="fu">Add</span><span class="op">(</span>T a<span class="op">,</span> T b<span class="op">)</span></span>
<span id="cb105-163"><a href="#cb105-163" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb105-164"><a href="#cb105-164" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 這裡僅作為示例，實際需要使用動態代碼或針對特定類型實現</span></span>
<span id="cb105-165"><a href="#cb105-165" aria-hidden="true" tabindex="-1"></a>        dynamic da <span class="op">=</span> a<span class="op">;</span></span>
<span id="cb105-166"><a href="#cb105-166" aria-hidden="true" tabindex="-1"></a>        dynamic db <span class="op">=</span> b<span class="op">;</span></span>
<span id="cb105-167"><a href="#cb105-167" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> da <span class="op">+</span> db<span class="op">;</span></span>
<span id="cb105-168"><a href="#cb105-168" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb105-169"><a href="#cb105-169" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb105-170"><a href="#cb105-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-171"><a href="#cb105-171" aria-hidden="true" tabindex="-1"></a><span class="co">// 類約束</span></span>
<span id="cb105-172"><a href="#cb105-172" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Validator<span class="op">&lt;</span>T<span class="op">&gt;</span> where T <span class="op">:</span> <span class="kw">class</span></span>
<span id="cb105-173"><a href="#cb105-173" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb105-174"><a href="#cb105-174" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">Validate</span><span class="op">(</span>T obj<span class="op">)</span></span>
<span id="cb105-175"><a href="#cb105-175" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb105-176"><a href="#cb105-176" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"驗證 {obj.GetType().Name} 對象"</span><span class="op">);</span></span>
<span id="cb105-177"><a href="#cb105-177" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb105-178"><a href="#cb105-178" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb105-179"><a href="#cb105-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-180"><a href="#cb105-180" aria-hidden="true" tabindex="-1"></a><span class="co">// 基類約束</span></span>
<span id="cb105-181"><a href="#cb105-181" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Entity</span>
<span id="cb105-182"><a href="#cb105-182" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb105-183"><a href="#cb105-183" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> Id <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb105-184"><a href="#cb105-184" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb105-185"><a href="#cb105-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-186"><a href="#cb105-186" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Employee <span class="op">:</span> Entity</span>
<span id="cb105-187"><a href="#cb105-187" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb105-188"><a href="#cb105-188" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> Name <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb105-189"><a href="#cb105-189" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb105-190"><a href="#cb105-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-191"><a href="#cb105-191" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> EntityManager<span class="op">&lt;</span>T<span class="op">&gt;</span> where T <span class="op">:</span> Entity</span>
<span id="cb105-192"><a href="#cb105-192" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb105-193"><a href="#cb105-193" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">Save</span><span class="op">(</span>T entity<span class="op">)</span></span>
<span id="cb105-194"><a href="#cb105-194" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb105-195"><a href="#cb105-195" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"保存 {entity.GetType().Name} (ID: {entity.Id})"</span><span class="op">);</span></span>
<span id="cb105-196"><a href="#cb105-196" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb105-197"><a href="#cb105-197" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb105-198"><a href="#cb105-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-199"><a href="#cb105-199" aria-hidden="true" tabindex="-1"></a><span class="co">// 接口約束</span></span>
<span id="cb105-200"><a href="#cb105-200" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IPrintable</span>
<span id="cb105-201"><a href="#cb105-201" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb105-202"><a href="#cb105-202" aria-hidden="true" tabindex="-1"></a>    <span class="dt">string</span> <span class="fu">GetContent</span><span class="op">();</span></span>
<span id="cb105-203"><a href="#cb105-203" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb105-204"><a href="#cb105-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-205"><a href="#cb105-205" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Document <span class="op">:</span> IPrintable</span>
<span id="cb105-206"><a href="#cb105-206" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb105-207"><a href="#cb105-207" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> Content <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb105-208"><a href="#cb105-208" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb105-209"><a href="#cb105-209" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> <span class="fu">GetContent</span><span class="op">()</span></span>
<span id="cb105-210"><a href="#cb105-210" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb105-211"><a href="#cb105-211" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> Content<span class="op">;</span></span>
<span id="cb105-212"><a href="#cb105-212" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb105-213"><a href="#cb105-213" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb105-214"><a href="#cb105-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-215"><a href="#cb105-215" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Printer<span class="op">&lt;</span>T<span class="op">&gt;</span> where T <span class="op">:</span> IPrintable</span>
<span id="cb105-216"><a href="#cb105-216" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb105-217"><a href="#cb105-217" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">Print</span><span class="op">(</span>T document<span class="op">)</span></span>
<span id="cb105-218"><a href="#cb105-218" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb105-219"><a href="#cb105-219" aria-hidden="true" tabindex="-1"></a>        Console<span class="op">.</span><span class="fu">WriteLine</span><span class="op">(</span>$<span class="st">"打印內容: {document.GetContent()}"</span><span class="op">);</span></span>
<span id="cb105-220"><a href="#cb105-220" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb105-221"><a href="#cb105-221" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb105-222"><a href="#cb105-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-223"><a href="#cb105-223" aria-hidden="true" tabindex="-1"></a><span class="co">// 輔助類</span></span>
<span id="cb105-224"><a href="#cb105-224" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Person</span>
<span id="cb105-225"><a href="#cb105-225" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb105-226"><a href="#cb105-226" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> Name <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb105-227"><a href="#cb105-227" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> Age <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> <span class="kw">set</span><span class="op">;</span> <span class="op">}</span></span>
<span id="cb105-228"><a href="#cb105-228" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>輸出結果：</strong></p>
<pre><code>C#泛型方法示例:
較大的整數: 10
字母順序較後的字符串: banana
交換前: x = 5, y = 10
交換後: x = 10, y = 5

C#泛型類示例:
整數盒子內容: 42
字符串盒子內容: Hello World
姓名: Alice, 年齡: 30
數字列表: [1, 2, 3, 4, 5]
字典內容:
  apple: 5
  banana: 10
  cherry: 15

C#泛型約束示例:
整數相加: 15
驗證 Person 對象
保存 Employee (ID: 1)
打印內容: Hello World

C#泛型委託示例:
5 + 3 = 8
Hello from generic delegate!
10是偶數? True
數字: 42</code></pre>
</section>
<section id="python泛型與c泛型比較" class="level3">
<h3 class="anchored" data-anchor-id="python泛型與c泛型比較">Python泛型與C#泛型比較</h3>
<p>Python的類型提示和C#的泛型雖然都提供了參數化類型的能力，但在實現和使用方式上有顯著差異。以下是兩種語言在泛型方面的主要比較：</p>
<section id="相似之處-3" class="level4">
<h4 class="anchored" data-anchor-id="相似之處-3">相似之處</h4>
<ol type="1">
<li><strong>類型參數化</strong>：兩種語言都允許使用類型參數來創建可重用的代碼。</li>
<li><strong>集合類型泛型</strong>：兩種語言都支持集合類型的泛型化（如列表、字典等）。</li>
<li><strong>函數/方法泛型</strong>：兩種語言都支持函數或方法級別的泛型。</li>
</ol>
</section>
<section id="差異之處-3" class="level4">
<h4 class="anchored" data-anchor-id="差異之處-3">差異之處</h4>
<ol type="1">
<li><strong>編譯時類型檢查</strong>：
<ul>
<li>C#的泛型在編譯時進行類型檢查，提供了強類型保證。</li>
<li>Python的類型提示僅用於靜態分析工具，不會在運行時強制執行。</li>
</ul></li>
<li><strong>性能影響</strong>：
<ul>
<li>C#的泛型在運行時具有高效的實現，不會引入額外的性能開銷。</li>
<li>Python的類型提示不影響運行時性能，因為它們在運行時被忽略。</li>
</ul></li>
<li><strong>類型約束</strong>：
<ul>
<li>C#提供了豐富的類型約束系統（如<code>where T : struct</code>、<code>where T : class</code>等）。</li>
<li>Python的類型提示系統相對簡單，但通過<code>Protocol</code>和<code>TypeVar</code>的界限可以實現一些類似的功能。</li>
</ul></li>
<li><strong>語言整合</strong>：
<ul>
<li>C#的泛型是語言的核心特性，與其他語言特性深度集成。</li>
<li>Python的類型提示是後期添加的功能，與語言的動態特性有時會顯得不太協調。</li>
</ul></li>
<li><strong>運行時類型</strong>：
<ul>
<li>C#在運行時保留泛型類型信息。</li>
<li>Python在運行時擦除類型信息，類型提示只在開發時有用。</li>
</ul></li>
</ol>
</section>
</section>
</section>
<section id="總結與資源" class="level2">
<h2 class="anchored" data-anchor-id="總結與資源">總結與資源</h2>
<section id="語言特性比較總結" class="level3">
<h3 class="anchored" data-anchor-id="語言特性比較總結">語言特性比較總結</h3>
<p>經過對Python和C#主要功能的詳細比較，我們可以總結出這兩種語言的主要特性和差異：</p>
<section id="python主要特性" class="level4">
<h4 class="anchored" data-anchor-id="python主要特性">Python主要特性</h4>
<ol type="1">
<li><strong>動態類型</strong>：Python是動態類型語言，不需要顯式聲明變量類型。</li>
<li><strong>簡潔性</strong>：Python的語法簡潔，注重代碼可讀性。</li>
<li><strong>解釋執行</strong>：Python代碼是解釋執行的，無需編譯。</li>
<li><strong>跨平台</strong>：Python可在多種平台上運行，無需修改代碼。</li>
<li><strong>豐富的庫</strong>：Python擁有大量的第三方庫，覆蓋各種應用領域。</li>
<li><strong>多范式支持</strong>：支持面向對象、函數式和過程式編程。</li>
<li><strong>動態特性</strong>：支持動態代碼生成和元編程。</li>
</ol>
</section>
<section id="c主要特性" class="level4">
<h4 class="anchored" data-anchor-id="c主要特性">C#主要特性</h4>
<ol type="1">
<li><strong>靜態類型</strong>：C#是靜態類型語言，需要顯式聲明變量類型（但支持類型推斷）。</li>
<li><strong>強大的類型系統</strong>：泛型、LINQ、異步/等待等先進特性。</li>
<li><strong>編譯執行</strong>：C#代碼編譯成中間語言(IL)，然後在CLR上執行。</li>
<li><strong>.NET生態系統</strong>：緊密集成於.NET框架，提供豐富的類庫。</li>
<li><strong>多平台支持</strong>：通過.NET Core/.NET 5+，支持跨平台開發。</li>
<li><strong>語言集成查詢</strong>：LINQ提供強大的集合查詢能力。</li>
<li><strong>異步編程</strong>：內建的<code>async</code>/<code>await</code>支持。</li>
</ol>
</section>
<section id="主要差異" class="level4">
<h4 class="anchored" data-anchor-id="主要差異">主要差異</h4>
<ol type="1">
<li><strong>類型系統</strong>：Python是動態類型，C#是靜態類型。</li>
<li><strong>性能</strong>：C#通常比Python有更好的執行性能。</li>
<li><strong>開發速度</strong>：Python開發速度通常更快，但大型項目中C#可能有優勢。</li>
<li><strong>生態系統</strong>：Python在數據科學、機器學習領域優勢明顯，C#在企業和Windows應用開發方面更強。</li>
<li><strong>語法風格</strong>：Python使用縮進表示代碼塊，C#使用花括號。</li>
<li><strong>並發模型</strong>：C#的並發模型（多線程、Task）比Python的（GIL限制）更強大。</li>
</ol>
</section>
</section>
<section id="選擇語言的考慮因素" class="level3">
<h3 class="anchored" data-anchor-id="選擇語言的考慮因素">選擇語言的考慮因素</h3>
<p>在選擇Python或C#作為項目開發語言時，可以考慮以下因素：</p>
<ol type="1">
<li><strong>項目類型</strong>：
<ul>
<li>數據分析/科學計算/機器學習: Python</li>
<li>企業級應用/桌面應用/遊戲開發: C#</li>
</ul></li>
<li><strong>團隊背景</strong>：
<ul>
<li>如果團隊有.NET背景，選擇C#</li>
<li>如果團隊有Python背景或多語言背景，可能Python更適合</li>
</ul></li>
<li><strong>性能需求</strong>：
<ul>
<li>高性能計算密集型應用: C#</li>
<li>原型開發或I/O密集型應用: Python</li>
</ul></li>
<li><strong>開發速度</strong>：
<ul>
<li>需要快速開發原型: Python</li>
<li>需要長期維護的大型項目: C#</li>
</ul></li>
<li><strong>平台需求</strong>：
<ul>
<li>跨平台需求: 兩者都可以，但Python可能更便捷</li>
<li>Windows特定功能: C#</li>
</ul></li>
</ol>
</section>
<section id="資源推薦" class="level3">
<h3 class="anchored" data-anchor-id="資源推薦">資源推薦</h3>
<section id="python學習資源" class="level4">
<h4 class="anchored" data-anchor-id="python學習資源">Python學習資源</h4>
<ol type="1">
<li><strong>官方文檔</strong>：<a href="https://docs.python.org/">Python官方文檔</a></li>
<li><strong>線上課程</strong>：
<ul>
<li><a href="https://www.coursera.org/specializations/python">Coursera: Python for Everybody</a></li>
<li><a href="https://www.edx.org/course/introduction-to-python-programming">edX: Introduction to Python Programming</a></li>
</ul></li>
<li><strong>書籍</strong>：
<ul>
<li>《Python編程：從入門到實踐》</li>
<li>《流暢的Python》</li>
<li>《Python Cookbook》</li>
</ul></li>
<li><strong>社區</strong>：
<ul>
<li><a href="https://stackoverflow.com/questions/tagged/python">Stack Overflow</a></li>
<li><a href="https://www.reddit.com/r/Python/">Reddit Python社區</a></li>
</ul></li>
<li><strong>實踐平台</strong>：
<ul>
<li><a href="https://leetcode.com">LeetCode</a></li>
<li><a href="https://www.hackerrank.com/domains/python">HackerRank</a></li>
</ul></li>
</ol>
</section>
<section id="c學習資源" class="level4">
<h4 class="anchored" data-anchor-id="c學習資源">C#學習資源</h4>
<ol type="1">
<li><strong>官方文檔</strong>：<a href="https://docs.microsoft.com/zh-tw/dotnet/csharp/">Microsoft C#文檔</a></li>
<li><strong>線上課程</strong>：
<ul>
<li><a href="https://www.pluralsight.com/paths/csharp">Pluralsight: C#路徑</a></li>
<li><a href="https://www.edx.org/course/introduction-to-c-programming">edX: C#編程入門</a></li>
</ul></li>
<li><strong>書籍</strong>：
<ul>
<li>《C#圖解教程》</li>
<li>《C# in Depth》</li>
<li>《CLR via C#》</li>
</ul></li>
<li><strong>社區</strong>：
<ul>
<li><a href="https://stackoverflow.com/questions/tagged/c%23">Stack Overflow</a></li>
<li><a href="https://www.reddit.com/r/csharp/">Reddit C#社區</a></li>
</ul></li>
<li><strong>實踐平台</strong>：
<ul>
<li><a href="https://leetcode.com">LeetCode</a></li>
<li><a href="https://www.hackerrank.com/domains/tutorials/10-days-of-javascript">HackerRank</a></li>
</ul></li>
</ol>
</section>
</section>
<section id="結語" class="level3">
<h3 class="anchored" data-anchor-id="結語">結語</h3>
<p>Python和C#都是功能強大的編程語言，各有特點和適用場景。Python以其簡潔性和靈活性適合快速開發和數據科學應用，而C#以其強大的類型系統和性能優勢適合企業級應用和系統開發。本教材通過詳細的語法對照和實例，希望幫助讀者快速掌握這兩種語言之間的差異和共同點。</p>
<p>無論選擇哪種語言，深入理解其核心概念和最佳實踐，並結合實際項目經驗，才能真正成為該語言的專家。希望本教材能為讀者在Python和C#的學習和應用中提供有價值的參考。</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>
<script>window.backupDefine = window.define; window.define = undefined;</script>
<script type="text/javascript" src="quarto-preview.js"></script>
<script>window.define = window.backupDefine; window.backupDefine = undefined;</script>
<script type="text/javascript">
  const options = {
    origin: "http://localhost:3901",
    search: "?quartoPreviewReqId=1743439341276&amp;quartoPreviewThemeCategory=dark",
    inputFile: "/Users/ntuacurry/Desktop/side project/md to pdf/hello.qmd",
    isPresentation: false
  }
  document.addEventListener("DOMContentLoaded", function () {
    window.QuartoPreview.init(options);
  });
</script>