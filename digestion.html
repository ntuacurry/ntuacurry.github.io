<!DOCTYPE html>
<html lang="zh-Hant">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>脂解試驗數據記錄</title>
	<!-- Open Graph metadata for link previews -->
	<meta property="og:title" content="脂解試驗數據記錄" />
	<meta property="og:description" content="「知脂為知脂，不脂為不脂，是脂也。」意思是不管怎樣都很胖。" />
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@500&display=swap" rel="stylesheet" />
	<!-- Bootstrap -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
	<!-- Vue 2 -->
	<script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js"></script>
	<!-- Chart.js -->
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<!-- ExcelJS -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/exceljs/4.4.1-prerelease.0/exceljs.min.js"></script>
	<link rel="stylesheet" type="text/css" href="styles_digest.css">
</head>
<body>
	<div id="app">
		<div class="header">脂解試驗數據記錄</div>
		<div class="container">
		<div class="row g-4">
			<!-- 控制區 -->
			<div class="col-md-5">
			<div class="card">
				<div class="card-body">
				<button class="btn btn-lg w-100 mb-3 btn-start" @click="startExperiment" :disabled="experimentStarted">
					{{ startButtonText }}
				</button>
				<button class="btn btn-lg w-100 btn-add-50 mb-2" @click="addNaOH(50)" :disabled="!experimentStarted">
					添加 50 µL NaOH
				</button>
				<button class="btn btn-lg w-100 btn-add-25 mb-2" @click="addNaOH(25)" :disabled="!experimentStarted">
					添加 25 µL NaOH
				</button>
				<button class="btn btn-lg w-100 btn-no-add mb-2" @click="recordNoAdd" :disabled="!experimentStarted">
					什麼都沒加
				</button>
				<button class="btn btn-lg w-100 btn-finish" @click="downloadData" :disabled="!canDownload">
					結束並存檔
				</button>
				<div class="alert mt-3" role="alert">{{ statusMessage }}</div>
				</div>
			</div>
			</div>

			<!-- 圖表區 -->
			<div class="col-md-7">
			<div class="card">
				<div class="card-body">
				<div class="chart-wrapper">
					<canvas ref="chart"></canvas>
				</div>
				</div>
			</div>
			</div>
		</div>
		</div>
		<footer>© 2025 NTUACURRY. All rights reserved.</footer>
	</div>

	<script src="app_digest.js"></script>
</body>
</html>
